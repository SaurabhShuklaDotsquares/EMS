@model UserTechInfoInCRMModel
@{
    ViewBag.Title = "Update All User Technology Info In CRM";
    bool isPMUser = CurrentUser.RoleId == (int)EMS.Core.Enums.UserRoles.PM;
    int currentUserId = CurrentUser.Uid;
}

    <style>
        .status_inprogress {
            background: orange;
            color: white;
            font-weight: bold;
        }
        
        .status_fail {
            background: red;
            color: white;
            font-weight: bold;
        }
        .status_success {
            background: green;
            color: white;
            font-weight: bold;
        }

    </style>

<div class="main_content clearfix">
    <div class="full-wdth clearfix padding20">

        @Html.Partial("_Notification")
        <div class="box">
            <div class="timesheet-page full-wdth clearfix">
                <div class="dis-block clearfix">
                    <h2 class="pull-left">
                        Update All User Technology Info In CRM
                    </h2>
                    @if (CurrentUser.IsSuperAdmin || true)
                    {
                        <div class="pull-right"><a class="btn  btn-custom pull-right orange pull-right" id="btn_Request">Update All Users Technology Info In CRM</a></div>
                    }
                </div>
                <!-- /.box-header -->
                <div class="box-body " style="padding-top: 20px;">
                    <section id="no-more-tables">
                        <table class="table table-stats">
                            <thead>
                                <tr>
                                    <th width="5%">Sr. No.</th>
                                    <th width="10%">User Id</th>
                                    <th width="15%">User Name</th>
                                    <th width="15%">Email Office</th>
                                    <th width="15%">User PM Name</th>
                                    <th width="40%">Result From CRM API</th>
                                </tr>
                            </thead>
                            <tbody>
                                @{
                                    int i = 1;
                                    foreach (var item in Model.data)
                                    {
                                        <tr>
                                            <td width="5%">@(i++)</td>
                                            <td width="10%" name="UID_@item.Uid"><label class="classUid" >@item.Uid</label></td>
                                            <td width="15%">@Html.Raw(item.UserName)</td>
                                            <td width="15%">@Html.Raw(item.EmailOffice)</td>
                                            <td width="15%">@Html.Raw(item.UserPMName)</td>
                                            <td width="40%" name="ResultFromCRM_TD_@item.Uid" id="ResultFromCRM_TD_@item.Uid"><label name="ResultFromCRM_@item.Uid" id="ResultFromCRM_@item.Uid"> @Html.Raw(item.ResultFromCRM)</label></td>
                                        </tr>
                                    }
                                }
                                @if (Model.data.Count == 0)
                                {
                                    <tr><td colspan="6" class="text-center">No Record Found.</td></tr>
                                }
                            </tbody>
                        </table>

                    </section>
                </div>
                <!-- /.box-body -->
            </div>
        </div>
    </div>
</div>
@section scripts
{
    <script src="~/Scripts/CustomJS/UpdateAllUserTechInfoInCRM.js"></script>
}


