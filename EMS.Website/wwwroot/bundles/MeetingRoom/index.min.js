//! moment.js
//! version : 2.18.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function t(){return we.apply(null,arguments)}function bo(n){we=n}function tt(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function si(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function ko(n){for(var t in n)return!1;return!0}function p(n){return void 0===n}function dt(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function bi(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function rf(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function l(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function vt(n,t){for(var i in t)l(t,i)&&(n[i]=t[i]);return l(t,"toString")&&(n.toString=t.toString),l(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ut(n,t,i,r){return te(n,t,i,r,!0).utc()}function go(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function u(n){return null==n._pf&&(n._pf=go()),n._pf}function yr(n){if(null==n._isValid){var t=u(n),r=oy.call(t.parsedDateParts,function(n){return null!=n}),i=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(n._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function ki(n){var t=ut(NaN);return null!=n?vt(u(t),n):u(t).userInvalidated=!0,t}function pr(n,t){var i,r,f;if(p(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),p(t._i)||(n._i=t._i),p(t._f)||(n._f=t._f),p(t._l)||(n._l=t._l),p(t._strict)||(n._strict=t._strict),p(t._tzm)||(n._tzm=t._tzm),p(t._isUTC)||(n._isUTC=t._isUTC),p(t._offset)||(n._offset=t._offset),p(t._pf)||(n._pf=u(t)),p(t._locale)||(n._locale=t._locale),lu.length>0)for(i=0;i<lu.length;i++)r=lu[i],f=t[r],p(f)||(n[r]=f);return n}function hi(n){pr(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));au===!1&&(au=!0,t.updateOffset(this),au=!1)}function yt(n){return n instanceof hi||null!=n&&null!=n._isAMomentObject}function d(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function f(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=d(t)),i}function uf(n,t,i){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),u=0,r=0;r<e;r++)(i&&n[r]!==t[r]||!i&&f(n[r])!==f(t[r]))&&u++;return u+o}function ff(n){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function g(n,i){var r=!0;return vt(function(){var u,e,f,o;if(null!=t.deprecationHandler&&t.deprecationHandler(null,n),r){for(e=[],f=0;f<arguments.length;f++){if(u="","object"==typeof arguments[f]){u+="\n["+f+"] ";for(o in arguments[0])u+=o+": "+arguments[0][o]+", ";u=u.slice(0,-2)}else u=arguments[f];e.push(u)}ff(n+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack);r=!1}return i.apply(this,arguments)},i)}function ef(n,i){null!=t.deprecationHandler&&t.deprecationHandler(n,i);ke[n]||(ff(i),ke[n]=!0)}function ft(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function ns(n){var t;for(var i in n)t=n[i],ft(t)?this[i]=t:this["_"+i]=t;this._config=n;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function of(n,t){var i,r=vt({},n);for(i in t)l(t,i)&&(si(n[i])&&si(t[i])?(r[i]={},vt(r[i],n[i]),vt(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in n)l(n,i)&&!l(t,i)&&si(n[i])&&(r[i]=vt({},r[i]));return r}function wr(n){null!=n&&this.set(n)}function ts(n,t,i){var r=this._calendar[n]||this._calendar.sameElse;return ft(r)?r.call(t,i):r}function is(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function rs(){return this._invalidDate}function us(n){return this._ordinal.replace("%d",n)}function fs(n,t,i,r){var u=this._relativeTime[i];return ft(u)?u(n,t,i,r):u.replace(/%d/i,n)}function es(n,t){var i=this._relativeTime[n>0?"future":"past"];return ft(i)?i(t):i.replace(/%s/i,t)}function w(n,t){var i=n.toLowerCase();vi[i]=vi[i+"s"]=vi[t]=n}function nt(n){if("string"==typeof n)return vi[n]||vi[n.toLowerCase()]}function br(n){var i,t,r={};for(t in n)l(n,t)&&(i=nt(t),i&&(r[i]=n[t]));return r}function b(n,t){no[n]=t}function os(n){var t=[];for(var i in n)t.push({unit:i,priority:no[i]});return t.sort(function(n,t){return n.priority-t.priority}),t}function ui(n,i){return function(r){return null!=r?(sf(this,n,r),t.updateOffset(this,i),this):di(this,n)}}function di(n,t){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+t]():NaN}function sf(n,t,i){n.isValid()&&n._d["set"+(n._isUTC?"UTC":"")+t](i)}function ss(n){return n=nt(n),ft(this[n])?this[n]():this}function hs(n,t){if("object"==typeof n){n=br(n);for(var r=os(n),i=0;i<r.length;i++)this[r[i].unit](n[r[i].unit])}else if(n=nt(n),ft(this[n]))return this[n](t);return this}function ht(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(oi[n]=u);t&&(oi[t[0]]=function(){return ht(u.apply(this,arguments),t[1],t[2])});i&&(oi[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function cs(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ls(n){for(var t=n.match(to),i=0,r=t.length;i<r;i++)t[i]=oi[t[i]]?oi[t[i]]:cs(t[i]);return function(i){for(var f="",u=0;u<r;u++)f+=ft(t[u])?t[u].call(i,n):t[u];return f}}function kr(n,t){return n.isValid()?(t=hf(t,n.localeData()),vu[t]=vu[t]||ls(t),vu[t](n)):n.localeData().invalidDate()}function hf(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(er.lastIndex=0;i>=0&&er.test(n);)n=n.replace(er,r),er.lastIndex=0,i-=1;return n}function i(n,t,i){wu[n]=ft(t)?t:function(n){return n&&i?i:t}}function as(n,t){return l(wu,n)?wu[n](t._strict,t._locale):new RegExp(vs(n))}function vs(n){return gt(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}))}function gt(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),dt(t)&&(r=function(n,i){i[t]=f(n)}),i=0;i<n.length;i++)bu[n[i]]=r}function ci(n,t){s(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function ys(n,t,i){null!=t&&l(bu,n)&&bu[n](t,i._a,i,n)}function dr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function ps(n,t){return n?tt(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||eo).test(t)?"format":"standalone"][n.month()]:tt(this._months)?this._months:this._months.standalone}function ws(n,t){return n?tt(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[eo.test(t)?"format":"standalone"][n.month()]:tt(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function bs(n,t,i){var u,r,e,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)e=ut([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(e,"").toLocaleLowerCase();return i?"MMM"===t?(r=y.call(this._shortMonthsParse,f),r!==-1?r:null):(r=y.call(this._longMonthsParse,f),r!==-1?r:null):"MMM"===t?(r=y.call(this._shortMonthsParse,f),r!==-1?r:(r=y.call(this._longMonthsParse,f),r!==-1?r:null)):(r=y.call(this._longMonthsParse,f),r!==-1?r:(r=y.call(this._shortMonthsParse,f),r!==-1?r:null))}function ks(n,t,i){var r,u,f;if(this._monthsParseExact)return bs.call(this,n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if((u=ut([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function cf(n,t){var i;if(!n.isValid())return n;if("string"==typeof t)if(/^\d+$/.test(t))t=f(t);else if(t=n.localeData().monthsParse(t),!dt(t))return n;return i=Math.min(n.date(),dr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n}function lf(n){return null!=n?(cf(this,n),t.updateOffset(this,!0),this):di(this,"Month")}function ds(){return dr(this.year(),this.month())}function gs(n){return this._monthsParseExact?(l(this,"_monthsRegex")||af.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=yy),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function nh(n){return this._monthsParseExact?(l(this,"_monthsRegex")||af.call(this),n?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=py),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function af(){function f(n,t){return t.length-n.length}for(var i,r=[],u=[],t=[],n=0;n<12;n++)i=ut([2e3,n]),r.push(this.monthsShort(i,"")),u.push(this.months(i,"")),t.push(this.months(i,"")),t.push(this.monthsShort(i,""));for(r.sort(f),u.sort(f),t.sort(f),n=0;n<12;n++)r[n]=gt(r[n]),u[n]=gt(u[n]);for(n=0;n<24;n++)t[n]=gt(t[n]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function li(n){return vf(n)?366:365}function vf(n){return n%4==0&&n%100!=0||n%400==0}function th(){return vf(this.year())}function ih(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<100&&n>=0&&isFinite(o.getFullYear())&&o.setFullYear(n),o}function gi(n){var t=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n),t}function nr(n,t,i){var r=7+t-i,u=(7+gi(n,0,r).getUTCDay()-t)%7;return-u+r-1}function yf(n,t,i,r,u){var f,o,s=(7+i-r)%7,h=nr(n,r,u),e=1+7*(t-1)+s+h;return e<=0?(f=n-1,o=li(f)+e):e>li(n)?(f=n+1,o=e-li(n)):(f=n,o=e),{year:f,dayOfYear:o}}function ai(n,t,i){var f,r,e=nr(n.year(),t,i),u=Math.floor((n.dayOfYear()-e-1)/7)+1;return u<1?(r=n.year()-1,f=u+ni(r,t,i)):u>ni(n.year(),t,i)?(f=u-ni(n.year(),t,i),r=n.year()+1):(r=n.year(),f=u),{week:f,year:r}}function ni(n,t,i){var r=nr(n,t,i),u=nr(n+1,t,i);return(li(n)-r+u)/7}function rh(n){return ai(n,this._week.dow,this._week.doy).week}function uh(){return this._week.dow}function fh(){return this._week.doy}function eh(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function oh(n){var t=ai(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function sh(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function hh(n,t){return"string"==typeof n?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function ch(n,t){return n?tt(this._weekdays)?this._weekdays[n.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][n.day()]:tt(this._weekdays)?this._weekdays:this._weekdays.standalone}function lh(n){return n?this._weekdaysShort[n.day()]:this._weekdaysShort}function ah(n){return n?this._weekdaysMin[n.day()]:this._weekdaysMin}function vh(n,t,i){var f,r,e,u=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)e=ut([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(e,"").toLocaleLowerCase();return i?"dddd"===t?(r=y.call(this._weekdaysParse,u),r!==-1?r:null):"ddd"===t?(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:null):(r=y.call(this._minWeekdaysParse,u),r!==-1?r:null):"dddd"===t?(r=y.call(this._weekdaysParse,u),r!==-1?r:(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:(r=y.call(this._minWeekdaysParse,u),r!==-1?r:null))):"ddd"===t?(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:(r=y.call(this._weekdaysParse,u),r!==-1?r:(r=y.call(this._minWeekdaysParse,u),r!==-1?r:null))):(r=y.call(this._minWeekdaysParse,u),r!==-1?r:(r=y.call(this._weekdaysParse,u),r!==-1?r:(r=y.call(this._shortWeekdaysParse,u),r!==-1?r:null)))}function yh(n,t,i){var r,u,f;if(this._weekdaysParseExact)return vh.call(this,n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if((u=ut([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(u,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(u,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(u,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(f="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[r]=new RegExp(f.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[r].test(n))||i&&"ddd"===t&&this._shortWeekdaysParse[r].test(n)||i&&"dd"===t&&this._minWeekdaysParse[r].test(n)||!i&&this._weekdaysParse[r].test(n))return r}function ph(n){if(!this.isValid())return null!=n?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=sh(n,this.localeData()),this.add(n-t,"d")):t}function wh(n){if(!this.isValid())return null!=n?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function bh(n){if(!this.isValid())return null!=n?this:NaN;if(null!=n){var t=hh(n,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function kh(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||gr.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=dy),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function dh(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||gr.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gy),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function gh(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||gr.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=np),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function gr(){function u(n,t){return t.length-n.length}for(var f,e,o,s,h=[],i=[],r=[],t=[],n=0;n<7;n++)f=ut([2e3,1]).day(n),e=this.weekdaysMin(f,""),o=this.weekdaysShort(f,""),s=this.weekdays(f,""),h.push(e),i.push(o),r.push(s),t.push(e),t.push(o),t.push(s);for(h.sort(u),i.sort(u),r.sort(u),t.sort(u),n=0;n<7;n++)i[n]=gt(i[n]),r[n]=gt(r[n]),t[n]=gt(t[n]);this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function nu(){return this.hours()%12||12}function nc(){return this.hours()||24}function pf(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function wf(n,t){return t._meridiemParse}function tc(n){return"p"===(n+"").toLowerCase().charAt(0)}function ic(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function bf(n){return n?n.toLowerCase().replace("_","-"):n}function rc(n){for(var i,t,f,r,u=0;u<n.length;){for(r=bf(n[u]).split("-"),i=r.length,t=bf(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=kf(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&uf(r,t,!0)>=i-1)break;i--}u++}return null}function kf(n){var t=null;if(!a[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=ar._abbr;require("./locale/"+n);fi(t)}catch(n){}return a[n]}function fi(n,t){var i;return n&&(i=p(t)?pt(n):tu(n,t),i&&(ar=i)),ar._abbr}function tu(n,t){if(null!==t){var i=so;if(t.abbr=n,null!=a[n])ef("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=a[n]._config;else if(null!=t.parentLocale){if(null==a[t.parentLocale])return pi[t.parentLocale]||(pi[t.parentLocale]=[]),pi[t.parentLocale].push({name:n,config:t}),null;i=a[t.parentLocale]._config}return a[n]=new wr(of(i,t)),pi[n]&&pi[n].forEach(function(n){tu(n.name,n.config)}),fi(n),a[n]}return delete a[n],null}function uc(n,t){if(null!=t){var i,r=so;null!=a[n]&&(r=a[n]._config);t=of(r,t);i=new wr(t);i.parentLocale=a[n];a[n]=i;fi(n)}else null!=a[n]&&(null!=a[n].parentLocale?a[n]=a[n].parentLocale:null!=a[n]&&delete a[n]);return a[n]}function pt(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return ar;if(!tt(n)){if(t=kf(n))return t;n=[n]}return rc(n)}function fc(){return sy(a)}function iu(n){var i,t=n._a;return t&&u(n).overflow===-2&&(i=t[ct]<0||t[ct]>11?ct:t[ot]<1||t[ot]>dr(t[it],t[ct])?ot:t[v]<0||t[v]>24||24===t[v]&&(0!==t[rt]||0!==t[lt]||0!==t[ri])?v:t[rt]<0||t[rt]>59?rt:t[lt]<0||t[lt]>59?lt:t[ri]<0||t[ri]>999?ri:-1,u(n)._overflowDayOfYear&&(i<it||i>ot)&&(i=ot),u(n)._overflowWeeks&&i===-1&&(i=cy),u(n)._overflowWeekday&&i===-1&&(i=ly),u(n).overflow=i),n}function df(n){var t,r,o,e,f,s,h=n._i,i=ip.exec(h)||rp.exec(h);if(i){for(u(n).iso=!0,t=0,r=vr.length;t<r;t++)if(vr[t][1].exec(i[1])){e=vr[t][0];o=vr[t][2]!==!1;break}if(null==e)return void(n._isValid=!1);if(i[3]){for(t=0,r=du.length;t<r;t++)if(du[t][1].exec(i[3])){f=(i[2]||" ")+du[t][0];break}if(null==f)return void(n._isValid=!1)}if(!o&&null!=f)return void(n._isValid=!1);if(i[4]){if(!up.exec(i[4]))return void(n._isValid=!1);s="Z"}n._f=e+(f||"")+(s||"");tr(n)}else n._isValid=!1}function gf(n){var f,t,e,o,s,h,i,r,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},l,a;if(f=n._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),t=ep.exec(f)){if((e=t[1]?"ddd"+(5===t[1].length?", ":" "):"",o="D MMM "+(t[2].length>10?"YYYY ":"YY "),s="HH:mm"+(t[4]?":ss":""),t[1])&&(l=new Date(t[2]),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()],t[1].substr(0,3)!==a))return u(n).weekdayMismatch=!0,void(n._isValid=!1);switch(t[5].length){case 2:0===r?i=" +0000":(r="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(t[5][1].toUpperCase())-12,i=(r<0?" -":" +")+(""+r).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:i=c[t[5]];break;default:i=c[" GMT"]}t[5]=i;n._i=t.splice(1).join("");h=" ZZ";n._f=e+o+s+h;tr(n);u(n).rfc2822=!0}else n._isValid=!1}function ec(n){var i=fp.exec(n._i);return null!==i?void(n._d=new Date(+i[1])):(df(n),void(n._isValid===!1&&(delete n._isValid,gf(n),n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n)))))}function ei(n,t,i){return null!=n?n:null!=t?t:i}function oc(n){var i=new Date(t.now());return n._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ru(n){var t,i,r,f,e=[];if(!n._d){for(r=oc(n),n._w&&null==n._a[ot]&&null==n._a[ct]&&sc(n),null!=n._dayOfYear&&(f=ei(n._a[it],r[it]),(n._dayOfYear>li(f)||0===n._dayOfYear)&&(u(n)._overflowDayOfYear=!0),i=gi(f,0,n._dayOfYear),n._a[ct]=i.getUTCMonth(),n._a[ot]=i.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=r[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[v]&&0===n._a[rt]&&0===n._a[lt]&&0===n._a[ri]&&(n._nextDay=!0,n._a[v]=0);n._d=(n._useUTC?gi:ih).apply(null,e);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[v]=24)}}function sc(n){var t,o,f,i,r,e,h,s,l;(t=n._w,null!=t.GG||null!=t.W||null!=t.E)?(r=1,e=4,o=ei(t.GG,n._a[it],ai(c(),1,4).year),f=ei(t.W,1),i=ei(t.E,1),(i<1||i>7)&&(s=!0)):(r=n._locale._week.dow,e=n._locale._week.doy,l=ai(c(),r,e),o=ei(t.gg,n._a[it],l.year),f=ei(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(s=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(s=!0)):i=r);f<1||f>ni(o,r,e)?u(n)._overflowWeeks=!0:null!=s?u(n)._overflowWeekday=!0:(h=yf(o,f,i,r,e),n._a[it]=h.year,n._dayOfYear=h.dayOfYear)}function tr(n){if(n._f===t.ISO_8601)return void df(n);if(n._f===t.RFC_2822)return void gf(n);n._a=[];u(n).empty=!0;for(var i,f,s,r=""+n._i,c=r.length,h=0,o=hf(n._f,n._locale).match(to)||[],e=0;e<o.length;e++)f=o[e],i=(r.match(as(f,n))||[])[0],i&&(s=r.substr(0,r.indexOf(i)),s.length>0&&u(n).unusedInput.push(s),r=r.slice(r.indexOf(i)+i.length),h+=i.length),oi[f]?(i?u(n).empty=!1:u(n).unusedTokens.push(f),ys(f,i,n)):n._strict&&!i&&u(n).unusedTokens.push(f);u(n).charsLeftOver=c-h;r.length>0&&u(n).unusedInput.push(r);n._a[v]<=12&&u(n).bigHour===!0&&n._a[v]>0&&(u(n).bigHour=void 0);u(n).parsedDateParts=n._a.slice(0);u(n).meridiem=n._meridiem;n._a[v]=hc(n._locale,n._a[v],n._meridiem);ru(n);iu(n)}function hc(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function cc(n){var t,e,f,r,i;if(0===n._f.length)return u(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=pr({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],tr(t),yr(t)&&(i+=u(t).charsLeftOver,i+=10*u(t).unusedTokens.length,u(t).score=i,(null==f||i<f)&&(f=i,e=t));vt(n,e||t)}function lc(n){if(!n._d){var t=br(n._i);n._a=rf([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)});ru(n)}}function ac(n){var t=new hi(iu(ne(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ne(n){var t=n._i,i=n._f;return n._locale=n._locale||pt(n._l),null===t||void 0===i&&""===t?ki({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),yt(t)?new hi(iu(t)):(bi(t)?n._d=t:tt(i)?cc(n):i?tr(n):vc(n),yr(n)||(n._d=null),n))}function vc(n){var i=n._i;p(i)?n._d=new Date(t.now()):bi(i)?n._d=new Date(i.valueOf()):"string"==typeof i?ec(n):tt(i)?(n._a=rf(i.slice(0),function(n){return parseInt(n,10)}),ru(n)):si(i)?lc(n):dt(i)?n._d=new Date(i):t.createFromInputFallback(n)}function te(n,t,i,r,u){var f={};return i!==!0&&i!==!1||(r=i,i=void 0),(si(n)&&ko(n)||tt(n)&&0===n.length)&&(n=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,ac(f)}function c(n,t,i,r){return te(n,t,i,r,!1)}function ie(n,t){var r,i;if(1===t.length&&tt(t[0])&&(t=t[0]),!t.length)return c();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][n](r)||(r=t[i]);return r}function yc(){var n=[].slice.call(arguments,0);return ie("isBefore",n)}function pc(){var n=[].slice.call(arguments,0);return ie("isAfter",n)}function wc(n){var i,r,t;for(i in n)if(wi.indexOf(i)===-1||null!=n[i]&&isNaN(n[i]))return!1;for(r=!1,t=0;t<wi.length;++t)if(n[wi[t]]){if(r)return!1;parseFloat(n[wi[t]])!==f(n[wi[t]])&&(r=!0)}return!0}function bc(){return this._isValid}function kc(){return et(NaN)}function ir(n){var t=br(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._isValid=wc(t);this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=pt();this._bubble()}function uu(n){return n instanceof ir}function fu(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function re(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+ht(~~(n/60),2)+t+ht(~~n%60,2)})}function eu(n,t){var i=(t||"").match(n);if(null===i)return null;var e=i[i.length-1]||[],r=(e+"").match(ho)||["-",0,0],u=+(60*r[1])+f(r[2]);return 0===u?0:"+"===r[0]?u:-u}function ou(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(yt(n)||bi(n)?n.valueOf():c(n).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+u),t.updateOffset(r,!1),r):c(n).local()}function su(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function dc(n,i,r){var u,f=this._offset||0;if(!this.isValid())return null!=n?this:NaN;if(null!=n){if("string"==typeof n){if(n=eu(lr,n),null===n)return this}else Math.abs(n)<16&&!r&&(n=60*n);return!this._isUTC&&i&&(u=su(this)),this._offset=n,this._isUTC=!0,null!=u&&this.add(u,"m"),f!==n&&(!i||this._changeInProgress?oe(this,et(n-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:su(this)}function gc(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function nl(n){return this.utcOffset(0,n)}function tl(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(su(this),"m")),this}function il(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var n=eu(hy,this._i);null!=n?this.utcOffset(n):this.utcOffset(0,!0)}return this}function rl(n){return!!this.isValid()&&(n=n?c(n).utcOffset():0,(this.utcOffset()-n)%60==0)}function ul(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fl(){var n,t;return p(this._isDSTShifted)?(n={},(pr(n,this),n=ne(n),n._a)?(t=n._isUTC?ut(n._a):c(n._a),this._isDSTShifted=this.isValid()&&uf(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted}function el(){return!!this.isValid()&&!this._isUTC}function ol(){return!!this.isValid()&&this._isUTC}function ue(){return!!this.isValid()&&this._isUTC&&0===this._offset}function et(n,t){var u,e,o,i=n,r=null;return uu(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:dt(n)?(i={},t?i[t]=n:i.milliseconds=n):(r=co.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:f(r[ot])*u,h:f(r[v])*u,m:f(r[rt])*u,s:f(r[lt])*u,ms:f(fu(1e3*r[ri]))*u}):(r=lo.exec(n))?(u="-"===r[1]?-1:1,i={y:ti(r[2],u),M:ti(r[3],u),w:ti(r[4],u),d:ti(r[5],u),h:ti(r[6],u),m:ti(r[7],u),s:ti(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=sl(c(i.from),c(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),e=new ir(i),uu(n)&&l(n,"_locale")&&(e._locale=n._locale),e}function ti(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function fe(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function sl(n,t){var i;return n.isValid()&&t.isValid()?(t=ou(t,n),n.isBefore(t)?i=fe(n,t):(i=fe(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ee(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(ef(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=et(i,r),oe(this,u,n),this}}function oe(n,i,r,u){var o=i._milliseconds,f=fu(i._days),e=fu(i._months);n.isValid()&&(u=null==u||u,o&&n._d.setTime(n._d.valueOf()+o*r),f&&sf(n,"Date",di(n,"Date")+f*r),e&&cf(n,di(n,"Month")+e*r),u&&t.updateOffset(n,f||e))}function hl(n,t){var i=n.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function cl(n,i){var u=n||c(),f=ou(u,this).startOf("day"),r=t.calendarFormat(this,f)||"sameElse",e=i&&(ft(i[r])?i[r].call(this,u):i[r]);return this.format(e||this.localeData().calendar(r,this,c(u)))}function ll(){return new hi(this)}function al(n,t){var i=yt(n)?n:c(n);return!(!this.isValid()||!i.isValid())&&(t=nt(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function vl(n,t){var i=yt(n)?n:c(n);return!(!this.isValid()||!i.isValid())&&(t=nt(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function yl(n,t,i,r){return r=r||"()",("("===r[0]?this.isAfter(n,i):!this.isBefore(n,i))&&(")"===r[1]?this.isBefore(t,i):!this.isAfter(t,i))}function pl(n,t){var i,r=yt(n)?n:c(n);return!(!this.isValid()||!r.isValid())&&(t=nt(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function wl(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function bl(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function kl(n,t,i){var f,e,r,u;return this.isValid()?(f=ou(n,this),f.isValid()?(e=6e4*(f.utcOffset()-this.utcOffset()),t=nt(t),"year"===t||"month"===t||"quarter"===t?(u=dl(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:d(u)):NaN):NaN}function dl(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return t-i<0?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)||0}function gl(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function na(){if(!this.isValid())return null;var n=this.clone().utc();return n.year()<0||n.year()>9999?kr(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ft(Date.prototype.toISOString)?this.toDate().toISOString():kr(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ta(){var n,t;if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";n="moment";t="";this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u=t+'[")]';return this.format(i+r+"-MM-DD[T]HH:mm:ss.SSS"+u)}function ia(n){n||(n=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=kr(this,n);return this.localeData().postformat(i)}function ra(n,t){return this.isValid()&&(yt(n)&&n.isValid()||c(n).isValid())?et({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ua(n){return this.from(c(),n)}function fa(n,t){return this.isValid()&&(yt(n)&&n.isValid()||c(n).isValid())?et({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ea(n){return this.to(c(),n)}function se(n){var t;return void 0===n?this._locale._abbr:(t=pt(n),null!=t&&(this._locale=t),this)}function he(){return this._locale}function oa(n){switch(n=nt(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function sa(n){return n=nt(n),void 0===n||"millisecond"===n?this:("date"===n&&(n="day"),this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms"))}function ha(){return this._d.valueOf()-6e4*(this._offset||0)}function ca(){return Math.floor(this.valueOf()/1e3)}function la(){return new Date(this.valueOf())}function aa(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function va(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function ya(){return this.isValid()?this.toISOString():null}function pa(){return yr(this)}function wa(){return vt({},u(this))}function ba(){return u(this).overflow}function ka(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function rr(n,t){r(0,[n,n.length],0,t)}function da(n){return ce.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ga(n){return ce.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function nv(){return ni(this.year(),1,4)}function tv(){var n=this.localeData()._week;return ni(this.year(),n.dow,n.doy)}function ce(n,t,i,r,u){var f;return null==n?ai(this,r,u).year:(f=ni(n,r,u),t>f&&(t=f),iv.call(this,n,t,i,r,u))}function iv(n,t,i,r,u){var e=yf(n,t,i,r,u),f=gi(e.year,0,e.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}function rv(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function uv(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function fv(n,t){t[ri]=f(1e3*("0."+n))}function ev(){return this._isUTC?"UTC":""}function ov(){return this._isUTC?"Coordinated Universal Time":""}function sv(n){return c(1e3*n)}function hv(){return c.apply(null,arguments).parseZone()}function le(n){return n}function ur(n,t,i,r){var u=pt(),f=ut().set(r,t);return u[i](f,n)}function ae(n,t,i){if(dt(n)&&(t=n,n=void 0),n=n||"",null!=t)return ur(n,t,i,"month");for(var u=[],r=0;r<12;r++)u[r]=ur(n,r,i,"month");return u}function hu(n,t,i,r){var o,f,u,e;if("boolean"==typeof n?(dt(t)&&(i=t,t=void 0),t=t||""):(t=n,i=t,n=!1,dt(t)&&(i=t,t=void 0),t=t||""),o=pt(),f=n?o._week.dow:0,null!=i)return ur(t,(i+f)%7,r,"day");for(e=[],u=0;u<7;u++)e[u]=ur(t,(u+f)%7,r,"day");return e}function cv(n,t){return ae(n,t,"months")}function lv(n,t){return ae(n,t,"monthsShort")}function av(n,t,i){return hu(n,t,i,"weekdays")}function vv(n,t,i){return hu(n,t,i,"weekdaysShort")}function yv(n,t,i){return hu(n,t,i,"weekdaysMin")}function pv(){var n=this._data;return this._milliseconds=at(this._milliseconds),this._days=at(this._days),this._months=at(this._months),n.milliseconds=at(n.milliseconds),n.seconds=at(n.seconds),n.minutes=at(n.minutes),n.hours=at(n.hours),n.months=at(n.months),n.years=at(n.years),this}function ve(n,t,i,r){var u=et(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function wv(n,t){return ve(this,n,t,1)}function bv(n,t){return ve(this,n,t,-1)}function ye(n){return n<0?Math.floor(n):Math.ceil(n)}function kv(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||r<=0&&n<=0&&t<=0||(r+=864e5*ye(cu(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=d(r/1e3),i.seconds=u%60,f=d(u/60),i.minutes=f%60,e=d(f/60),i.hours=e%24,n+=d(e/24),o=d(pe(n)),t+=o,n-=ye(cu(o)),s=d(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function pe(n){return 4800*n/146097}function cu(n){return 146097*n/4800}function dv(n){if(!this.isValid())return NaN;var t,r,i=this._milliseconds;if(n=nt(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+pe(t),"month"===n?r:r/12;switch(t=this._days+Math.round(cu(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function gv(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*f(this._months/12):NaN}function wt(n){return function(){return this.as(n)}}function ny(n){return n=nt(n),this.isValid()?this[n+"s"]():NaN}function ii(n){return function(){return this.isValid()?this._data[n]:NaN}}function ty(){return d(this.days()/7)}function iy(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function ry(n,t,i){var r=et(n).abs(),u=kt(r.as("s")),e=kt(r.as("m")),o=kt(r.as("h")),s=kt(r.as("d")),h=kt(r.as("M")),c=kt(r.as("y")),f=u<=st.ss&&["s",u]||u<st.s&&["ss",u]||e<=1&&["m"]||e<st.m&&["mm",e]||o<=1&&["h"]||o<st.h&&["hh",o]||s<=1&&["d"]||s<st.d&&["dd",s]||h<=1&&["M"]||h<st.M&&["MM",h]||c<=1&&["y"]||["yy",c];return f[2]=t,f[3]=+n>0,f[4]=i,iy.apply(null,f)}function uy(n){return void 0===n?kt:"function"==typeof n&&(kt=n,!0)}function fy(n,t){return void 0!==st[n]&&(void 0===t?st[n]:(st[n]=t,"s"===n&&(st.ss=t-1),!0))}function ey(n){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=ry(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function fr(){if(!this.isValid())return this.localeData().invalidDate();var n,e,o,t=tf(this._milliseconds)/1e3,a=tf(this._days),i=tf(this._months);n=d(t/60);e=d(n/60);t%=60;n%=60;o=d(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(l<0?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var we,be,de,y,ku,oo,ho,co,lo,ao,vo,gu,nf,yo,po,bt,wo,n,o;be=Array.prototype.some?Array.prototype.some:function(n){for(var i=Object(this),r=i.length>>>0,t=0;t<r;t++)if(t in i&&n.call(this,i[t],t,i))return!0;return!1};var oy=be,lu=t.momentProperties=[],au=!1,ke={};t.suppressDeprecationWarnings=!1;t.deprecationHandler=null;de=Object.keys?Object.keys:function(n){var t,i=[];for(t in n)l(n,t)&&i.push(t);return i};var ge,sy=de,vi={},no={},to=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,er=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vu={},oi={},io=/\d/,k=/\d\d/,ro=/\d{3}/,yu=/\d{4}/,or=/[+-]?\d{6}/,h=/\d\d?/,uo=/\d\d\d\d?/,fo=/\d\d\d\d\d\d?/,sr=/\d{1,3}/,pu=/\d{1,4}/,hr=/[+-]?\d{1,6}/,cr=/[+-]?\d+/,hy=/Z|[+-]\d\d:?\d\d/gi,lr=/Z|[+-]\d\d(?::?\d\d)?/gi,yi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,wu={},bu={},it=0,ct=1,ot=2,v=3,rt=4,lt=5,ri=6,cy=7,ly=8;ge=Array.prototype.indexOf?Array.prototype.indexOf:function(n){for(var t=0;t<this.length;++t)if(this[t]===n)return t;return-1};y=ge;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});w("month","M");b("month",8);i("M",h);i("MM",h,k);i("MMM",function(n,t){return t.monthsShortRegex(n)});i("MMMM",function(n,t){return t.monthsRegex(n)});s(["M","MM"],function(n,t){t[ct]=f(n)-1});s(["MMM","MMMM"],function(n,t,i,r){var f=i._locale.monthsParse(n,r,i._strict);null!=f?t[ct]=f:u(i).invalidMonth=n});var eo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ay="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vy="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yy=yi,py=yi;r("Y",0,0,function(){var n=this.year();return n<=9999?""+n:"+"+n});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");w("year","y");b("year",1);i("Y",cr);i("YY",h,k);i("YYYY",pu,yu);i("YYYYY",hr,or);i("YYYYYY",hr,or);s(["YYYYY","YYYYYY"],it);s("YYYY",function(n,i){i[it]=2===n.length?t.parseTwoDigitYear(n):f(n)});s("YY",function(n,i){i[it]=t.parseTwoDigitYear(n)});s("Y",function(n,t){t[it]=parseInt(n,10)});t.parseTwoDigitYear=function(n){return f(n)+(f(n)>68?1900:2e3)};ku=ui("FullYear",!0);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");w("week","w");w("isoWeek","W");b("week",5);b("isoWeek",5);i("w",h);i("ww",h,k);i("W",h);i("WW",h,k);ci(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=f(n)});oo={dow:0,doy:6};r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");w("day","d");w("weekday","e");w("isoWeekday","E");b("day",11);b("weekday",11);b("isoWeekday",11);i("d",h);i("e",h);i("E",h);i("dd",function(n,t){return t.weekdaysMinRegex(n)});i("ddd",function(n,t){return t.weekdaysShortRegex(n)});i("dddd",function(n,t){return t.weekdaysRegex(n)});ci(["dd","ddd","dddd"],function(n,t,i,r){var f=i._locale.weekdaysParse(n,r,i._strict);null!=f?t.d=f:u(i).invalidWeekday=n});ci(["d","e","E"],function(n,t,i,r){t[r]=f(n)});var wy="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),by="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ky="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),dy=yi,gy=yi,np=yi;r("H",["HH",2],0,"hour");r("h",["hh",2],0,nu);r("k",["kk",2],0,nc);r("hmm",0,0,function(){return""+nu.apply(this)+ht(this.minutes(),2)});r("hmmss",0,0,function(){return""+nu.apply(this)+ht(this.minutes(),2)+ht(this.seconds(),2)});r("Hmm",0,0,function(){return""+this.hours()+ht(this.minutes(),2)});r("Hmmss",0,0,function(){return""+this.hours()+ht(this.minutes(),2)+ht(this.seconds(),2)});pf("a",!0);pf("A",!1);w("hour","h");b("hour",13);i("a",wf);i("A",wf);i("H",h);i("h",h);i("k",h);i("HH",h,k);i("hh",h,k);i("kk",h,k);i("hmm",uo);i("hmmss",fo);i("Hmm",uo);i("Hmmss",fo);s(["H","HH"],v);s(["k","kk"],function(n,t){var i=f(n);t[v]=24===i?0:i});s(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n});s(["h","hh"],function(n,t,i){t[v]=f(n);u(i).bigHour=!0});s("hmm",function(n,t,i){var r=n.length-2;t[v]=f(n.substr(0,r));t[rt]=f(n.substr(r));u(i).bigHour=!0});s("hmmss",function(n,t,i){var r=n.length-4,e=n.length-2;t[v]=f(n.substr(0,r));t[rt]=f(n.substr(r,2));t[lt]=f(n.substr(e));u(i).bigHour=!0});s("Hmm",function(n,t){var i=n.length-2;t[v]=f(n.substr(0,i));t[rt]=f(n.substr(i))});s("Hmmss",function(n,t){var i=n.length-4,r=n.length-2;t[v]=f(n.substr(0,i));t[rt]=f(n.substr(i,2));t[lt]=f(n.substr(r))});var ar,tp=ui("Hours",!0),so={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ay,monthsShort:vy,week:oo,weekdays:wy,weekdaysMin:ky,weekdaysShort:by,meridiemParse:/[ap]\.?m?\.?/i},a={},pi={},ip=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rp=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,up=/Z|[+-]\d\d(?::?\d\d)?/,vr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],du=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fp=/^\/?Date\((\-?\d+)/i,ep=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=g("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});t.ISO_8601=function(){};t.RFC_2822=function(){};var op=g("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:ki()}),sp=g("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:ki()}),hp=function(){return Date.now?Date.now():+new Date},wi=["year","quarter","month","week","day","hour","minute","second","millisecond"];for(re("Z",":"),re("ZZ",""),i("Z",lr),i("ZZ",lr),s(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=eu(lr,n)}),ho=/([\+\-]|\d\d)/gi,t.updateOffset=function(){},co=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,lo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/,et.fn=ir.prototype,et.invalid=kc,ao=ee(1,"add"),vo=ee(-1,"subtract"),t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",gu=g("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)}),r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rr("gggg","weekYear"),rr("ggggg","weekYear"),rr("GGGG","isoWeekYear"),rr("GGGGG","isoWeekYear"),w("weekYear","gg"),w("isoWeekYear","GG"),b("weekYear",1),b("isoWeekYear",1),i("G",cr),i("g",cr),i("GG",h,k),i("gg",h,k),i("GGGG",pu,yu),i("gggg",pu,yu),i("GGGGG",hr,or),i("ggggg",hr,or),ci(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=f(n)}),ci(["gg","GG"],function(n,i,r,u){i[u]=t.parseTwoDigitYear(n)}),r("Q",0,"Qo","quarter"),w("quarter","Q"),b("quarter",7),i("Q",io),s("Q",function(n,t){t[ct]=3*(f(n)-1)}),r("D",["DD",2],"Do","date"),w("date","D"),b("date",9),i("D",h),i("DD",h,k),i("Do",function(n,t){return n?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),s(["D","DD"],ot),s("Do",function(n,t){t[ot]=f(n.match(h)[0],10)}),nf=ui("Date",!0),r("DDD",["DDDD",3],"DDDo","dayOfYear"),w("dayOfYear","DDD"),b("dayOfYear",4),i("DDD",sr),i("DDDD",ro),s(["DDD","DDDD"],function(n,t,i){i._dayOfYear=f(n)}),r("m",["mm",2],0,"minute"),w("minute","m"),b("minute",14),i("m",h),i("mm",h,k),s(["m","mm"],rt),yo=ui("Minutes",!1),r("s",["ss",2],0,"second"),w("second","s"),b("second",15),i("s",h),i("ss",h,k),s(["s","ss"],lt),po=ui("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),w("millisecond","ms"),b("millisecond",16),i("S",sr,io),i("SS",sr,k),i("SSS",sr,ro),bt="SSSS";bt.length<=9;bt+="S")i(bt,/\d+/);for(bt="S";bt.length<=9;bt+="S")s(bt,fv);wo=ui("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=hi.prototype;n.add=ao;n.calendar=cl;n.clone=ll;n.diff=kl;n.endOf=sa;n.format=ia;n.from=ra;n.fromNow=ua;n.to=fa;n.toNow=ea;n.get=ss;n.invalidAt=ba;n.isAfter=al;n.isBefore=vl;n.isBetween=yl;n.isSame=pl;n.isSameOrAfter=wl;n.isSameOrBefore=bl;n.isValid=pa;n.lang=gu;n.locale=se;n.localeData=he;n.max=sp;n.min=op;n.parsingFlags=wa;n.set=hs;n.startOf=oa;n.subtract=vo;n.toArray=aa;n.toObject=va;n.toDate=la;n.toISOString=na;n.inspect=ta;n.toJSON=ya;n.toString=gl;n.unix=ca;n.valueOf=ha;n.creationData=ka;n.year=ku;n.isLeapYear=th;n.weekYear=da;n.isoWeekYear=ga;n.quarter=n.quarters=rv;n.month=lf;n.daysInMonth=ds;n.week=n.weeks=eh;n.isoWeek=n.isoWeeks=oh;n.weeksInYear=tv;n.isoWeeksInYear=nv;n.date=nf;n.day=n.days=ph;n.weekday=wh;n.isoWeekday=bh;n.dayOfYear=uv;n.hour=n.hours=tp;n.minute=n.minutes=yo;n.second=n.seconds=po;n.millisecond=n.milliseconds=wo;n.utcOffset=dc;n.utc=nl;n.local=tl;n.parseZone=il;n.hasAlignedHourOffset=rl;n.isDST=ul;n.isLocal=el;n.isUtcOffset=ol;n.isUtc=ue;n.isUTC=ue;n.zoneAbbr=ev;n.zoneName=ov;n.dates=g("dates accessor is deprecated. Use date instead.",nf);n.months=g("months accessor is deprecated. Use month instead",lf);n.years=g("years accessor is deprecated. Use year instead",ku);n.zone=g("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gc);n.isDSTShifted=g("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fl);o=wr.prototype;o.calendar=ts;o.longDateFormat=is;o.invalidDate=rs;o.ordinal=us;o.preparse=le;o.postformat=le;o.relativeTime=fs;o.pastFuture=es;o.set=ns;o.months=ps;o.monthsShort=ws;o.monthsParse=ks;o.monthsRegex=nh;o.monthsShortRegex=gs;o.week=rh;o.firstDayOfYear=fh;o.firstDayOfWeek=uh;o.weekdays=ch;o.weekdaysMin=ah;o.weekdaysShort=lh;o.weekdaysParse=yh;o.weekdaysRegex=kh;o.weekdaysShortRegex=dh;o.weekdaysMinRegex=gh;o.isPM=tc;o.meridiem=ic;fi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===f(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});t.lang=g("moment.lang is deprecated. Use moment.locale instead.",fi);t.langData=g("moment.langData is deprecated. Use moment.localeData instead.",pt);var at=Math.abs,cp=wt("ms"),lp=wt("s"),ap=wt("m"),vp=wt("h"),yp=wt("d"),pp=wt("w"),wp=wt("M"),bp=wt("y"),kp=ii("milliseconds"),dp=ii("seconds"),gp=ii("minutes"),nw=ii("hours"),tw=ii("days"),iw=ii("months"),rw=ii("years"),kt=Math.round,st={ss:44,s:45,m:45,h:22,d:26,M:11},tf=Math.abs,e=ir.prototype;return e.isValid=bc,e.abs=pv,e.add=wv,e.subtract=bv,e.as=dv,e.asMilliseconds=cp,e.asSeconds=lp,e.asMinutes=ap,e.asHours=vp,e.asDays=yp,e.asWeeks=pp,e.asMonths=wp,e.asYears=bp,e.valueOf=gv,e._bubble=kv,e.get=ny,e.milliseconds=kp,e.seconds=dp,e.minutes=gp,e.hours=nw,e.days=tw,e.weeks=ty,e.months=iw,e.years=rw,e.humanize=ey,e.toISOString=fr,e.toString=fr,e.toJSON=fr,e.locale=se,e.localeData=he,e.toIsoString=g("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fr),e.lang=gu,r("X",0,0,"unix"),r("x",0,0,"valueOf"),i("x",cr),i("X",/[+-]?\d+(\.\d{1,3})?/),s("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),s("x",function(n,t,i){i._d=new Date(f(n))}),t.version="2.18.1",bo(c),t.fn=n,t.min=yc,t.max=pc,t.now=hp,t.utc=ut,t.unix=sv,t.months=cv,t.isDate=bi,t.locale=fi,t.invalid=ki,t.duration=et,t.isMoment=yt,t.weekdays=av,t.parseZone=hv,t.localeData=pt,t.isDuration=uu,t.monthsShort=lv,t.weekdaysMin=yv,t.defineLocale=tu,t.updateLocale=uc,t.locales=fc,t.weekdaysShort=vv,t.normalizeUnits=nt,t.relativeTimeRounding=uy,t.relativeTimeThreshold=fy,t.calendarFormat=hl,t.prototype=n,t});
/*!
 * FullCalendar v3.4.0
 * Docs & License: https://fullcalendar.io/
 * (c) 2017 Adam Shaw
 */
!function(n){"function"==typeof define&&define.amd?define(["jquery","moment"],n):"object"==typeof exports?module.exports=n(require("jquery"),require("moment")):n(jQuery,moment)}(function(n,t){function rt(n){return hi(n,bu)}function nr(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function tr(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function vt(){n("body").addClass("fc-not-allowed")}function yt(){n("body").removeClass("fc-not-allowed")}function ir(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;rr(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);c<l?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);h<r&&n(i).height(l)})}function rr(n){n.height("")}function ur(t){var i=0;return t.find("> *").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function ri(n,t){var i,r=n.add(t);return r.css({position:"relative",left:-1}),i=n.outerHeight()-t.outerHeight(),r.css({position:"",left:""}),i}function ui(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==r&&i.length?i:n(t[0].ownerDocument||document)}function fi(n,t){var i=n.offset(),r=i.left-(t?t.left:0),u=i.top-(t?t.top:0);return{left:r,right:r+n.outerWidth(),top:u,bottom:u+n.outerHeight()}}function fr(n,t){var i=n.offset(),r=ei(n),u=i.left+d(n,"border-left-width")+r.left-(t?t.left:0),f=i.top+d(n,"border-top-width")+r.top-(t?t.top:0);return{left:u,right:u+n[0].clientWidth,top:f,bottom:f+n[0].clientHeight}}function ff(n,t){var i=n.offset(),r=i.left+d(n,"border-left-width")+d(n,"padding-left")-(t?t.left:0),u=i.top+d(n,"border-top-width")+d(n,"padding-top")-(t?t.top:0);return{left:r,right:r+n.width(),top:u,bottom:u+n.height()}}function ei(n){var t,i=n[0].offsetWidth-n[0].clientWidth,r=n[0].offsetHeight-n[0].clientHeight;return i=er(i),r=er(r),t={left:0,right:0,top:0,bottom:r},ef()&&"rtl"==n.css("direction")?t.left=i:t.right=i,t}function er(n){return n=Math.max(0,n),n=Math.round(n)}function ef(){return null===dt&&(dt=of()),dt}function of(){var t=n("<div><div/><\/div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=t.children(),r=i.offset().left>t.offset().left;return t.remove(),r}function d(n,t){return parseFloat(n.css(t))||0}function or(n){return 1==n.which&&!n.ctrlKey}function y(n){var t=n.originalEvent.touches;return t&&t.length?t[0].pageX:n.pageX}function p(n){var t=n.originalEvent.touches;return t&&t.length?t[0].pageY:n.pageY}function sr(n){return/^touch/.test(n.type)}function hr(n){n.addClass("fc-unselectable").on("selectstart",ut)}function sf(n){n.removeClass("fc-unselectable").off("selectstart",ut)}function ut(n){n.preventDefault()}function cr(n,t){var i={left:Math.max(n.left,t.left),right:Math.min(n.right,t.right),top:Math.max(n.top,t.top),bottom:Math.min(n.bottom,t.bottom)};return i.left<i.right&&i.top<i.bottom&&i}function hf(n,t){return{left:Math.min(Math.max(n.left,t.left),t.right),top:Math.min(Math.max(n.top,t.top),t.bottom)}}function cf(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function lf(n,t){return{left:n.left-t.left,top:n.top-t.top}}function lr(t){var u,i,f=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:n.isArray(t)&&(r=t),u=0;u<r.length;u++)i=r[u],"string"==typeof i?f.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&f.push({func:i});return f}function ar(n,t,i){for(var u,r=0;r<i.length;r++)if(u=vr(n,t,i[r]))return u;return 0}function vr(n,t,i){return i.func?i.func(n,t):yr(n[i.field],t[i.field])*(i.order||1)}function yr(t,i){return t||i?null==i?-1:null==t?1:"string"===n.type(t)||"string"===n.type(i)?String(t).localeCompare(String(i)):t-i:0}function ft(n,t){var i,r,u,f,e=n.start,o=n.end,s=t.start,h=t.end;if(o>s&&e<h)return e>=s?(i=e.clone(),u=!0):(i=s.clone(),u=!1),o<=h?(r=o.clone(),f=!0):(r=h.clone(),f=!1),{start:i,end:r,isStart:u,isEnd:f}}function pr(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function af(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days")})}function wr(n,i,r){return t.duration(Math.round(n.diff(i,r,!0)),r)}function pt(n,t){for(var r,u,i=0;i<gt.length&&(r=gt[i],!((u=vf(r,n,t))>=1&&w(u)));i++);return r}function br(n,t){var i=pt(n);return"week"===i&&"object"==typeof t&&t.days&&(i="day"),i}function vf(n,i,r){return null!=r?r.diff(i,n,!0):t.isDuration(i)?i.as(n):i.end.diff(i.start,n,!0)}function yf(n,t,i){var r;return k(i)?(t-n)/i:(r=i.asMonths(),Math.abs(r)>=1&&w(r)?t.diff(n,"months",!0)/r:t.diff(n,"days",!0)/i.asDays())}function oi(n,t){var i,r;return k(n)||k(t)?n/t:(i=n.asMonths(),r=t.asMonths(),Math.abs(i)>=1&&w(i)&&Math.abs(r)>=1&&w(r)?i/r:n.asDays()/t.asDays())}function pf(n,i){var r;return k(n)?t.duration(n*i):(r=n.asMonths(),Math.abs(r)>=1&&w(r)?t.duration({months:r*i}):t.duration({days:n.asDays()*i}))}function kr(n){return{start:n.start.clone(),end:n.end.clone()}}function dr(n,t){return n=kr(n),t.start&&(n.start=si(n.start,t)),t.end&&(n.end=kf(n.end,t.end)),n}function si(n,t){return n=n.clone(),t.start&&(n=df(n,t.start)),t.end&&n>=t.end&&(n=t.end.clone().subtract(1)),n}function et(n,t){return(!t.start||n>=t.start)&&(!t.end||n<t.end)}function wf(n,t){return(!t.start||n.end>=t.start)&&(!t.end||n.start<t.end)}function gr(n,t){return(!t.start||n.start>=t.start)&&(!t.end||n.end<=t.end)}function bf(n,t){return(n.start&&t.start&&n.start.isSame(t.start)||!n.start&&!t.start)&&(n.end&&t.end&&n.end.isSame(t.end)||!n.end&&!t.end)}function kf(n,t){return(n.isBefore(t)?n:t).clone()}function df(n,t){return(n.isAfter(t)?n:t).clone()}function k(n){return Boolean(n.hours()||n.minutes()||n.seconds()||n.milliseconds())}function gf(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function nu(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function hi(n,t){var i,r,f,e,o,s,u={};if(t)for(i=0;i<t.length;i++){for(r=t[i],f=[],e=n.length-1;e>=0;e--)if("object"==typeof(o=n[e][r]))f.unshift(o);else if(void 0!==o){u[r]=o;break}f.length&&(u[r]=hi(f))}for(i=n.length-1;i>=0;i--){s=n[i];for(r in s)r in u||(u[r]=s[r])}return u}function ot(n){var t=function(){};return t.prototype=n,new t}function ci(n,t){for(var i in n)tu(n,i)&&(t[i]=n[i])}function tu(n,t){return ku.call(n,t)}function ne(t){return/undefined|null|boolean|number|string/.test(n.type(t))}function wt(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function f(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n]}function u(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function li(n){return n.replace(/&.*?;/g,"")}function bt(t){var i=[];return n.each(t,function(n,t){null!=t&&i.push(n+":"+t)}),i.join(";")}function te(t){var i=[];return n.each(t,function(n,t){null!=t&&i.push(n+'="'+u(t)+'"')}),i.join(" ")}function iu(n){return n.charAt(0).toUpperCase()+n.slice(1)}function ie(n,t){return n-t}function w(n){return n%1==0}function st(n,t){var i=n[t];return function(){return i.apply(n,arguments)}}function ai(n,t,i){var r,u,f,o,e,s=function(){var h=+new Date-o;h<t?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u),f=u=null))};return function(){f=this;u=arguments;o=+new Date;var h=i&&!r;return r||(r=setTimeout(s,t)),h&&(e=n.apply(f,u),f=u=null),e}}function vi(i,r,u){var o,s,h,e,f=i[0],c=1==i.length&&"string"==typeof f;return t.isMoment(f)||gf(f)||void 0===f?e=t.apply(null,i):(o=!1,s=!1,c?ye.test(f)?(f+="-01",i=[f],o=!0,s=!0):(h=pe.exec(f))&&(o=!h[5],s=!0):n.isArray(f)&&(s=!0),e=r||o?t.utc.apply(t,i):t.apply(null,i),o?(e._ambigTime=!0,e._ambigZone=!0):u&&(s?e._ambigZone=!0:c&&e.utcOffset(f))),e._fullCalendar=!0,e}function g(n){return"en"!==n.locale()?n.clone().locale("en"):n}function o(){}function re(n,t){var i;return tu(t,"constructor")&&(i=t.constructor),"function"!=typeof i&&(i=t.constructor=function(){n.apply(this,arguments)}),i.prototype=ot(n.prototype),ci(t,i.prototype),ci(n,i),i}function ru(n,t){ci(t,n.prototype)}function uu(n,t){n.then=function(i){return"function"==typeof i&&i(t),n}}function fu(n){n.then=function(t,i){return"function"==typeof i&&i(),n}}function eu(n,t){return!n&&!t||!(!n||!t)&&n.component===t.component&&ou(n,t)&&ou(t,n)}function ou(n,t){for(var i in n)if(!/^(component|left|right|top|bottom)$/.test(i)&&n[i]!==t[i])return!1;return!0}function su(n){return{start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay}}function hu(n){var t=cu(n);return"background"===t||"inverse-background"===t}function ue(n){return"inverse-background"===cu(n)}function cu(n){return f((n.source||{}).rendering,n.rendering)}function fe(n){for(var i,r={},t=0;t<n.length;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function ee(n,t){return n.start-t.start}function oe(r){var u,f,e,s,o=i.dataAttrPrefix;return o&&(o+="-"),u=r.data(o+"event")||null,u&&(u="object"==typeof u?n.extend({},u):{},f=u.start,null==f&&(f=u.time),e=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),null==f&&(f=r.data(o+"start")),null==f&&(f=r.data(o+"time")),null==e&&(e=r.data(o+"duration")),null==s&&(s=r.data(o+"stick")),f=null!=f?t.duration(f):null,e=null!=e?t.duration(e):null,s=Boolean(s),{eventProps:u,startTime:f,duration:e,stick:s}}function se(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function he(n,t){return n.leftCol-t.leftCol}function ce(n){for(var u,t,i=[],r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&au(u,i[t]).length;t++);u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function le(n){for(var f,i,r,u,t=0;t<n.length;t++)for(f=n[t],i=0;i<f.length;i++)for(r=f[i],r.forwardSegs=[],u=t+1;u<n.length;u++)au(r,n[u],r.forwardSegs)}function lu(n){var t,i,u=n.forwardSegs,r=0;if(void 0===n.forwardPressure){for(t=0;t<u.length;t++)i=u[t],lu(i),r=Math.max(r,1+i.forwardPressure);n.forwardPressure=r}}function au(n,t,i){i=i||[];for(var r=0;r<t.length;r++)ae(n,t[r])&&i.push(t[r]);return i}function ae(n,t){return n.bottom>t.top&&n.top<t.bottom}function vu(n){this.items=n||[]}function yu(t,i){function c(n){i=n}function l(){var u=i.layout;r=t.opt("theme")?"ui":"fc";u?(f?f.empty():f=this.el=n("<div class='fc-toolbar "+i.extraClasses+"'/>"),f.append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>')):h()}function h(){f&&(f.remove(),f=e.el=null)}function o(f){var e=n('<div class="fc-'+f+'"/>'),o=i.layout[f],h=t.opt("customButtons")||{},c=t.opt("buttonText")||{};return o&&n.each(o.split(" "),function(){var f,i=n(),o=!0;n.each(this.split(","),function(f,e){var a,w,v,y,p,b,k,d,g,l;"title"==e?(i=i.add(n("<h2>&nbsp;<\/h2>")),o=!1):((a=h[e])?(v=function(n){a.click&&a.click.call(l[0],n)},y="",p=a.text):(w=t.getViewSpec(e))?(v=function(){t.changeView(e)},s.push(e),y=w.buttonTextOverride,p=w.buttonTextDefault):t[e]&&(v=function(){t[e]()},y=(t.overrides.buttonText||{})[e],p=c[e]),v&&(b=a?a.themeIcon:t.opt("themeButtonIcons")[e],k=a?a.icon:t.opt("buttonIcons")[e],d=y?u(y):b&&t.opt("theme")?"<span class='ui-icon ui-icon-"+b+"'><\/span>":k&&!t.opt("theme")?"<span class='fc-icon fc-icon-"+k+"'><\/span>":u(p),g=["fc-"+e+"-button",r+"-button",r+"-state-default"],l=n('<button type="button" class="'+g.join(" ")+'">'+d+"<\/button>").click(function(n){l.hasClass(r+"-state-disabled")||(v(n),(l.hasClass(r+"-state-active")||l.hasClass(r+"-state-disabled"))&&l.removeClass(r+"-state-hover"))}).mousedown(function(){l.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){l.removeClass(r+"-state-down")}).hover(function(){l.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},function(){l.removeClass(r+"-state-hover").removeClass(r+"-state-down")}),i=i.add(l)))});o&&i.first().addClass(r+"-corner-left").end().last().addClass(r+"-corner-right").end();i.length>1?(f=n("<div/>"),o&&f.addClass("fc-button-group"),f.append(i),e.append(f)):e.append(i)}),e}function a(n){f&&f.find("h2").text(n)}function v(n){f&&f.find(".fc-"+n+"-button").addClass(r+"-state-active")}function y(n){f&&f.find(".fc-"+n+"-button").removeClass(r+"-state-active")}function p(n){f&&f.find(".fc-"+n+"-button").prop("disabled",!0).addClass(r+"-state-disabled")}function w(n){f&&f.find(".fc-"+n+"-button").prop("disabled",!1).removeClass(r+"-state-disabled")}function b(){return s}var e=this,f,r,s;e.setToolbarOptions=c;e.render=l;e.removeElement=h;e.updateTitle=a;e.activateButton=v;e.deactivateButton=y;e.disableButton=p;e.enableButton=w;e.getViewsWithButtons=b;e.el=null;s=[]}function pu(t){n.each(no,function(n,i){null==t[n]&&(t[n]=i(t))})}function wu(n){return t.localeData(n)||t.localeData("en")}function ve(){function bt(n,t){return!r.opt("lazyFetching")||k(n,t)?d(n,t):ct.resolve(l)}function h(){l=dt(e);r.trigger("eventsReset",l)}function dt(n){for(var i,u=[],t=0;t<n.length;t++)i=n[t],i.start.clone().stripZone()<s&&r.getEventEnd(i).stripZone()>o&&u.push(i);return u}function k(n,t){return!o||n<o||t>s}function d(n,t){return o=n,s=t,g()}function g(){return a(u,"reset")}function gt(n){return a(ut(n))}function a(n,t){var i,u;for("reset"===t?e=[]:"add"!==t&&(e=ot(e,n)),i=0;i<n.length;i++)u=n[i],"pending"!==u._status&&b++,u._fetchId=(u._fetchId||0)+1,u._status="pending";for(i=0;i<n.length;i++)u=n[i],ni(u,u._fetchId);return b?ct.construct(function(n){r.one("eventsReceived",n)}):ct.resolve(l)}function ni(t,i){tt(t,function(r){var u,f,o,s=n.isArray(t.events);if(i===t._fetchId&&"rejected"!==t._status){if(t._status="resolved",r)for(u=0;u<r.length;u++)f=r[u],(o=s?f:v(f,t))&&e.push.apply(e,p(o));nt()}})}function ti(n){var t="pending"===n._status;n._status="rejected";t&&nt()}function nt(){--b||(h(e),r.trigger("eventsReceived",l))}function tt(t,u){for(var l,a=i.sourceFetchers,e,h=0;h<a.length;h++){if(!0===(l=a[h].call(r,t,o.clone(),s.clone(),r.opt("timezone"),u)))return;if("object"==typeof l)return void tt(l,u)}if(e=t.events,e)n.isFunction(e)?(r.pushLoading(),e.call(r,o.clone(),s.clone(),r.opt("timezone"),function(n){u(n);r.popLoading()})):n.isArray(e)?u(e):u();else if(t.url){var v,w=t.success,b=t.error,k=t.complete;v=n.isFunction(t.data)?t.data():t.data;var c=n.extend({},v||{}),y=f(t.startParam,r.opt("startParam")),p=f(t.endParam,r.opt("endParam")),d=f(t.timezoneParam,r.opt("timezoneParam"));y&&(c[y]=o.format());p&&(c[p]=s.format());r.opt("timezone")&&"local"!=r.opt("timezone")&&(c[d]=r.opt("timezone"));r.pushLoading();n.ajax(n.extend({},gu,t,{data:c,success:function(t){t=t||[];var i=wt(w,this,arguments);n.isArray(i)&&(t=i);u(t)},error:function(){wt(b,this,arguments);u()},complete:function(){wt(k,this,arguments);r.popLoading()}}))}else u()}function ii(n){var t=it(n);t&&(u.push(t),a([t],"add"))}function it(t){var u,f,e=i.sourceNormalizers;if(n.isFunction(t)||n.isArray(t)?u={events:t}:"string"==typeof t?u={url:t}:"object"==typeof t&&(u=n.extend({},t)),u){for(u.className?"string"==typeof u.className&&(u.className=u.className.split(/\s+/)):u.className=[],n.isArray(u.events)&&(u.origArray=u.events,u.events=n.map(u.events,function(n){return v(n,u)})),f=0;f<e.length;f++)e[f].call(r,u);return u}}function ri(n){y(ft(n))}function ui(n){null==n?y(u,!0):y(ut(n))}function y(t,i){for(var r=0;r<t.length;r++)ti(t[r]);i?(u=[],e=[]):(u=n.grep(u,function(n){for(r=0;r<t.length;r++)if(n===t[r])return!1;return!0}),e=ot(e,t));h()}function fi(){return u.slice(1)}function rt(t){return n.grep(u,function(n){return n.id&&n.id===t})[0]}function ut(t){t?n.isArray(t)||(t=[t]):t=[];for(var r=[],i=0;i<t.length;i++)r.push.apply(r,ft(t[i]));return r}function ft(t){for(var i,r=0;r<u.length;r++)if((i=u[r])===t)return[i];return i=rt(t),i?[i]:n.grep(u,function(n){return ei(t,n)})}function ei(n,t){return n&&t&&et(n)==et(t)}function et(n){return("object"==typeof n?n.origArray||n.googleCalendarId||n.url||n.events:null)||n}function ot(t,i){return n.grep(t,function(n){for(var t=0;t<i.length;t++)if(n.source===i[t])return!1;return!0})}function oi(n){st([n])}function st(n){for(var t,i=0;i<n.length;i++)t=n[i],t.start=r.moment(t.start),t.end=t.end?r.moment(t.end):null,pt(t,si(t));h()}function si(t){var i={};return n.each(t,function(n,t){ht(n)&&void 0!==t&&ne(t)&&(i[n]=t)}),i}function ht(n){return!/^_|^(id|allDay|start|end)$/.test(n)}function hi(n,t){return lt([n],t)}function lt(n,t){for(var r,s,f,i,o=[],u=0;u<n.length;u++)if(s=v(n[u])){for(r=p(s),f=0;f<r.length;f++)i=r[f],i.source||(t&&(w.events.push(i),i.source=w),e.push(i));o=o.concat(r)}return o.length&&h(),o}function ci(t){var r,i;for(null==t?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),e=n.grep(e,t,!0),i=0;i<u.length;i++)n.isArray(u[i].events)&&(u[i].events=n.grep(u[i].events,t,!0));h()}function at(t){return n.isFunction(t)?n.grep(e,t):null!=t?(t+="",n.grep(e,function(n){return n._id==t})):e}function li(n){n.start=r.moment(n.start);n.end&&(n.end=r.moment(n.end));kt(n)}function v(i,u){var o,e,h,c=r.opt("eventDataTransform"),s={};if(c&&(i=c(i)),u&&u.eventDataTransform&&(i=u.eventDataTransform(i)),n.extend(s,i),u&&(s.source=u),s._id=i._id||(void 0===i.id?"_fc"+nf++:i.id+""),s.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],o=i.start||i.date,e=i.end,nu(o)&&(o=t.duration(o)),nu(e)&&(e=t.duration(e)),i.dow||t.isDuration(o)||t.isDuration(e))s.start=o?t.duration(o):null,s.end=e?t.duration(e):null,s._recurring=!0;else{if(o&&(o=r.moment(o),!o.isValid()))return!1;e&&(e=r.moment(e),e.isValid()||(e=null));h=i.allDay;void 0===h&&(h=f(u?u.allDayDefault:void 0,r.opt("allDayDefault")));vt(o,e,h,s)}return r.normalizeEvent(s),s}function vt(n,t,i,r){r.start=n;r.end=t;r.allDay=i;c(r);kt(r)}function c(n){yt(n);n.end&&!n.end.isAfter(n.start)&&(n.end=null);n.end||(n.end=r.opt("forceEventDuration")?r.getDefaultEventEnd(n.allDay,n.start):null)}function yt(n){null==n.allDay&&(n.allDay=!(n.start.hasTime()||n.end&&n.end.hasTime()));n.allDay?(n.start.stripTime(),n.end&&n.end.stripTime()):(n.start.hasTime()||(n.start=r.applyTimezone(n.start.time(0))),n.end&&!n.end.hasTime()&&(n.end=r.applyTimezone(n.end.time(0))))}function p(t,i,r){var f,a,e,u,h,c,l,v,y,p=[];if(i=i||o,r=r||s,t)if(t._recurring){if(a=t.dow)for(f={},e=0;e<a.length;e++)f[a[e]]=!0;for(u=i.clone().stripTime();u.isBefore(r);)f&&!f[u.day()]||(h=t.start,c=t.end,l=u.clone(),v=null,h&&(l=l.time(h)),c&&(v=u.clone().time(c)),y=n.extend({},t),vt(l,v,!h&&!c,y),p.push(y)),u.add(1,"days")}else p.push(t);return p}function pt(t,i,u){function s(n,t){return u?wr(n,t,u):i.allDay?af(n,t):pr(n,t)}var f,h,e,l,o,a,v={};return i=i||{},i.start||(i.start=t.start.clone()),void 0===i.end&&(i.end=t.end?t.end.clone():null),null==i.allDay&&(i.allDay=t.allDay),c(i),f={start:t._start.clone(),end:t._end?t._end.clone():r.getDefaultEventEnd(t._allDay,t._start),allDay:i.allDay},c(f),h=null!==t._end&&null===i.end,e=s(i.start,f.start),i.end?(l=s(i.end,f.end),o=l.subtract(e)):o=null,n.each(i,function(n,t){ht(n)&&void 0!==t&&(v[n]=t)}),a=ai(at(t._id),h,i.allDay,e,o,v),{dateDelta:e,durationDelta:o,undo:a}}function ai(t,i,u,f,e,o){var h=r.getIsAmbigTimezone(),s=[];return f&&!f.valueOf()&&(f=null),e&&!e.valueOf()&&(e=null),n.each(t,function(t,l){var v,a;v={start:l.start.clone(),end:l.end?l.end.clone():null,allDay:l.allDay};n.each(o,function(n){v[n]=l[n]});a={start:l._start,end:l._end,allDay:u};c(a);i?a.end=null:e&&!a.end&&(a.end=r.getDefaultEventEnd(a.allDay,a.start));f&&(a.start.add(f),a.end&&a.end.add(f));e&&a.end.add(e);h&&!a.allDay&&(f||e)&&(a.start.stripZone(),a.end&&a.end.stripZone());n.extend(l,o,a);kt(l);s.push(function(){n.extend(l,v);kt(l)})}),function(){for(var n=0;n<s.length;n++)s[n]()}}var r=this;r.requestEvents=bt;r.reportEventChange=h;r.isFetchNeeded=k;r.fetchEvents=d;r.fetchEventSources=a;r.refetchEvents=g;r.refetchEventSources=gt;r.getEventSources=fi;r.getEventSourceById=rt;r.addEventSource=ii;r.removeEventSource=ri;r.removeEventSources=ui;r.updateEvent=oi;r.updateEvents=st;r.renderEvent=hi;r.renderEvents=lt;r.removeEvents=ci;r.clientEvents=at;r.mutateEvent=pt;r.normalizeEventDates=c;r.normalizeEventTimes=yt;var o,s,l,w={events:[]},u=[w],b=0,e=[];n.each((r.opt("events")?[r.opt("events")]:[]).concat(r.opt("eventSources")||[]),function(n,t){var i=it(t);i&&u.push(i)});r.getEventCache=function(){return e};r.rezoneArrayEventSources=function(){for(var i,r,t=0;t<u.length;t++)if(i=u[t].events,n.isArray(i))for(r=0;r<i.length;r++)li(i[r])};r.buildEventFromInput=v;r.expandEvent=p}function kt(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}var i=n.fullCalendar={version:"3.4.0",internalApiVersion:9},s=i.views={},bu,dt,yi,gt,ku,nt,ct,lt,wi,it,e,du,v,bi,at,ki,c,ii,r,b,gu,nf,di,rf,uf;n.fn.fullCalendar=function(t){var u=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(f,e){var h,s=n(e),o=s.data("fullCalendar");"string"==typeof t?o&&n.isFunction(o[t])&&(h=o[t].apply(o,u),f||(i=h),"destroy"===t&&s.removeData("fullCalendar")):o||(o=new r(s,t),s.data("fullCalendar",o),o.render())}),i};bu=["header","footer","buttonText","buttonIcons","themeButtonIcons"];i.intersectRanges=ft;i.applyAll=wt;i.debounce=ai;i.isInt=w;i.htmlEscape=u;i.cssToStr=bt;i.proxy=st;i.capitaliseFirstLetter=iu;i.getOuterRect=fi;i.getClientRect=fr;i.getContentRect=ff;i.getScrollbarWidths=ei;dt=null;i.preventDefault=ut;i.intersectRects=cr;i.parseFieldSpecs=lr;i.compareByFieldSpecs=ar;i.compareByFieldSpec=vr;i.flexibleCompare=yr;i.computeGreatestUnit=pt;i.divideRangeByDuration=yf;i.divideDurationByDuration=oi;i.multiplyDuration=pf;i.durationHasTime=k;yi=["sun","mon","tue","wed","thu","fri","sat"];gt=["year","month","week","day","hour","minute","second","millisecond"];i.log=function(){var n=window.console;if(n&&n.log)return n.log.apply(n,arguments)};i.warn=function(){var n=window.console;return n&&n.warn?n.warn.apply(n,arguments):i.log.apply(i,arguments)};ku={}.hasOwnProperty;i.createObject=ot;var ye=/^\s*\d{4}-\d\d$/,pe=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,h=t.fn,l=n.extend({},h),pi=t.momentProperties;pi.push("_fullCalendar");pi.push("_ambigTime");pi.push("_ambigZone");i.moment=function(){return vi(arguments)};i.moment.utc=function(){var n=vi(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return vi(arguments,!0,!0)};h.week=h.weeks=function(n){var t=this._locale._fullCalendar_weekCalc;return null==n&&"function"==typeof t?t(this):"ISO"===t?l.isoWeek.apply(this,arguments):l.week.apply(this,arguments)};h.time=function(n){if(!this._fullCalendar)return l.time.apply(this,arguments);if(null==n)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=24*Math.floor(n.asDays())),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};h.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this};h.hasTime=function(){return!this._ambigTime};h.stripZone=function(){var n;return this._ambigZone||(n=this._ambigTime,this.utc(!0),this._ambigTime=n||!1,this._ambigZone=!0),this};h.hasZone=function(){return!this._ambigZone};h.local=function(n){return l.local.call(this,this._ambigZone||n),this._ambigTime=!1,this._ambigZone=!1,this};h.utc=function(n){return l.utc.call(this,n),this._ambigTime=!1,this._ambigZone=!1,this};h.utcOffset=function(n){return null!=n&&(this._ambigTime=!1,this._ambigZone=!1),l.utcOffset.apply(this,arguments)};h.format=function(){return this._fullCalendar&&arguments[0]?we(this,arguments[0]):this._ambigTime?ht(g(this),"YYYY-MM-DD"):this._ambigZone?ht(g(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?ht(g(this)):l.format.apply(this,arguments)};h.toISOString=function(){return this._ambigTime?ht(g(this),"YYYY-MM-DD"):this._ambigZone?ht(g(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?l.toISOString.apply(g(this),arguments):l.toISOString.apply(this,arguments)},function(){function w(n,t){return g(f(t).fakeFormatString,n)}function t(n,t){return l.format.call(n,t)}function b(n,t,r,u,e){var o;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),o=n.localeData(),r=o.longDateFormat(r)||r,k(f(r),n,t,u||" - ",e)}function k(n,t,i,r,f){for(var o,c,s=n.sameUnits,p=t.clone().stripZone(),w=i.clone().stripZone(),l=u(n.fakeFormatString,t),d=u(n.fakeFormatString,i),b="",y="",a="",v="",k="",e=0;e<s.length&&(!s[e]||p.isSame(w,s[e]));e++)b+=l[e];for(o=s.length-1;o>e&&(!s[o]||p.isSame(w,s[o]))&&(o-1!==e||"."!==l[o]);o--)y=l[o]+y;for(c=e;c<=o;c++)a+=l[c],v+=d[c];return(a||v)&&(k=f?v+r+a:a+r+v),h(b+k+y)}function f(n){return p[n]||(p[n]=d(n))}function d(n){var t=r(n);return{fakeFormatString:o(t),sameUnits:s(t)}}function r(n){for(var t,i=[],u=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=u.exec(n);)t[1]?i.push.apply(i,e(t[1])):t[2]?i.push({maybe:r(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push.apply(i,e(t[5]));return i}function e(n){return". "===n?["."," "]:[n]}function o(t){for(var i,r=[],u=0;u<t.length;u++)i=t[u],"string"==typeof i?r.push("["+i+"]"):i.token?i.token in v?r.push(a+"["+i.token+"]"):r.push(i.token):i.maybe&&r.push(n+o(i.maybe)+n);return r.join(c)}function s(n){for(var t,u,i=[],r=0;r<n.length;r++)t=n[r],t.token?(u=y[t.token.charAt(0)],i.push(u?u.unit:"second")):t.maybe?i.push.apply(i,s(t.maybe)):i.push(null);return i}function g(n,t){return h(u(n,t).join(""))}function u(n,i){for(var u,f=[],o=t(i,n),e=o.split(c),r=0;r<e.length;r++)u=e[r],u.charAt(0)===a?f.push(v[u.substring(1)](i)):f.push(u);return f}function h(n){return n.replace(tt,function(n,t){return t.match(/[1-9]/)?t:""})}function nt(n){for(var u,f,t,e=r(n),i=0;i<e.length;i++)u=e[i],u.token&&(f=y[u.token.charAt(0)])&&(!t||f.value>t.value)&&(t=f);return t?t.unit:null}i.formatDate=w;i.formatRange=b;i.oldMomentFormat=t;i.queryMostGranularFormatUnit=nt;var c="\v",a="\x1f",n="\x1e",tt=new RegExp(n+"([^"+n+"]*)"+n,"g"),v={t:function(n){return t(n,"a").charAt(0)},T:function(n){return t(n,"A").charAt(0)}},y={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}},p={}}();var we=i.formatDate,be=i.formatRange,ht=i.oldMomentFormat;i.Class=o;o.extend=function(){for(var t,i=arguments.length,n=0;n<i;n++)t=arguments[n],n<i-1&&ru(this,t);return re(this,t||{})};o.mixin=function(n){ru(this,n)};nt=o.extend(ni,tt,{_props:null,_watchers:null,_globalWatchArgs:null,constructor:function(){this._watchers={};this._props={};this.applyGlobalWatchers()},applyGlobalWatchers:function(){for(var t=this._globalWatchArgs||[],n=0;n<t.length;n++)this.watch.apply(this,t[n])},has:function(n){return n in this._props},get:function(n){return void 0===n?this._props:this._props[n]},set:function(n,t){var i;"string"==typeof n?(i={},i[n]=void 0===t?null:t):i=n;this.setProps(i)},reset:function(n){var t,r=this._props,i={};for(t in r)i[t]=void 0;for(t in n)i[t]=n[t];this.setProps(i)},unset:function(n){for(var r={},i="string"==typeof n?[n]:n,t=0;t<i.length;t++)r[i[t]]=void 0;this.setProps(r)},setProps:function(n){var t,i,r={},u=0;for(t in n)"object"!=typeof(i=n[t])&&i===this._props[t]||(r[t]=i,u++);if(u){this.trigger("before:batchChange",r);for(t in r)i=r[t],this.trigger("before:change",t,i),this.trigger("before:change:"+t,i);for(t in r)i=r[t],void 0===i?delete this._props[t]:this._props[t]=i,this.trigger("change:"+t,i),this.trigger("change",t,i);this.trigger("batchChange",r)}},watch:function(n,t,i,r){var u=this;this.unwatch(n);this._watchers[n]=this._watchDeps(t,function(t){var r=i.call(u,t);r&&r.then?(u.unset(n),r.then(function(t){u.set(n,t)})):u.set(n,r)},function(){u.unset(n);r&&r.call(u)})},unwatch:function(n){var t=this._watchers[n];t&&(delete this._watchers[n],t.teardown())},_watchDeps:function(n,t,i){function l(){1==++c&&r===f&&(s=!0,i(),s=!1)}function a(n,i,e){void 0===i?(e||void 0===u[n]||r--,delete u[n]):(e||void 0!==u[n]||r++,u[n]=i);--c||r===f&&(s||t(u))}function h(n,t){o.on(n,t);e.push([n,t])}var o=this,c=0,f=n.length,r=0,u={},e=[],s=!1;return n.forEach(function(n){var t=!1;"?"===n.charAt(0)&&(n=n.substring(1),t=!0);h("before:change:"+n,function(i){l(n,i,t)});h("change:"+n,function(i){a(n,i,t)})}),n.forEach(function(n){var t=!1;"?"===n.charAt(0)&&(n=n.substring(1),t=!0);o.has(n)?(u[n]=o.get(n),r++):t&&r++}),r===f&&t(u),{teardown:function(){for(var n=0;n<e.length;n++)o.off(e[n][0],e[n][1]);e=null;r===f&&i()},flash:function(){r===f&&(i(),t(u))}}},flash:function(n){var t=this._watchers[n];t&&t.flash()}});nt.watch=function(){var n=this.prototype;n._globalWatchArgs||(n._globalWatchArgs=[]);n._globalWatchArgs.push(arguments)};i.Model=nt;ct={construct:function(t){var i=n.Deferred(),r=i.promise();return"function"==typeof t&&t(function(n){i.resolve(n);uu(r,n)},function(){i.reject();fu(r)}),r},resolve:function(t){var r=n.Deferred().resolve(t),i=r.promise();return uu(i,t),i},reject:function(){var i=n.Deferred().reject(),t=i.promise();return fu(t),t}};i.Promise=ct;lt=o.extend(ni,{q:null,isPaused:!1,isRunning:!1,constructor:function(){this.q=[]},queue:function(){this.q.push.apply(this.q,arguments);this.tryStart()},pause:function(){this.isPaused=!0},resume:function(){this.isPaused=!1;this.tryStart()},tryStart:function(){!this.isRunning&&this.canRunNext()&&(this.isRunning=!0,this.trigger("start"),this.runNext())},canRunNext:function(){return!this.isPaused&&this.q.length},runNext:function(){this.runTask(this.q.shift())},runTask:function(n){this.runTaskFunc(n)},runTaskFunc:function(n){function r(){t.canRunNext()?t.runNext():(t.isRunning=!1,t.trigger("stop"))}var t=this,i=n();i&&i.then?i.then(r):r()}});i.TaskQueue=lt;wi=lt.extend({waitsByNamespace:null,waitNamespace:null,waitId:null,constructor:function(n){lt.call(this);this.waitsByNamespace=n||{}},queue:function(n,t,i){var r,u={func:n,namespace:t,type:i};t&&(r=this.waitsByNamespace[t]);this.waitNamespace&&(t===this.waitNamespace&&null!=r?this.delayWait(r):(this.clearWait(),this.tryStart()));this.compoundTask(u)&&(this.waitNamespace||null==r?this.tryStart():this.startWait(t,r))},startWait:function(n,t){this.waitNamespace=n;this.spawnWait(t)},delayWait:function(n){clearTimeout(this.waitId);this.spawnWait(n)},spawnWait:function(n){var t=this;this.waitId=setTimeout(function(){t.waitNamespace=null;t.tryStart()},n)},clearWait:function(){this.waitNamespace&&(clearTimeout(this.waitId),this.waitId=null,this.waitNamespace=null)},canRunNext:function(){if(!lt.prototype.canRunNext.apply(this,arguments))return!1;if(this.waitNamespace){for(var t=this.q,n=0;n<t.length;n++)if(t[n].namespace!==this.waitNamespace)return!0;return!1}return!0},runTask:function(n){this.runTaskFunc(n.func)},compoundTask:function(n){var r,i,t=this.q,u=!0;if(n.namespace&&("destroy"===n.type||"init"===n.type)){for(r=t.length-1;r>=0;r--)i=t[r],i.namespace!==n.namespace||"add"!==i.type&&"remove"!==i.type||t.splice(r,1);"destroy"===n.type?t.length&&(i=t[t.length-1],i.namespace===n.namespace&&("init"===i.type?(u=!1,t.pop()):"destroy"===i.type&&(u=!1))):"init"===n.type&&t.length&&(i=t[t.length-1],i.namespace===n.namespace&&"init"===i.type&&t.pop())}return u&&t.push(n),u}});i.RenderQueue=wi;var ni=i.EmitterMixin={on:function(t,i){return n(this).on(t,this._prepareIntercept(i)),this},one:function(t,i){return n(this).one(t,this._prepareIntercept(i)),this},_prepareIntercept:function(t){var i=function(n,i){return t.apply(i.context||this,i.args||[])};return t.guid||(t.guid=n.guid++),i.guid=t.guid,i},off:function(t,i){return n(this).off(t,i),this},trigger:function(t){var i=Array.prototype.slice.call(arguments,1);return n(this).triggerHandler(t,{args:i}),this},triggerWith:function(t,i,r){return n(this).triggerHandler(t,{context:i,args:r}),this}},tt=i.ListenerMixin=function(){var t=0;return{listenerId:null,listenTo:function(t,i,r){if("object"==typeof i)for(var u in i)i.hasOwnProperty(u)&&this.listenTo(t,u,i[u]);else"string"==typeof i&&t.on(i+"."+this.getListenerNamespace(),n.proxy(r,this))},stopListeningTo:function(n,t){n.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=t++),"_listener"+this.listenerId}}}(),ke=o.extend(tt,{isHidden:!0,options:null,el:null,margin:10,constructor:function(n){this.options=n||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});t.autoHide&&this.listenTo(n(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide();this.el&&(this.el.remove(),this.el=null);this.stopListeningTo(n(document),"mousedown")},position:function(){var f,e,o,t,i,r=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),s=n(window),u=ui(this.el);t=r.top||0;i=void 0!==r.left?r.left:void 0!==r.right?r.right-c:0;u.is(window)||u.is(document)?(u=s,f=0,e=0):(o=u.offset(),f=o.top,e=o.left);f+=s.scrollTop();e+=s.scrollLeft();!1!==r.viewportConstrain&&(t=Math.min(t,f+u.outerHeight()-l-this.margin),t=Math.max(t,f+this.margin),i=Math.min(i,e+u.outerWidth()-c-this.margin),i=Math.max(i,e+this.margin));this.el.css({top:t-h.top,left:i-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}}),ti=i.CoordCache=o.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=n(t.els);this.isHorizontal=t.isHorizontal;this.isVertical=t.isVertical;this.forcedOffsetParentEl=t.offsetParent?n(t.offsetParent):null},build:function(){var n=this.forcedOffsetParentEl;!n&&this.els.length>0&&(n=this.els.eq(0).offsetParent());this.origin=n?n.offset():null;this.boundingRect=this.queryBoundingRect();this.isHorizontal&&this.buildElHorizontals();this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var t=[],i=[];this.els.each(function(r,u){var f=n(u),e=f.offset().left,o=f.outerWidth();t.push(e);i.push(e+o)});this.lefts=t;this.rights=i},buildElVerticals:function(){var t=[],i=[];this.els.each(function(r,u){var f=n(u),e=f.offset().top,o=f.outerHeight();t.push(e);i.push(e+o)});this.tops=t;this.bottoms=i},getHorizontalIndex:function(n){this.ensureBuilt();for(var i=this.lefts,r=this.rights,u=i.length,t=0;t<u;t++)if(n>=i[t]&&n<r[t])return t},getVerticalIndex:function(n){this.ensureBuilt();for(var i=this.tops,r=this.bottoms,u=i.length,t=0;t<u;t++)if(n>=i[t]&&n<r[t])return t},getLeftOffset:function(n){return this.ensureBuilt(),this.lefts[n]},getLeftPosition:function(n){return this.ensureBuilt(),this.lefts[n]-this.origin.left},getRightOffset:function(n){return this.ensureBuilt(),this.rights[n]},getRightPosition:function(n){return this.ensureBuilt(),this.rights[n]-this.origin.left},getWidth:function(n){return this.ensureBuilt(),this.rights[n]-this.lefts[n]},getTopOffset:function(n){return this.ensureBuilt(),this.tops[n]},getTopPosition:function(n){return this.ensureBuilt(),this.tops[n]-this.origin.top},getBottomOffset:function(n){return this.ensureBuilt(),this.bottoms[n]},getBottomPosition:function(n){return this.ensureBuilt(),this.bottoms[n]-this.origin.top},getHeight:function(n){return this.ensureBuilt(),this.bottoms[n]-this.tops[n]},queryBoundingRect:function(){var n;return this.els.length>0&&(n=ui(this.els.eq(0)),!n.is(document))?fr(n):null},isPointInBounds:function(n,t){return this.isLeftInBounds(n)&&this.isTopInBounds(t)},isLeftInBounds:function(n){return!this.boundingRect||n>=this.boundingRect.left&&n<this.boundingRect.right},isTopInBounds:function(n){return!this.boundingRect||n>=this.boundingRect.top&&n<this.boundingRect.bottom}}),a=i.DragListener=o.extend(tt,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,isGeneric:!1,delay:null,delayTimeoutId:null,minDistance:null,shouldCancelTouchScroll:!0,scrollAlwaysKills:!1,constructor:function(n){this.options=n||{}},startInteraction:function(t,i){if("mousedown"===t.type){if(e.get().shouldIgnoreMouse())return;if(!or(t))return;t.preventDefault()}this.isInteracting||(i=i||{},this.delay=f(i.delay,this.options.delay,0),this.minDistance=f(i.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,hr(n("body")),this.isInteracting=!0,this.isTouch=sr(t),this.isGeneric="dragstart"===t.type,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=y(t),this.originY=p(t),this.scrollEl=ui(n(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(n){this.trigger("interactionStart",n)},endInteraction:function(t,i){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,i),sf(n("body")))},handleInteractionEnd:function(n,t){this.trigger("interactionEnd",n,t||!1)},bindHandlers:function(){var t=e.get();this.isGeneric?this.listenTo(n(document),{drag:this.handleMove,dragstop:this.endInteraction}):this.isTouch?this.listenTo(t,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll}):this.listenTo(t,{mousemove:this.handleMouseMove,mouseup:this.endInteraction});this.listenTo(t,{selectstart:ut,contextmenu:ut})},unbindHandlers:function(){this.stopListeningTo(e.get());this.stopListeningTo(n(document))},startDrag:function(n,t){this.startInteraction(n,t);this.isDragging||(this.isDragging=!0,this.handleDragStart(n))},handleDragStart:function(n){this.trigger("dragStart",n)},handleMove:function(n){var t=y(n)-this.originX,i=p(n)-this.originY,r=this.minDistance;this.isDistanceSurpassed||t*t+i*i>=r*r&&this.handleDistanceSurpassed(n);this.isDragging&&this.handleDrag(t,i,n)},handleDrag:function(n,t,i){this.trigger("drag",n,t,i);this.updateAutoScroll(i)},endDrag:function(n){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(n))},handleDragEnd:function(n){this.trigger("dragEnd",n)},startDelay:function(n){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(n)},this.delay):this.handleDelayEnd(n)},handleDelayEnd:function(n){this.isDelayEnded=!0;this.isDistanceSurpassed&&this.startDrag(n)},handleDistanceSurpassed:function(n){this.isDistanceSurpassed=!0;this.isDelayEnded&&this.startDrag(n)},handleTouchMove:function(n){this.isDragging&&this.shouldCancelTouchScroll&&n.preventDefault();this.handleMove(n)},handleMouseMove:function(n){this.handleMove(n)},handleTouchScroll:function(n){this.isDragging&&!this.scrollAlwaysKills||this.endInteraction(n,!0)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1));this["_"+n]&&this["_"+n].apply(this,Array.prototype.slice.call(arguments,1))}});a.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var n=this.scrollEl;this.isAutoScroll=this.options.scroll&&n&&!n.is(window)&&!n.is(document);this.isAutoScroll&&this.listenTo(n,"scroll",ai(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll();this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=fi(this.scrollEl))},updateAutoScroll:function(n){var r,u,f,e,t=this.scrollSensitivity,i=this.scrollBounds,o=0,s=0;i&&(r=(t-(p(n)-i.top))/t,u=(t-(i.bottom-p(n)))/t,f=(t-(y(n)-i.left))/t,e=(t-(i.right-y(n)))/t,r>=0&&r<=1?o=r*this.scrollSpeed*-1:u>=0&&u<=1&&(o=u*this.scrollSpeed),f>=0&&f<=1?s=f*this.scrollSpeed*-1:e>=0&&e<=1&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(n,t){this.scrollTopVel=n;this.scrollLeftVel=t;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(st(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;this.scrollTopVel<0?n.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);this.scrollLeftVel<0?n.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});it=a.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(n,t){a.call(this,t);this.component=n},handleInteractionStart:function(n){var i,r,t,u=this.subjectEl;this.component.hitsNeeded();this.computeScrollBounds();n?(r={left:y(n),top:p(n)},t=r,u&&(i=fi(u),t=hf(t,i)),this.origHit=this.queryHit(t.left,t.top),u&&this.options.subjectCenter&&(this.origHit&&(i=cr(this.origHit,i)||i),t=cf(i)),this.coordAdjust=lf(t,r)):(this.origHit=null,this.coordAdjust=null);a.prototype.handleInteractionStart.apply(this,arguments)},handleDragStart:function(n){var t;a.prototype.handleDragStart.apply(this,arguments);(t=this.queryHit(y(n),p(n)))&&this.handleHitOver(t)},handleDrag:function(n,t,i){var r;a.prototype.handleDrag.apply(this,arguments);r=this.queryHit(y(i),p(i));eu(r,this.hit)||(this.hit&&this.handleHitOut(),r&&this.handleHitOver(r))},handleDragEnd:function(){this.handleHitDone();a.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(n){var t=eu(n,this.origHit);this.hit=n;this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){a.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.hitsNotNeeded()},handleScrollEnd:function(){a.prototype.handleScrollEnd.apply(this,arguments);this.isDragging&&(this.component.releaseHits(),this.component.prepareHits())},queryHit:function(n,t){return this.coordAdjust&&(n+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(n,t)}});i.touchMouseIgnoreWait=500;e=o.extend(tt,ni,{isTouching:!1,mouseIgnoreDepth:0,handleScrollProxy:null,bind:function(){var t=this;this.listenTo(n(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu});window.addEventListener("touchmove",this.handleTouchMoveProxy=function(i){t.handleTouchMove(n.Event(i))},{passive:!1});window.addEventListener("scroll",this.handleScrollProxy=function(i){t.handleScroll(n.Event(i))},!0)},unbind:function(){this.stopListeningTo(n(document));window.removeEventListener("touchmove",this.handleTouchMoveProxy);window.removeEventListener("scroll",this.handleScrollProxy,!0)},handleTouchStart:function(n){this.stopTouch(n,!0);this.isTouching=!0;this.trigger("touchstart",n)},handleTouchMove:function(n){this.isTouching&&this.trigger("touchmove",n)},handleTouchCancel:function(n){this.isTouching&&(this.trigger("touchcancel",n),this.stopTouch(n))},handleTouchEnd:function(n){this.stopTouch(n)},handleMouseDown:function(n){this.shouldIgnoreMouse()||this.trigger("mousedown",n)},handleMouseMove:function(n){this.shouldIgnoreMouse()||this.trigger("mousemove",n)},handleMouseUp:function(n){this.shouldIgnoreMouse()||this.trigger("mouseup",n)},handleClick:function(n){this.shouldIgnoreMouse()||this.trigger("click",n)},handleSelectStart:function(n){this.trigger("selectstart",n)},handleContextMenu:function(n){this.trigger("contextmenu",n)},handleScroll:function(n){this.trigger("scroll",n)},stopTouch:function(n,t){this.isTouching&&(this.isTouching=!1,this.trigger("touchend",n),t||this.startTouchMouseIgnore())},startTouchMouseIgnore:function(){var t=this,n=i.touchMouseIgnoreWait;n&&(this.mouseIgnoreDepth++,setTimeout(function(){t.mouseIgnoreDepth--},n))},shouldIgnoreMouse:function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)}});!function(){var n=null,t=0;e.get=function(){return n||(n=new e,n.bind()),n};e.needed=function(){e.get();t++};e.unneeded=function(){--t||(n.unbind(),n=null)}}();du=o.extend(tt,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=p(t),this.x0=y(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),sr(t)?this.listenTo(n(document),"touchmove",this.handleMove):this.listenTo(n(document),"mousemove",this.handleMove))},stop:function(t,i){function u(){r.isAnimating=!1;r.removeElement();r.top0=r.left0=null;i&&i()}var r=this,f=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(n(document)),t&&f&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:f,complete:u})):u())},getEl:function(){var n=this.el;return n||(n=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),n.addClass("fc-unselectable"),n.appendTo(this.parentEl)),n},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();null===this.top0&&(n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(n){this.topDelta=p(n)-this.y0;this.leftDelta=y(n)-this.x0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}});v=i.Grid=o.extend(tt,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayClickListener:null,daySelectListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(n){this.view=n;this.isRTL=n.opt("isRTL");this.elsByFill={};this.dayClickListener=this.buildDayClickListener();this.daySelectListener=this.buildDaySelectListener()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(n){this.start=n.start.clone();this.end=n.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var n,t,i=this.view;this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat();n=i.opt("displayEventTime");null==n&&(n=this.computeDisplayEventTime());t=i.opt("displayEventEnd");null==t&&(t=this.computeDisplayEventEnd());this.displayEventTime=n;this.displayEventEnd=t},spanToSegs:function(){},diffDates:function(n,t){return this.largeUnit?wr(n,t,this.largeUnit):pr(n,t)},hitsNeededDepth:0,hitsNeeded:function(){this.hitsNeededDepth++||this.prepareHits()},hitsNotNeeded:function(){this.hitsNeededDepth&&!--this.hitsNeededDepth&&this.releaseHits()},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getSafeHitSpan:function(n){var t=this.getHitSpan(n);return gr(t,this.view.activeRange)?t:null},getHitSpan:function(){},getHitEl:function(){},setElement:function(n){this.el=n;this.hasDayInteractions&&(hr(n),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown));this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(t,i){var r=this;this.el.on(t,function(t){if(!n(t.target).is(r.segSelector+","+r.segSelector+" *,.fc-more,a[data-goto]"))return i.call(r,t)})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(n(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(n(document))},dayMousedown:function(n){var t=this.view;e.get().shouldIgnoreMouse()||(this.dayClickListener.startInteraction(n),t.opt("selectable")&&this.daySelectListener.startInteraction(n,{distance:t.opt("selectMinDistance")}))},dayTouchStart:function(n){var i,t=this.view;t.isSelected||t.selectedEvent||(i=t.opt("selectLongPressDelay"),null==i&&(i=t.opt("longPressDelay")),this.dayClickListener.startInteraction(n),t.opt("selectable")&&this.daySelectListener.startInteraction(n,{delay:i}))},buildDayClickListener:function(){var n,i=this,r=this.view,t=new it(this,{scroll:r.opt("dragScroll"),interactionStart:function(){n=t.origHit},hitOver:function(t,i){i||(n=null)},hitOut:function(){n=null},interactionEnd:function(t,u){var f;!u&&n&&(f=i.getSafeHitSpan(n))&&r.triggerDayClick(f,i.getHitEl(n),t)}});return t.shouldCancelTouchScroll=!1,t.scrollAlwaysKills=!0,t},buildDaySelectListener:function(){var n,t=this,i=this.view;return new it(this,{scroll:i.opt("dragScroll"),interactionStart:function(){n=null},dragStart:function(){i.unselect()},hitOver:function(i,r,u){var f,e;u&&(f=t.getSafeHitSpan(u),e=t.getSafeHitSpan(i),n=f&&e?t.computeSelection(f,e):null,n?t.renderSelection(n):!1===n&&vt())},hitOut:function(){n=null;t.unrenderSelection()},hitDone:function(){yt()},interactionEnd:function(t,r){!r&&n&&i.reportSelection(n,t)}})},clearDragListeners:function(){this.dayClickListener.endInteraction();this.daySelectListener.endInteraction();this.segDragListener&&this.segDragListener.endInteraction();this.segResizeListener&&this.segResizeListener.endInteraction();this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(n,t){var i=this.fabricateHelperEvent(n,t);return this.renderHelper(i,t)},fabricateHelperEvent:function(n,t){var i=t?ot(t.event):{};return i.start=n.start.clone(),i.end=n.end?n.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventDates(i),i.className=(i.className||[]).concat("fc-helper"),t||(i.editable=!1),i},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(n){this.renderHighlight(n)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(n,t){var i=this.computeSelectionSpan(n,t);return!(i&&!this.view.calendar.isSelectionSpanAllowed(i))&&i},computeSelectionSpan:function(n,t){var i=[n.start,n.end,t.start,t.end];return i.sort(ie),{start:i[0].clone(),end:i[3].clone()}},renderHighlight:function(n){this.renderFill("highlight",this.spanToSegs(n))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var r,u=this,f=this[t+"SegEl"],e="",o=[];if(i.length){for(r=0;r<i.length;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegCss"],u=i?i.call(this,t):[],f=bt(r?r.call(this,t):{});return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},getDayClasses:function(n,t){var u,r=this.view,i=[];return et(n,r.activeRange)?(i.push("fc-"+yi[n.day()]),1==r.currentRangeAs("months")&&n.month()!=r.currentRange.start.month()&&i.push("fc-other-month"),u=r.calendar.getNow(),n.isSame(u,"day")?(i.push("fc-today"),!0!==t&&i.push(r.highlightStateClass)):n<u?i.push("fc-past"):i.push("fc-future")):i.push("fc-disabled-day"),i}});v.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(n){for(var i=[],r=[],t=0;t<n.length;t++)(hu(n[t])?i:r).push(n[t]);this.segs=[].concat(this.renderBgEvents(i),this.renderFgEvents(r))},renderBgEvents:function(n){var t=this.eventsToSegs(n);return this.renderBgSegs(t)||t},renderFgEvents:function(n){var t=this.eventsToSegs(n);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(t,i){var r,e=this.view,u="",f=[];if(t.length){for(r=0;r<t.length;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegCss:function(n){return{"background-color":this.getSegSkinCss(n)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(n,t){return this.eventsToSegs(this.buildBusinessHourEvents(n,t))},buildBusinessHourEvents:function(t,i){var r,u=this.view.calendar;return null==i&&(i=u.opt("businessHours")),r=u.computeBusinessHourEvents(t,i),!r.length&&i&&(r=[n.extend({},di,{start:this.view.activeRange.end,end:this.view.activeRange.end,dow:null})]),r},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(n){this.bindSegHandlerToEl(n,"touchstart",this.handleSegTouchStart);this.bindSegHandlerToEl(n,"mouseenter",this.handleSegMouseover);this.bindSegHandlerToEl(n,"mouseleave",this.handleSegMouseout);this.bindSegHandlerToEl(n,"mousedown",this.handleSegMousedown);this.bindSegHandlerToEl(n,"click",this.handleSegClick)},bindSegHandlerToEl:function(t,i,r){var u=this;t.on(i,this.segSelector,function(t){var i=n(this).data("fc-seg");if(i&&!u.isDraggingSeg&&!u.isResizingSeg)return r.call(u,i,t)})},handleSegClick:function(n,t){!1===this.view.publiclyTrigger("eventClick",n.el[0],n.event,t)&&t.preventDefault()},handleSegMouseover:function(n,t){e.get().shouldIgnoreMouse()||this.mousedOverSeg||(this.mousedOverSeg=n,this.view.isEventResizable(n.event)&&n.el.addClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseover",n.el[0],n.event,t))},handleSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(n.event)&&n.el.removeClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseout",n.el[0],n.event,t))},handleSegMousedown:function(n,t){!this.startSegResize(n,t,{distance:5})&&this.view.isEventDraggable(n.event)&&this.buildSegDragListener(n).startInteraction(t,{distance:5})},handleSegTouchStart:function(n,t){var f,r,i=this.view,u=n.event,e=i.isEventSelected(u),o=i.isEventDraggable(u),s=i.isEventResizable(u),h=!1;e&&s&&(h=this.startSegResize(n,t));!h&&(o||s)&&(r=i.opt("eventLongPressDelay"),null==r&&(r=i.opt("longPressDelay")),f=o?this.buildSegDragListener(n):this.buildSegSelectListener(n),f.startInteraction(t,{delay:e?0:r}))},startSegResize:function(t,i,r){return!!n(i.target).is(".fc-resizer")&&(this.buildSegResizeListener(t,n(i.target).is(".fc-start-resizer")).startInteraction(i,r),!0)},buildSegDragListener:function(n){var o,u,i,r=this,t=this.view,s=n.el,f=n.event,e;return this.segDragListener?this.segDragListener:e=this.segDragListener=new it(t,{scroll:t.opt("dragScroll"),subjectEl:s,subjectCenter:!0,interactionStart:function(i){n.component=r;o=!1;u=new du(n.el,{additionalClass:"fc-dragging",parentEl:t.el,opacity:e.isTouch?null:t.opt("dragOpacity"),revertDuration:t.opt("dragRevertDuration"),zIndex:2});u.hide();u.start(i)},dragStart:function(i){e.isTouch&&!t.isEventSelected(f)&&t.selectEvent(f);o=!0;r.handleSegMouseout(n,i);r.segDragStart(n,i);t.hideEvent(f)},hitOver:function(o,s,h){var c,l,a,v=!0;n.hit&&(h=n.hit);c=h.component.getSafeHitSpan(h);l=o.component.getSafeHitSpan(o);c&&l?(i=r.computeEventDrop(c,l,f),v=i&&r.isEventLocationAllowed(i,f)):v=!1;v||(i=null,vt());i&&(a=t.renderDrag(i,n))?(a.addClass("fc-dragging"),e.isTouch||r.applyDragOpacity(a),u.hide()):u.show();s&&(i=null)},hitOut:function(){t.unrenderDrag();u.show();i=null},hitDone:function(){yt()},interactionEnd:function(e){delete n.component;u.stop(!i,function(){o&&(t.unrenderDrag(),r.segDragStop(n,e));i?t.reportSegDrop(n,i,r.largeUnit,s,e):t.showEvent(f)});r.segDragListener=null}})},buildSegSelectListener:function(n){var u=this,t=this.view,i=n.event,r;return this.segDragListener?this.segDragListener:r=this.segDragListener=new a({dragStart:function(){r.isTouch&&!t.isEventSelected(i)&&t.selectEvent(i)},interactionEnd:function(){u.segDragListener=null}})},segDragStart:function(n,t){this.isDraggingSeg=!0;this.view.publiclyTrigger("eventDragStart",n.el[0],n.event,t,{})},segDragStop:function(n,t){this.isDraggingSeg=!1;this.view.publiclyTrigger("eventDragStop",n.el[0],n.event,t,{})},computeEventDrop:function(n,t,i){var u,r,e=this.view.calendar,o=n.start,f=t.start;return o.hasTime()===f.hasTime()?(u=this.diffDates(f,o),i.allDay&&k(u)?(r={start:i.start.clone(),end:e.getEventEnd(i),allDay:!1},e.normalizeEventTimes(r)):r=su(i),r.start.add(u),r.end&&r.end.add(u)):r={start:f.clone(),end:null,allDay:!f.hasTime()},r},applyDragOpacity:function(n){var t=this.view.opt("dragOpacity");null!=t&&n.css("opacity",t)},externalDragStart:function(t,i){var r,u,f=this.view;f.opt("droppable")&&(r=n((i?i.item:null)||t.target),u=f.opt("dropAccept"),(n.isFunction(u)?u.call(r[0],r):r.is(u))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,i)))},listenToExternalDrag:function(n,t,i){var r,u=this,e=this.view,f=oe(n);(u.externalDragListener=new it(this,{interactionStart:function(){u.isDraggingExternal=!0},hitOver:function(n){var t=!0,i=n.component.getSafeHitSpan(n);i?(r=u.computeExternalDrop(i,f),t=r&&u.isExternalLocationAllowed(r,f.eventProps)):t=!1;t||(r=null,vt());r&&u.renderDrag(r)},hitOut:function(){r=null},hitDone:function(){yt();u.unrenderDrag()},interactionEnd:function(t){r&&e.reportExternalDrop(f,r,n,t,i);u.isDraggingExternal=!1;u.externalDragListener=null}})).startDrag(t)},computeExternalDrop:function(n,t){var r=this.view.calendar,i={start:r.applyTimezone(n.start),end:null};return t.startTime&&!i.start.hasTime()&&i.start.time(t.startTime),t.duration&&(i.end=i.start.clone().add(t.duration)),i},renderDrag:function(){},unrenderDrag:function(){},buildSegResizeListener:function(n,t){var e,i,r=this,f=this.view,s=f.calendar,o=n.el,u=n.event,h=s.getEventEnd(u);return this.segResizeListener=new it(this,{scroll:f.opt("dragScroll"),subjectEl:o,interactionStart:function(){e=!1},dragStart:function(t){e=!0;r.handleSegMouseout(n,t);r.segResizeStart(n,t)},hitOver:function(e,o,s){var c=!0,l=r.getSafeHitSpan(s),a=r.getSafeHitSpan(e);l&&a?(i=t?r.computeEventStartResize(l,a,u):r.computeEventEndResize(l,a,u),c=i&&r.isEventLocationAllowed(i,u)):c=!1;c?i.start.isSame(u.start.clone().stripZone())&&i.end.isSame(h.clone().stripZone())&&(i=null):(i=null,vt());i&&(f.hideEvent(u),r.renderEventResize(i,n))},hitOut:function(){i=null;f.showEvent(u)},hitDone:function(){r.unrenderEventResize();yt()},interactionEnd:function(t){e&&r.segResizeStop(n,t);i?f.reportSegResize(n,i,r.largeUnit,o,t):f.showEvent(u);r.segResizeListener=null}})},segResizeStart:function(n,t){this.isResizingSeg=!0;this.view.publiclyTrigger("eventResizeStart",n.el[0],n.event,t,{})},segResizeStop:function(n,t){this.isResizingSeg=!1;this.view.publiclyTrigger("eventResizeStop",n.el[0],n.event,t,{})},computeEventStartResize:function(n,t,i){return this.computeEventResize("start",n,t,i)},computeEventEndResize:function(n,t,i){return this.computeEventResize("end",n,t,i)},computeEventResize:function(n,t,i,r){var u,e,f=this.view.calendar,o=this.diffDates(i[n],t[n]);return u={start:r.start.clone(),end:f.getEventEnd(r),allDay:r.allDay},u.allDay&&k(o)&&(u.allDay=!1,f.normalizeEventTimes(u)),u[n].add(o),u.start.isBefore(u.end)||(e=this.minResizeDuration||(r.allDay?f.defaultAllDayEventDuration:f.defaultTimedEventDuration),"start"==n?u.start=u.end.clone().subtract(e):u.end=u.start.clone().add(e)),u},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(n,t,i){return null==t&&(t=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&n.start.hasTime()?i&&n.end?this.view.formatRange(n,t):n.start.format(t):""},getSegClasses:function(n,t,i){var u=this.view,r=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(n));return t&&r.push("fc-draggable"),i&&r.push("fc-resizable"),u.isEventSelected(n.event)&&r.push("fc-selected"),r},getSegCustomClasses:function(n){var t=n.event;return[].concat(t.className,t.source?t.source.className:[])},getSegSkinCss:function(n){return{"background-color":this.getSegBackgroundColor(n),"border-color":this.getSegBorderColor(n),color:this.getSegTextColor(n)}},getSegBackgroundColor:function(n){return n.event.backgroundColor||n.event.color||this.getSegDefaultBackgroundColor(n)},getSegDefaultBackgroundColor:function(n){var t=n.event.source||{};return t.backgroundColor||t.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(n){return n.event.borderColor||n.event.color||this.getSegDefaultBorderColor(n)},getSegDefaultBorderColor:function(n){var t=n.event.source||{};return t.borderColor||t.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(n){return n.event.textColor||this.getSegDefaultTextColor(n)},getSegDefaultTextColor:function(n){return(n.event.source||{}).textColor||this.view.opt("eventTextColor")},isEventLocationAllowed:function(n,t){if(this.isEventLocationInRange(n)){var i,u=this.view.calendar,r=this.eventToSpans(n);if(r.length){for(i=0;i<r.length;i++)if(!u.isEventSpanAllowed(r[i],t))return!1;return!0}}return!1},isExternalLocationAllowed:function(n,t){if(this.isEventLocationInRange(n)){var i,u=this.view.calendar,r=this.eventToSpans(n);if(r.length){for(i=0;i<r.length;i++)if(!u.isExternalSpanAllowed(r[i],n,t))return!1;return!0}}return!1},isEventLocationInRange:function(n){return gr(this.eventToRawRange(n),this.view.validRange)},eventToSegs:function(n){return this.eventsToSegs([n])},eventToSpans:function(n){var t=this.eventToRange(n);return t?this.eventRangeToSpans(t,n):[]},eventsToSegs:function(t,i){var u=this,f=fe(t),r=[];return n.each(f,function(n,t){for(var o,s=[],e=[],f=0;f<t.length;f++)(o=u.eventToRange(t[f]))&&(e.push(o),s.push(t[f]));if(ue(t[0]))for(e=u.invertRanges(e),f=0;f<e.length;f++)r.push.apply(r,u.eventRangeToSegs(e[f],t[0],i));else for(f=0;f<e.length;f++)r.push.apply(r,u.eventRangeToSegs(e[f],s[f],i))}),r},eventToRange:function(n){return this.refineRawEventRange(this.eventToRawRange(n))},refineRawEventRange:function(n){var i=this.view,r=i.calendar,t=ft(n,i.activeRange);if(t)return r.localizeMoment(t.start),r.localizeMoment(t.end),t},eventToRawRange:function(n){var t=this.view.calendar;return{start:n.start.clone().stripZone(),end:(n.end?n.end.clone():t.getDefaultEventEnd(null!=n.allDay?n.allDay:!n.start.hasTime(),n.start)).stripZone()}},eventRangeToSegs:function(n,t,i){for(var f=this.eventRangeToSpans(n,t),u=[],r=0;r<f.length;r++)u.push.apply(u,this.eventSpanToSegs(f[r],t,i));return u},eventRangeToSpans:function(t){return[n.extend({},t)]},eventSpanToSegs:function(n,t,i){for(var r,f=i?i(n):this.spanToSegs(n),u=0;u<f.length;u++)r=f[u],n.isStart||(r.isStart=!1),n.isEnd||(r.isEnd=!1),r.event=t,r.eventStartMS=+n.start,r.eventDurationMS=n.end-n.start;return f},invertRanges:function(n){var r,i,f=this.view,o=f.activeRange.start.clone(),e=f.activeRange.end.clone(),u=[],t=o;for(n.sort(ee),r=0;r<n.length;r++)i=n[r],i.start>t&&u.push({start:t,end:i.start}),i.end>t&&(t=i.end);return t<e&&u.push({start:t,end:e}),u},sortEventSegs:function(n){n.sort(st(this,"compareEventSegs"))},compareEventSegs:function(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||ar(n.event,t.event,this.view.eventOrderSpecs)}});i.pluckEventDateProps=su;i.isBgEvent=hu;i.dataAttrPrefix="";bi=i.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var n,e,r,o=this.view,i=this.start.clone(),u=-1,f=[],t=[];i.isBefore(this.end);)o.isHiddenDay(i)?f.push(u+.5):(u++,f.push(u),t.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(e=t[0].day(),n=1;n<t.length&&t[n].day()!=e;n++);r=Math.ceil(t.length/n)}else r=1,n=t.length;this.dayDates=t;this.dayIndices=f;this.daysPerRow=n;this.rowCnt=r;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(n,t){return this.dayDates[this.getCellDayIndex(n,t)].clone()},getCellRange:function(n,t){var i=this.getCellDate(n,t);return{start:i,end:i.clone().add(1,"days")}},getCellDayIndex:function(n,t){return n*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(n){return this.isRTL?this.colCnt-1-n:n},getDateDayIndex:function(n){var t=this.dayIndices,i=n.diff(this.start,"days");return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(n){for(var u,f,t,i,e=this.daysPerRow,o=this.view.computeDayRange(n),s=this.getDateDayIndex(o.start),h=this.getDateDayIndex(o.end.clone().subtract(1,"days")),c=[],r=0;r<this.rowCnt;r++)u=r*e,f=u+e-1,t=Math.max(s,u),i=Math.min(h,f),t=Math.ceil(t),i=Math.floor(i),t<=i&&c.push({row:r,firstRowDayIndex:t-u,lastRowDayIndex:i-u,isStart:t===s,isEnd:i===h});return c},sliceRangeByDay:function(n){for(var u,e,f,t,i,o=this.daysPerRow,s=this.view.computeDayRange(n),h=this.getDateDayIndex(s.start),c=this.getDateDayIndex(s.end.clone().subtract(1,"days")),l=[],r=0;r<this.rowCnt;r++)for(u=r*o,e=u+o-1,f=u;f<=e;f++)t=Math.max(h,f),i=Math.min(c,f),t=Math.ceil(t),i=Math.floor(i),t<=i&&l.push({row:r,firstRowDayIndex:t-u,lastRowDayIndex:i-u,isStart:t===h,isEnd:i===c});return l},renderHeadHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"<\/thead><\/table><\/div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"<\/tr>"},renderHeadDateCellsHtml:function(){for(var t,i=[],n=0;n<this.colCnt;n++)t=this.getCellDate(0,n),i.push(this.renderHeadDateCellHtml(t));return i.join("")},renderHeadDateCellHtml:function(n,t,i){var f=this.view,e=et(n,f.activeRange),r=["fc-day-header",f.widgetHeaderClass],o=u(n.format(this.colHeadFormat));return 1===this.rowCnt?r=r.concat(this.getDayClasses(n,!0)):r.push("fc-"+yi[n.day()]),'<th class="'+r.join(" ")+'"'+(1===(e&&this.rowCnt)?' data-date="'+n.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(i?" "+i:"")+">"+(e?f.buildGotoAnchorHtml({date:n,forceOff:this.rowCnt>1||1===this.colCnt},o):o)+"<\/th>"},renderBgTrHtml:function(n){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(n))+this.renderBgCellsHtml(n)+(this.isRTL?this.renderBgIntroHtml(n):"")+"<\/tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(n){for(var i,r=[],t=0;t<this.colCnt;t++)i=this.getCellDate(n,t),r.push(this.renderBgCellHtml(i));return r.join("")},renderBgCellHtml:function(n,t){var i=this.view,u=et(n,i.activeRange),r=this.getDayClasses(n);return r.unshift("fc-day",i.widgetContentClass),'<td class="'+r.join(" ")+'"'+(u?' data-date="'+n.format("YYYY-MM-DD")+'"':"")+(t?" "+t:"")+"><\/td>"},renderIntroHtml:function(){},bookendCells:function(n){var t=this.renderIntroHtml();t&&(this.isRTL?n.append(t):n.prepend(t))}};at=i.DayGrid=v.extend(bi,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(n){for(var i,f=this.view,r=this.rowCnt,e=this.colCnt,u="",t=0;t<r;t++)u+=this.renderDayRowHtml(t,n);for(this.el.html(u),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day, .fc-disabled-day"),this.rowCoordCache=new ti({els:this.rowEls,isVertical:!0}),this.colCoordCache=new ti({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<r;t++)for(i=0;i<e;i++)f.publiclyTrigger("dayRender",null,this.getCellDate(t,i),this.getCellEl(t,i))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var n=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",n,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},renderNumberTrHtml:function(n){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(n))+this.renderNumberCellsHtml(n)+(this.isRTL?this.renderNumberIntroHtml(n):"")+"<\/tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(n){for(var i,r=[],t=0;t<this.colCnt;t++)i=this.getCellDate(n,t),r.push(this.renderNumberCellHtml(i));return r.join("")},renderNumberCellHtml:function(n){var r,u,t=this.view,i="",f=et(n,t.activeRange),e=t.dayNumbersVisible&&f;return e||t.cellWeekNumbersVisible?(r=this.getDayClasses(n),r.unshift("fc-day-top"),t.cellWeekNumbersVisible&&(u="ISO"===n._locale._fullCalendar_weekCalc?1:n._locale.firstDayOfWeek()),i+='<td class="'+r.join(" ")+'"'+(f?' data-date="'+n.format()+'"':"")+">",t.cellWeekNumbersVisible&&n.day()==u&&(i+=t.buildGotoAnchorHtml({date:n,type:"week"},{"class":"fc-week-number"},n.format("w"))),e&&(i+=t.buildGotoAnchorHtml(n,{"class":"fc-day-number"},n.date())),i+="<\/td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(n){for(var t,r=this.sliceRangeByRow(n),i=0;i<r.length;i++)t=r[i],this.isRTL?(t.leftCol=this.daysPerRow-1-t.lastRowDayIndex,t.rightCol=this.daysPerRow-1-t.firstRowDayIndex):(t.leftCol=t.firstRowDayIndex,t.rightCol=t.lastRowDayIndex);return r},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(n,t){if(this.colCoordCache.isLeftInBounds(n)&&this.rowCoordCache.isTopInBounds(t)){var i=this.colCoordCache.getHorizontalIndex(n),r=this.rowCoordCache.getVerticalIndex(t);if(null!=r&&null!=i)return this.getCellHit(r,i)}},getHitSpan:function(n){return this.getCellRange(n.row,n.col)},getHitEl:function(n){return this.getCellEl(n.row,n.col)},getCellHit:function(n,t){return{row:n,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(n),bottom:this.rowCoordCache.getBottomOffset(n)}},getCellEl:function(n,t){return this.cellEls.eq(n*this.colCnt+t)},renderDrag:function(n,t){for(var r=this.eventToSpans(n),i=0;i<r.length;i++)this.renderHighlight(r[i]);if(t&&t.component!==this)return this.renderEventLocationHelper(n,t)},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(n,t){for(var r=this.eventToSpans(n),i=0;i<r.length;i++)this.renderHighlight(r[i]);return this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(t,i){var u,f=[],r=this.eventToSegs(t);return r=this.renderFgSegEls(r),u=this.renderSegRows(r),this.rowEls.each(function(t,r){var o,s=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>');o=i&&i.row===t?i.el.position().top:s.find(".fc-content-skeleton tbody").position().top;e.css("top",o).find("table").append(u[t].tbodyEl);s.append(e);f.push(e[0])}),this.helperEls=n(f)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i,r){var u,f,e,o=[];for(i=this.renderFillSegEls(t,i),u=0;u<i.length;u++)f=i[u],e=this.renderFillRow(t,f,r),this.rowEls.eq(f.row).append(e),o.push(e[0]);return this.elsByFill[t]=n(o),i},renderFillRow:function(t,i,r){var f,u,s=this.colCnt,e=i.leftCol,o=i.rightCol+1;return r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),u=f.find("tr"),e>0&&u.append('<td colspan="'+e+'"/>'),u.append(i.el.attr("colspan",o-e)),o<s&&u.append('<td colspan="'+(s-o)+'"/>'),this.bookendCells(u),f}});at.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();v.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return v.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return v.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var n,t=this.rowStructs||[];n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;t<i.length;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var o,r,f=this.view,i=n.event,a=f.isEventDraggable(i),s=!t&&i.allDay&&n.isStart&&f.isEventResizableFromStart(i),h=!t&&i.allDay&&n.isEnd&&f.isEventResizableFromEnd(i),c=this.getSegClasses(n,a,s||h),l=bt(this.getSegSkinCss(n)),e="";return c.unshift("fc-day-grid-event","fc-h-event"),n.isStart&&(o=this.getEventTimeText(i))&&(e='<span class="fc-time">'+u(o)+"<\/span>"),r='<span class="fc-title">'+(u(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+c.join(" ")+'"'+(i.url?' href="'+u(i.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+e:e+" "+r)+"<\/div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(h?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},renderSegRow:function(t,i){function y(t){for(;u<t;)r=(l[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),c[f][u]=r,l[f][u]=r,u++}for(var s,u,o,h,e,r,w=this.colCnt,a=this.buildSegLevels(i),b=Math.max(1,a.length),p=n("<tbody/>"),v=[],c=[],l=[],f=0;f<b;f++){if(s=a[f],u=0,o=n("<tr/>"),v.push([]),c.push([]),l.push([]),s)for(h=0;h<s.length;h++){for(e=s[h],y(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):l[f][u]=r;u<=e.rightCol;)c[f][u]=r,v[f][u]=e,u++;o.append(r)}y(w);this.bookendCells(o);p.append(o)}return{row:t,tbodyEl:p,cellMatrix:c,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var r,u,t,i=[];for(this.sortEventSegs(n),r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&se(u,i[t]);t++);u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;t<i.length;t++)i[t].sort(he);return i},groupSegRows:function(n){for(var i=[],t=0;t<this.rowCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].row].push(n[t]);return i}});at.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var i,r=this.rowStructs||[],t=0;t<r.length;t++)this.unlimitRow(t),!1!==(i=!!n&&("number"==typeof n?n:this.computeRowLevelLimit(t)))&&this.limitRow(t,i)},computeRowLevelLimit:function(t){function e(t,i){r=Math.max(r,n(i).outerHeight())}for(var u,r,o=this.rowEls.eq(t),s=o.height(),f=this.rowStructs[t].tbodyEl.children(),i=0;i<f.length;i++)if(u=f.eq(i).removeClass("fc-limited"),r=0,u.find("> td > :first-child").each(e),u.position().top+r>s)return i;return!1},limitRow:function(t,i){function g(f){for(;u<f;)r=tt.getCellSegs(t,u,i),r.length&&(e=p[i-1][u],v=tt.renderMoreLink(t,u,r),h=n("<div/>").append(v),e.append(h),d.push(h[0])),u++}var y,p,w,c,f,r,b,l,e,nt,k,s,a,h,v,tt=this,o=this.rowStructs[t],d=[],u=0;if(i&&i<o.segLevels.length){for(y=o.segLevels[i-1],p=o.cellMatrix,w=o.tbodyEl.children().slice(i).addClass("fc-limited").get(),c=0;c<y.length;c++){for(f=y[c],g(f.leftCol),l=[],b=0;u<=f.rightCol;)r=this.getCellSegs(t,u,i),l.push(r),b+=r.length,u++;if(b){for(e=p[i-1][f.leftCol],nt=e.attr("rowspan")||1,k=[],s=0;s<l.length;s++)a=n('<td class="fc-more-cell"/>').attr("rowspan",nt),r=l[s],v=this.renderMoreLink(t,f.leftCol+s,[f].concat(r)),h=n("<div/>").append(v),a.append(h),k.push(a[0]),d.push(a[0]);e.addClass("fc-limited").after(n(k));w.push(e[0])}}g(this.colCnt);o.moreEls=n(d);o.limitedEls=n(w)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i,r){var u=this,f=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(e){var o=f.opt("eventLimitClick"),s=u.getCellDate(t,i),h=n(this),l=u.getCellEl(t,i),a=u.getCellSegs(t,i),c=u.resliceDaySegs(a,s),v=u.resliceDaySegs(r,s);"function"==typeof o&&(o=f.publiclyTrigger("eventLimitClick",null,{date:s,dayEl:l,moreEl:h,segs:c,hiddenSegs:v},e));"popover"===o?u.showSegPopover(t,i,h,c):"string"==typeof o&&f.calendar.zoomTo(s,o)})},showSegPopover:function(n,t,i,r){var s,f,u=this,e=this.view,o=i.parent();s=1==this.rowCnt?e.el:this.rowEls.eq(n);f={className:"fc-more-popover",content:this.renderSegPopoverContent(n,t,r),parentEl:this.view.el,top:s.offset().top,autoHide:!0,viewportConstrain:e.opt("popoverViewportConstrain"),hide:function(){if(u.popoverSegs)for(var n,t=0;t<u.popoverSegs.length;++t)n=u.popoverSegs[t],e.publiclyTrigger("eventDestroy",n.event,n.event,n.el);u.segPopover.removeElement();u.segPopover=null;u.popoverSegs=null}};this.isRTL?f.right=o.offset().left+o.outerWidth()+1:f.left=o.offset().left-1;this.segPopover=new ke(f);this.segPopover.show();this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(t,i,r){var f,e=this.view,s=e.opt("theme"),h=this.getCellDate(t,i).format(e.opt("dayPopoverFormat")),o=n('<div class="fc-header '+e.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+u(h)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+e.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),c=o.find(".fc-event-container");for(r=this.renderFgSegEls(r,!0),this.popoverSegs=r,f=0;f<r.length;f++)this.hitsNeeded(),r[f].hit=this.getCellHit(t,i),this.hitsNotNeeded(),c.append(r[f].el);return o},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone(),f=r.clone().add(1,"days"),e={start:r,end:f};return t=this.eventsToSegs(u,function(n){var t=ft(n,e);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(n){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(n):"+"+n+" "+t},getCellSegs:function(n,t,i){for(var r,f=this.rowStructs[n].segMatrix,u=i||0,e=[];u<f.length;)r=f[u][t],r&&e.push(r),u++;return e}});ki=i.TimeGrid=v.extend(bi,{slotDuration:null,snapDuration:null,snapsPerSlot:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){v.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day, .fc-disabled-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new ti({els:this.colEls,isHorizontal:!0});this.slatCoordCache=new ti({els:this.slatEls,isVertical:!0});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'<\/table><\/div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"<\/table><\/div>"},renderSlatRowHtml:function(){for(var i,r,f,e=this.view,o=this.isRTL,s="",n=t.duration(+this.view.minTime);n<this.view.maxTime;)i=this.start.clone().time(n),r=w(oi(n,this.labelInterval)),f='<td class="fc-axis fc-time '+e.widgetContentClass+'" '+e.axisStyleAttr()+">"+(r?"<span>"+u(i.format(this.labelFormat))+"<\/span>":"")+"<\/td>",s+='<tr data-time="'+i.format("HH:mm:ss")+'"'+(r?"":' class="fc-minor"')+">"+(o?"":f)+'<td class="'+e.widgetContentClass+'"/>'+(o?f:"")+"<\/tr>",n.add(this.slotDuration);return s},processOptions:function(){var i,f=this.view,r=f.opt("slotDuration"),u=f.opt("snapDuration");r=t.duration(r);u=u?t.duration(u):r;this.slotDuration=r;this.snapDuration=u;this.snapsPerSlot=r/u;this.minResizeDuration=u;i=f.opt("slotLabelFormat");n.isArray(i)&&(i=i[i.length-1]);this.labelFormat=i||f.opt("smallTimeFormat");i=f.opt("slotLabelInterval");this.labelInterval=i?t.duration(i):this.computeLabelInterval(r)},computeLabelInterval:function(n){for(var r,u,i=tf.length-1;i>=0;i--)if(r=t.duration(tf[i]),u=oi(r,n),w(u)&&u>1)return r;return t.duration(n)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(n,t){var u=this.snapsPerSlot,f=this.colCoordCache,e=this.slatCoordCache,i,r;if(f.isLeftInBounds(n)&&e.isTopInBounds(t)&&(i=f.getHorizontalIndex(n),r=e.getVerticalIndex(t),null!=i&&null!=r)){var o=e.getTopOffset(r),s=e.getHeight(r),c=(t-o)/s,h=Math.floor(c*u),l=r*u+h,a=o+h/u*s,v=o+(h+1)/u*s;return{col:i,snap:l,component:this,left:f.getLeftOffset(i),right:f.getRightOffset(i),top:a,bottom:v}}},getHitSpan:function(n){var i,t=this.getCellDate(0,n.col),r=this.computeSnapTime(n.snap);return t.time(r),i=t.clone().add(this.snapDuration),{start:t,end:i}},getHitEl:function(n){return this.colEls.eq(n.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(n){return t.duration(this.view.minTime+this.snapDuration*n)},spanToSegs:function(n){for(var i=this.sliceRangeByTimes(n),t=0;t<i.length;t++)i[t].col=this.isRTL?this.daysPerRow-1-i[t].dayIndex:i[t].dayIndex;return i},sliceRangeByTimes:function(n){for(var i,r,u,f=[],t=0;t<this.daysPerRow;t++)r=this.dayDates[t].clone().time(0),u={start:r.clone().add(this.view.minTime),end:r.clone().add(this.view.maxTime)},(i=ft(n,u))&&(i.dayIndex=t,f.push(i));return f},updateSize:function(n){this.slatCoordCache.build();n&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n-i.clone().stripTime()))},computeTimeTop:function(n){var t,r,u=this.slatEls.length,i=(n-this.view.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(u,i),t=Math.floor(i),t=Math.min(t,u-1),r=i-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*r},renderDrag:function(n,t){var r,i;if(t)return this.renderEventLocationHelper(n,t);for(r=this.eventToSpans(n),i=0;i<r.length;i++)this.renderHighlight(r[i])},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(n,t){return this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(n,t){return this.renderHelperSegs(this.eventToSegs(n),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){for(var r=this.spanToSegs({start:t,end:t}),f=this.computeDateTop(t,t),u=[],i=0;i<r.length;i++)u.push(n('<div class="fc-now-indicator fc-now-indicator-line"><\/div>').css("top",f).appendTo(this.colContainerEls.eq(r[i].col))[0]);r.length>0&&u.push(n('<div class="fc-now-indicator fc-now-indicator-arrow"><\/div>').css("top",f).appendTo(this.el.find(".fc-content-skeleton"))[0]);this.nowIndicatorEls=n(u)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(n){this.view.opt("selectHelper")?this.renderEventLocationHelper(n):this.renderHighlight(n)},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(n){this.renderHighlightSegs(this.spanToSegs(n))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});ki.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){for(var t,r="",i=0;i<this.colCnt;i++)r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"><\/div><div class="fc-event-container"><\/div><div class="fc-highlight-container"><\/div><div class="fc-bgevent-container"><\/div><div class="fc-business-container"><\/div><\/div><\/td>';t=n('<div class="fc-content-skeleton"><table><tr>'+r+"<\/tr><\/table><\/div>");this.colContainerEls=t.find(".fc-content-col");this.helperContainerEls=t.find(".fc-helper-container");this.fgContainerEls=t.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=t.find(".fc-bgevent-container");this.highlightContainerEls=t.find(".fc-highlight-container");this.businessContainerEls=t.find(".fc-business-container");this.bookendCells(t.find("tr"));this.el.append(t)},renderFgSegs:function(n){return n=this.renderFgSegsIntoContainers(n,this.fgContainerEls),this.fgSegs=n,n},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,i){var u,f,r,e=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),u=0;u<t.length;u++)f=t[u],i&&i.col===f.col&&(r=i.el,f.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")})),e.push(f.el[0]);return this.helperSegs=t,n(e)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(n){return n=this.renderFillSegEls("bgEvent",n),this.updateSegVerticals(n),this.attachSegsByCol(this.groupSegsByCol(n),this.bgContainerEls),this.bgSegs=n,n},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(n){n=this.renderFillSegEls("highlight",n);this.updateSegVerticals(n);this.attachSegsByCol(this.groupSegsByCol(n),this.highlightContainerEls);this.highlightSegs=n},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(n){n=this.renderFillSegEls("businessHours",n);this.updateSegVerticals(n);this.attachSegsByCol(this.groupSegsByCol(n),this.businessContainerEls);this.businessSegs=n},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(n){for(var i=[],t=0;t<this.colCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].col].push(n[t]);return i},attachSegsByCol:function(n,t){for(var u,r,i=0;i<this.colCnt;i++)for(u=n[i],r=0;r<u.length;r++)t.eq(i).append(u[r].el)},unrenderNamedSegs:function(n){var t,i=this[n];if(i){for(t=0;t<i.length;t++)i[t].el.remove();this[n]=null}},renderFgSegsIntoContainers:function(n,t){var r,i;for(n=this.renderFgSegEls(n),r=this.groupSegsByCol(n),i=0;i<this.colCnt;i++)this.updateFgSegCoords(r[i]);return this.attachSegsByCol(r,t),n},fgSegHtml:function(n,t){var r,e,o,f=this.view,i=n.event,l=f.isEventDraggable(i),a=!t&&n.isStart&&f.isEventResizableFromStart(i),s=!t&&n.isEnd&&f.isEventResizableFromEnd(i),h=this.getSegClasses(n,l,a||s),c=bt(this.getSegSkinCss(n));return h.unshift("fc-time-grid-event","fc-v-event"),f.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(r=this.getEventTimeText(n),e=this.getEventTimeText(n,"LT"),o=this.getEventTimeText(n,null,!1)):(r=this.getEventTimeText(i),e=this.getEventTimeText(i,"LT"),o=this.getEventTimeText(i,null,!1)),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+u(i.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(r?'<div class="fc-time" data-start="'+u(o)+'" data-full="'+u(e)+'"><span>'+u(r)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+u(i.title)+"<\/div>":"")+'<\/div><div class="fc-bg"/>'+(s?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},updateSegVerticals:function(n){this.computeSegVerticals(n);this.assignSegVerticals(n)},computeSegVerticals:function(n){for(var t,r,i=0;i<n.length;i++)t=n[i],r=this.dayDates[t.dayIndex],t.top=this.computeDateTop(t.start,r),t.bottom=this.computeDateTop(t.end,r)},assignSegVerticals:function(n){for(var i,t=0;t<n.length;t++)i=n[t],i.el.css(this.generateSegVerticalCss(i))},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},updateFgSegCoords:function(n){this.computeSegVerticals(n);this.computeFgSegHorizontals(n);this.assignSegVerticals(n);this.assignFgSegHorizontals(n)},computeFgSegHorizontals:function(n){var r,i,t;if(this.sortEventSegs(n),r=ce(n),le(r),i=r[0]){for(t=0;t<i.length;t++)lu(i[t]);for(t=0;t<i.length;t++)this.computeFgSegForwardBack(i[t],0,0)}},computeFgSegForwardBack:function(n,t,i){var u,r=n.forwardSegs;if(void 0===n.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;u<r.length;u++)this.computeFgSegForwardBack(r[u],0,n.forwardCoord)},sortForwardSegs:function(n){n.sort(st(this,"compareForwardSegs"))},compareForwardSegs:function(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(n,t)},assignFgSegHorizontals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.el.css(this.generateFgSegHorizontalCss(t)),t.bottom-t.top<30&&t.el.addClass("fc-short")},generateFgSegHorizontalCss:function(n){var u,f,e=this.view.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n);return e&&(r=Math.min(1,i+2*(r-i))),this.isRTL?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=100*u+"%",t.right=100*f+"%",e&&n.forwardPressure&&(t[this.isRTL?"marginLeft":"marginRight"]=20),t}});c=i.View=nt.extend({type:null,name:null,title:null,calendar:null,viewSpec:null,options:null,el:null,renderQueue:null,batchRenderDepth:0,isDatesRendered:!1,isEventsRendered:!1,isBaseRendered:!1,queuedScroll:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(n,i){nt.prototype.constructor.call(this);this.calendar=n;this.viewSpec=i;this.type=i.type;this.options=i.options;this.name=this.type;this.nextDayThreshold=t.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=lr(this.opt("eventOrder"));this.renderQueue=this.buildRenderQueue();this.initAutoBatchRender();this.initialize()},buildRenderQueue:function(){var n=this,t=new wi({event:this.opt("eventRenderWait")});return t.on("start",function(){n.freezeHeight();n.addScroll(n.queryScroll())}),t.on("stop",function(){n.thawHeight();n.popScroll()}),t},initAutoBatchRender:function(){var n=this;this.on("before:change",function(){n.startBatchRender()});this.on("change",function(){n.stopBatchRender()})},startBatchRender:function(){this.batchRenderDepth++||this.renderQueue.pause()},stopBatchRender:function(){--this.batchRenderDepth||this.renderQueue.resume()},initialize:function(){},opt:function(n){return this.options[n]},publiclyTrigger:function(n,t){var i=this.calendar;return i.publiclyTrigger.apply(i,[n,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},updateTitle:function(){this.title=this.computeTitle();this.calendar.setToolbarsTitle(this.title)},computeTitle:function(){var n;return n=/^(year|month)$/.test(this.currentRangeUnit)?this.currentRange:this.activeRange,this.formatRange({start:this.calendar.applyTimezone(n.start),end:this.calendar.applyTimezone(n.end)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.currentRangeUnit?"YYYY":"month"==this.currentRangeUnit?this.opt("monthYearFormat"):this.currentRangeAs("days")>1?"ll":"LL"},formatRange:function(n,t,i){var r=n.end;return r.hasTime()||(r=r.clone().subtract(1)),be(n.start,r,t,i,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||u(this.opt("allDayText"))},buildGotoAnchorHtml:function(t,r,f){var e,o,s,h;return n.isPlainObject(t)?(e=t.date,o=t.type,s=t.forceOff):e=t,e=i.moment(e),h={date:e.format("YYYY-MM-DD"),type:o||"day"},"string"==typeof r&&(f=r,r=null),r=r?" "+te(r):"",f=f||"",!s&&this.opt("navLinks")?"<a"+r+' data-goto="'+u(JSON.stringify(h))+'">'+f+"<\/a>":"<span"+r+">"+f+"<\/span>"},setElement:function(n){this.el=n;this.bindGlobalHandlers();this.bindBaseRenderHandlers();this.renderSkeleton()},removeElement:function(){this.unsetDate();this.unrenderSkeleton();this.unbindGlobalHandlers();this.unbindBaseRenderHandlers();this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(n){var i=this.get("dateProfile"),t=this.buildDateProfile(n,null,!0);return i&&bf(i.activeRange,t.activeRange)||this.set("dateProfile",t),t.date},unsetDate:function(){this.unset("dateProfile")},requestDateRender:function(n){var t=this;this.renderQueue.queue(function(){t.executeDateRender(n)},"date","init")},requestDateUnrender:function(){var n=this;this.renderQueue.queue(function(){n.executeDateUnrender()},"date","destroy")},fetchInitialEvents:function(n){return this.calendar.requestEvents(n.activeRange.start,n.activeRange.end)},bindEventChanges:function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},unbindEventChanges:function(){this.stopListeningTo(this.calendar,"eventsReset")},setEvents:function(n){this.set("currentEvents",n);this.set("hasEvents",!0)},unsetEvents:function(){this.unset("currentEvents");this.unset("hasEvents")},resetEvents:function(n){this.startBatchRender();this.unsetEvents();this.setEvents(n);this.stopBatchRender()},requestEventsRender:function(n){var t=this;this.renderQueue.queue(function(){t.executeEventsRender(n)},"event","init")},requestEventsUnrender:function(){var n=this;this.renderQueue.queue(function(){n.executeEventsUnrender()},"event","destroy")},executeDateRender:function(n,t){this.setDateProfileForRendering(n);this.updateTitle();this.calendar.updateToolbarButtons();this.render&&this.render();this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator();t||this.addScroll(this.computeInitialDateScroll());this.isDatesRendered=!0;this.trigger("datesRendered")},executeDateUnrender:function(){this.unselect();this.stopNowIndicator();this.trigger("before:datesUnrendered");this.unrenderBusinessHours();this.unrenderDates();this.destroy&&this.destroy();this.isDatesRendered=!1},renderDates:function(){},unrenderDates:function(){},bindBaseRenderHandlers:function(){var n=this;this.on("datesRendered.baseHandler",function(){n.onBaseRender()});this.on("before:datesUnrendered.baseHandler",function(){n.onBeforeBaseUnrender()})},unbindBaseRenderHandlers:function(){this.off(".baseHandler")},onBaseRender:function(){this.applyScreenState();this.publiclyTrigger("viewRender",this,this,this.el)},onBeforeBaseUnrender:function(){this.applyScreenState();this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(e.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},unbindGlobalHandlers:function(){this.stopListeningTo(e.get())},initThemingProps:function(){var n=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=n+"-widget-header";this.widgetContentClass=n+"-widget-content";this.highlightStateClass=n+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var i,r,n,u=this;this.opt("nowIndicator")&&(i=this.getNowIndicatorUnit())&&(r=st(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,n=this.initialNowDate.clone().startOf(i).add(1,i)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){u.nowIndicatorTimeoutID=null;r();n=+t.duration(1,i);n=Math.max(100,n);u.nowIndicatorIntervalID=setInterval(r,n)},n))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(n){var t;n&&(t=this.queryScroll());this.updateHeight(n);this.updateWidth(n);this.updateNowIndicator();n&&this.applyScroll(t)},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},addForcedScroll:function(t){this.addScroll(n.extend(t,{isForced:!0}))},addScroll:function(t){var i=this.queuedScroll||(this.queuedScroll={});i.isForced||n.extend(i,t)},popScroll:function(){this.applyQueuedScroll();this.queuedScroll=null},applyQueuedScroll:function(){this.queuedScroll&&this.applyScroll(this.queuedScroll)},queryScroll:function(){var t={};return this.isDatesRendered&&n.extend(t,this.queryDateScroll()),t},applyScroll:function(n){this.isDatesRendered&&this.applyDateScroll(n)},computeInitialDateScroll:function(){return{}},queryDateScroll:function(){return{}},applyDateScroll:function(){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},executeEventsRender:function(n){this.renderEvents(n);this.isEventsRendered=!0;this.onEventsRender()},executeEventsUnrender:function(){this.onBeforeEventsUnrender();this.destroyEvents&&this.destroyEvents();this.unrenderEvents();this.isEventsRendered=!1},onEventsRender:function(){this.applyScreenState();this.renderedEventSegEach(function(n){this.publiclyTrigger("eventAfterRender",n.event,n.event,n.el)});this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.applyScreenState();this.renderedEventSegEach(function(n){this.publiclyTrigger("eventDestroy",n.event,n.event,n.el)})},applyScreenState:function(){this.thawHeight();this.freezeHeight();this.applyQueuedScroll()},renderEvents:function(){},unrenderEvents:function(){},resolveEventEl:function(t,i){var r=this.publiclyTrigger("eventRender",t,t,i);return!1===r?i=null:r&&!0!==r&&(i=n(r)),i},showEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","hidden")},n)},renderedEventSegEach:function(n,t){for(var r=this.getEventSegs(),i=0;i<r.length;i++)t&&r[i].event._id!==t._id||r[i].el&&n.call(this,r[i])},getEventSegs:function(){return[]},isEventDraggable:function(n){return this.isEventStartEditable(n)},isEventStartEditable:function(n){return f(n.startEditable,(n.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(n))},isEventGenerallyEditable:function(n){return f(n.editable,(n.source||{}).editable,this.opt("editable"))},reportSegDrop:function(n,t,i,r,u){var f=this.calendar,e=f.mutateSeg(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventDrop(n.event,e.dateDelta,o,r,u);f.reportEventChange()},triggerEventDrop:function(n,t,i,r,u){this.publiclyTrigger("eventDrop",r[0],n,t,i,u,{})},reportExternalDrop:function(t,i,r,u,f){var e,o,s=t.eventProps;s&&(e=n.extend({},s,i),o=this.calendar.renderEvent(e,t.stick)[0]);this.triggerExternalDrop(o,i,r,u,f)},triggerExternalDrop:function(n,t,i,r,u){this.publiclyTrigger("drop",i[0],t.start,r,u);n&&this.publiclyTrigger("eventReceive",null,n)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(n){return this.opt("eventResizableFromStart")&&this.isEventResizable(n)},isEventResizableFromEnd:function(n){return this.isEventResizable(n)},isEventResizable:function(n){var t=n.source||{};return f(n.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),n.editable,t.editable,this.opt("editable"))},reportSegResize:function(n,t,i,r,u){var f=this.calendar,e=f.mutateSeg(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventResize(n.event,e.durationDelta,o,r,u);f.reportEventChange()},triggerEventResize:function(n,t,i,r,u){this.publiclyTrigger("eventResize",r[0],n,t,i,u,{})},select:function(n,t){this.unselect(t);this.renderSelection(n);this.reportSelection(n,t)},renderSelection:function(){},reportSelection:function(n,t){this.isSelected=!0;this.triggerSelect(n,t)},triggerSelect:function(n,t){this.publiclyTrigger("select",null,this.calendar.applyTimezone(n.start),this.calendar.applyTimezone(n.end),t)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",null,n))},unrenderSelection:function(){},selectEvent:function(n){this.selectedEvent&&this.selectedEvent===n||(this.unselectEvent(),this.renderedEventSegEach(function(n){n.el.addClass("fc-selected")},n),this.selectedEvent=n)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(n){n.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(n){return this.selectedEvent&&this.selectedEvent._id===n._id},handleDocumentMousedown:function(n){or(n)&&this.processUnselect(n)},processUnselect:function(n){this.processRangeUnselect(n);this.processEventUnselect(n)},processRangeUnselect:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&((i=this.opt("unselectCancel"))&&n(t.target).closest(i).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(n(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(n,t,i){this.publiclyTrigger("dayClick",t,this.calendar.applyTimezone(n.start),i)},computeDayRange:function(n){var u,r=n.start.clone().stripTime(),i=n.end,t=null;return i&&(t=i.clone().stripTime(),(u=+i.time())&&u>=this.nextDayThreshold&&t.add(1,"days")),(!i||t<=r)&&(t=r.clone().add(1,"days")),{start:r,end:t}},isMultiDayEvent:function(n){var t=this.computeDayRange(n);return t.end.diff(t.start,"days")>1}});c.watch("displayingDates",["dateProfile"],function(n){this.requestDateRender(n.dateProfile)},function(){this.requestDateUnrender()});c.watch("initialEvents",["dateProfile"],function(n){return this.fetchInitialEvents(n.dateProfile)});c.watch("bindingEvents",["initialEvents"],function(n){this.setEvents(n.initialEvents);this.bindEventChanges()},function(){this.unbindEventChanges();this.unsetEvents()});c.watch("displayingEvents",["displayingDates","hasEvents"],function(){this.requestEventsRender(this.get("currentEvents"))},function(){this.requestEventsUnrender()});c.mixin({currentRange:null,currentRangeUnit:null,renderRange:null,activeRange:null,validRange:null,dateIncrement:null,minTime:null,maxTime:null,usesMinMaxTime:!1,start:null,end:null,intervalStart:null,intervalEnd:null,setDateProfileForRendering:function(n){this.currentRange=n.currentRange;this.currentRangeUnit=n.currentRangeUnit;this.renderRange=n.renderRange;this.activeRange=n.activeRange;this.validRange=n.validRange;this.dateIncrement=n.dateIncrement;this.minTime=n.minTime;this.maxTime=n.maxTime;this.start=n.activeRange.start;this.end=n.activeRange.end;this.intervalStart=n.currentRange.start;this.intervalEnd=n.currentRange.end},buildPrevDateProfile:function(n){var t=n.clone().startOf(this.currentRangeUnit).subtract(this.dateIncrement);return this.buildDateProfile(t,-1)},buildNextDateProfile:function(n){var t=n.clone().startOf(this.currentRangeUnit).add(this.dateIncrement);return this.buildDateProfile(t,1)},buildDateProfile:function(n,i,r){var u,o,f,c,e=this.buildValidRange(),s=null,h=null;return r&&(n=si(n,e)),u=this.buildCurrentRangeInfo(n,i),o=this.buildRenderRange(u.range,u.unit),f=kr(o),this.opt("showNonCurrentDates")||(f=dr(f,u.range)),s=t.duration(this.opt("minTime")),h=t.duration(this.opt("maxTime")),this.adjustActiveRange(f,s,h),f=dr(f,e),n=si(n,f),c=wf(u.range,e),{validRange:e,currentRange:u.range,currentRangeUnit:u.unit,activeRange:f,renderRange:o,minTime:s,maxTime:h,isValid:c,date:n,dateIncrement:this.buildDateIncrement(u.duration)}},buildValidRange:function(){return this.getRangeOption("validRange",this.calendar.getNow())||{}},buildCurrentRangeInfo:function(n,t){var f,u=null,i=null,r=null;return this.viewSpec.duration?(u=this.viewSpec.duration,i=this.viewSpec.durationUnit,r=this.buildRangeFromDuration(n,t,u,i)):(f=this.opt("dayCount"))?(i="day",r=this.buildRangeFromDayCount(n,t,f)):(r=this.buildCustomVisibleRange(n))?i=pt(r.start,r.end):(u=this.getFallbackDuration(),i=pt(u),r=this.buildRangeFromDuration(n,t,u,i)),this.normalizeCurrentRange(r,i),{duration:u,unit:i,range:r}},getFallbackDuration:function(){return t.duration({days:1})},normalizeCurrentRange:function(n,t){/^(year|month|week|day)$/.test(t)?(n.start.stripTime(),n.end.stripTime()):(n.start.hasTime()||n.start.time(0),n.end.hasTime()||n.end.time(0))},adjustActiveRange:function(n,t,i){var r=!1;this.usesMinMaxTime&&(t<0&&(n.start.time(0).add(t),r=!0),i>864e5&&(n.end.time(i-864e5),r=!0),r&&(n.start.hasTime()||n.start.time(0),n.end.hasTime()||n.end.time(0)))},buildRangeFromDuration:function(n,i,r,u){var h,e,s,o=this.opt("dateAlignment"),f=n.clone();return r.as("days")<=1&&this.isHiddenDay(f)&&(f=this.skipHiddenDays(f,i),f.startOf("day")),o||(e=this.opt("dateIncrement"),e?(s=t.duration(e),o=s<r?br(s,e):u):o=u),f.startOf(o),h=f.clone().add(r),{start:f,end:h}},buildRangeFromDayCount:function(n,t,i){var u,f=this.opt("dateAlignment"),e=0,r=n.clone();f&&r.startOf(f);r.startOf("day");r=this.skipHiddenDays(r,t);u=r.clone();do u.add(1,"day"),this.isHiddenDay(u)||e++;while(e<i);return{start:r,end:u}},buildCustomVisibleRange:function(n){var t=this.getRangeOption("visibleRange",this.calendar.moment(n));return!t||t.start&&t.end?t:null},buildRenderRange:function(n){return this.trimHiddenDays(n)},buildDateIncrement:function(n){var i,r=this.opt("dateIncrement");return r?t.duration(r):(i=this.opt("dateAlignment"))?t.duration(1,i):n||t.duration({days:1})},trimHiddenDays:function(n){return{start:this.skipHiddenDays(n.start),end:this.skipHiddenDays(n.end,-1,!0)}},currentRangeAs:function(n){var t=this.currentRange;return t.end.diff(t.start,n,!0)},getRangeOption:function(n){var t=this.opt(n);if("function"==typeof t&&(t=t.apply(null,Array.prototype.slice.call(arguments,1))),t)return this.calendar.parseRange(t)},initHiddenDays:function(){var t,i=this.opt("hiddenDays")||[],r=[],u=0;for(!1===this.opt("weekends")&&i.push(0,6),t=0;t<7;t++)(r[t]=-1!==n.inArray(t,i))||u++;if(!u)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(n){return t.isMoment(n)&&(n=n.day()),this.isHiddenDayHash[n]},skipHiddenDays:function(n,t,i){var r=n.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r}});ii=i.Scroller=o.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(n){n=n||{};this.overflowX=n.overflowX||n.overflow||"auto";this.overflowY=n.overflowY||n.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return this.scrollEl=n('<div class="fc-scroller"><\/div>')},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(n){var t=this.overflowX,i=this.overflowY;n=n||this.getScrollbarWidths();"auto"===t&&(t=n.top||n.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden");"auto"===i&&(i=n.left||n.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden");this.scrollEl.css({"overflow-x":t,"overflow-y":i})},setHeight:function(n){this.scrollEl.height(n)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(n){this.scrollEl.scrollTop(n)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return ei(this.scrollEl)}});vu.prototype.proxyCall=function(n){var i=Array.prototype.slice.call(arguments,1),t=[];return this.items.forEach(function(r){t.push(r[n].apply(r,i))}),t};r=i.Calendar=o.extend(ni,{view:null,viewsByType:null,currentDate:null,loadingLevel:0,constructor:function(n,t){e.needed();this.el=n;this.viewsByType={};this.viewSpecCache={};this.initOptionsInternals(t);this.initMomentInternals();this.initCurrentDate();ve.call(this);this.initialize()},initialize:function(){},getCalendar:function(){return this},getView:function(){return this.view},publiclyTrigger:function(n,t){var i=Array.prototype.slice.call(arguments,2),r=this.opt(n);if(t=t||this.el[0],this.triggerWith(n,t,i),r)return r.apply(t,i)},instantiateView:function(n){var t=this.getViewSpec(n);return new t.class(this,t)},isValidViewType:function(n){return Boolean(this.getViewSpec(n))},changeView:function(n,t){t&&(t.start&&t.end?this.recordOptionOverrides({visibleRange:t}):this.currentDate=this.moment(t).stripZone());this.renderView(n)},zoomTo:function(n,t){var i;t=t||"day";i=this.getViewSpec(t)||this.getUnitViewSpec(t);this.currentDate=n.clone();this.renderView(i?i.type:null)},initCurrentDate:function(){var n=this.opt("defaultDate");this.currentDate=null!=n?this.moment(n).stripZone():this.getNow()},prev:function(){var n=this.view.buildPrevDateProfile(this.currentDate);n.isValid&&(this.currentDate=n.date,this.renderView())},next:function(){var n=this.view.buildNextDateProfile(this.currentDate);n.isValid&&(this.currentDate=n.date,this.renderView())},prevYear:function(){this.currentDate.add(-1,"years");this.renderView()},nextYear:function(){this.currentDate.add(1,"years");this.renderView()},today:function(){this.currentDate=this.getNow();this.renderView()},gotoDate:function(n){this.currentDate=this.moment(n).stripZone();this.renderView()},incrementDate:function(n){this.currentDate.add(t.duration(n));this.renderView()},getDate:function(){return this.applyTimezone(this.currentDate)},pushLoading:function(){this.loadingLevel++||this.publiclyTrigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.publiclyTrigger("loading",null,!1,this.view)},select:function(){this.view.select(this.buildSelectSpan.apply(this,arguments))},unselect:function(){this.view&&this.view.unselect()},buildSelectSpan:function(n,t){var r,i=this.moment(n).stripZone();return r=t?this.moment(t).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:r}},parseRange:function(n){var t=null,i=null;return n.start&&(t=this.moment(n.start).stripZone()),n.end&&(i=this.moment(n.end).stripZone()),t||i?t&&i&&i.isBefore(t)?null:{start:t,end:i}:null},rerenderEvents:function(){this.elementVisible()&&this.reportEventChange()}});r.mixin({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,optionsModel:null,initOptionsInternals:function(t){this.overrides=n.extend({},t);this.dynamicOverrides={};this.optionsModel=new nt;this.populateOptionsHash()},option:function(n,t){var i;if("string"==typeof n){if(void 0===t)return this.optionsModel.get(n);i={};i[n]=t;this.setOptions(i)}else"object"==typeof n&&this.setOptions(n)},opt:function(n){return this.optionsModel.get(n)},setOptions:function(n){var t,i=0;this.recordOptionOverrides(n);for(t in n)i++;if(1===i){if("height"===t||"contentHeight"===t||"aspectRatio"===t)return void this.updateSize(!0);if("defaultDate"===t)return;if("businessHours"===t)return void(this.view&&(this.view.unrenderBusinessHours(),this.view.renderBusinessHours()));if("timezone"===t)return this.rezoneArrayEventSources(),void this.refetchEvents()}this.renderHeader();this.renderFooter();this.viewsByType={};this.reinitView()},populateOptionsHash:function(){var t,n,e,i,u;t=f(this.dynamicOverrides.locale,this.overrides.locale);n=b[t];n||(t=r.defaults.locale,n=b[t]||{});e=f(this.dynamicOverrides.isRTL,this.overrides.isRTL,n.isRTL,r.defaults.isRTL);i=e?r.rtlDefaults:{};this.dirDefaults=i;this.localeDefaults=n;u=rt([r.defaults,i,n,this.overrides,this.dynamicOverrides]);pu(u);this.optionsModel.reset(u)},recordOptionOverrides:function(n){for(var t in n)this.dynamicOverrides[t]=n[t];this.viewSpecCache={};this.populateOptionsHash()}});r.mixin({defaultAllDayEventDuration:null,defaultTimedEventDuration:null,localeData:null,initMomentInternals:function(){var n=this;this.defaultAllDayEventDuration=t.duration(this.opt("defaultAllDayEventDuration"));this.defaultTimedEventDuration=t.duration(this.opt("defaultTimedEventDuration"));this.optionsModel.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],function(t){var f,r=t.weekNumberCalculation,u=t.firstDay,i;"iso"===r&&(r="ISO");i=ot(wu(t.locale));t.monthNames&&(i._months=t.monthNames);t.monthNamesShort&&(i._monthsShort=t.monthNamesShort);t.dayNames&&(i._weekdays=t.dayNames);t.dayNamesShort&&(i._weekdaysShort=t.dayNamesShort);null==u&&"ISO"===r&&(u=1);null!=u&&(f=ot(i._week),f.dow=u,i._week=f);"ISO"!==r&&"local"!==r&&"function"!=typeof r||(i._fullCalendar_weekCalc=r);n.localeData=i;n.currentDate&&n.localizeMoment(n.currentDate)})},moment:function(){var n;return"local"===this.opt("timezone")?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n="UTC"===this.opt("timezone")?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),this.localizeMoment(n),n},localizeMoment:function(n){n._locale=this.localeData},getIsAmbigTimezone:function(){return"local"!==this.opt("timezone")&&"UTC"!==this.opt("timezone")},applyTimezone:function(n){if(!n.hasTime())return n.clone();var i,t=this.moment(n.toArray()),r=n.time()-t.time();return r&&(i=t.clone().add(r),n.time()-i.time()==0&&(t=i)),t},getNow:function(){var n=this.opt("now");return"function"==typeof n&&(n=n()),this.moment(n).stripZone()},humanizeDuration:function(n){return n.locale(this.opt("locale")).humanize()},getEventEnd:function(n){return n.end?n.end.clone():this.getDefaultEventEnd(n.allDay,n.start)},getDefaultEventEnd:function(n,t){var i=t.clone();return n?i.stripTime().add(this.defaultAllDayEventDuration):i.add(this.defaultTimedEventDuration),this.getIsAmbigTimezone()&&i.stripZone(),i}});r.mixin({viewSpecCache:null,getViewSpec:function(n){var t=this.viewSpecCache;return t[n]||(t[n]=this.buildViewSpec(n))},getUnitViewSpec:function(t){var r,u,f;if(-1!=n.inArray(t,gt))for(r=this.header.getViewsWithButtons(),n.each(i.views,function(n){r.push(n)}),u=0;u<r.length;u++)if((f=this.getViewSpec(r[u]))&&f.singleUnit==t)return f},buildViewSpec:function(n){for(var i,f,r,e,o,c=this.overrides.views||{},l=[],a=[],h=[],u=n;u;)i=s[u],f=c[u],u=null,"function"==typeof i&&(i={"class":i}),i&&(l.unshift(i),a.unshift(i.defaults||{}),r=r||i.duration,u=u||i.type),f&&(h.unshift(f),r=r||f.duration,u=u||f.type);return i=hi(l),i.type=n,!!i.class&&(r=r||this.dynamicOverrides.duration||this.overrides.duration,r&&(e=t.duration(r),e.valueOf()&&(o=br(e,r),i.duration=e,i.durationUnit=o,1===e.as(o)&&(i.singleUnit=o,h.unshift(c[o]||{})))),i.defaults=rt(a),i.overrides=rt(h),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,n),i)},buildViewSpecOptions:function(n){n.options=rt([r.defaults,n.defaults,this.dirDefaults,this.localeDefaults,this.overrides,n.overrides,this.dynamicOverrides]);pu(n.options)},buildViewSpecButtonText:function(n,t){function i(i){var r=i.buttonText||{};return r[t]||(n.buttonTextKey?r[n.buttonTextKey]:null)||(n.singleUnit?r[n.singleUnit]:null)}n.buttonTextOverride=i(this.dynamicOverrides)||i(this.overrides)||n.overrides.buttonText;n.buttonTextDefault=i(this.localeDefaults)||i(this.dirDefaults)||n.defaults.buttonText||i(r.defaults)||(n.duration?this.humanizeDuration(n.duration):null)||t}});r.mixin({el:null,contentEl:null,suggestedViewHeight:null,windowResizeProxy:null,ignoreWindowResize:0,render:function(){this.contentEl?this.elementVisible()&&(this.calcSize(),this.renderView()):this.initialRender()},initialRender:function(){var i=this,t=this.el;t.addClass("fc");t.on("click.fc","a[data-goto]",function(t){var o=n(this),f=o.data("goto"),e=i.moment(f.date),u=f.type,r=i.view.opt("navLink"+iu(u)+"Click");"function"==typeof r?r(e,t):("string"==typeof r&&(u=r),i.zoomTo(e,u))});this.optionsModel.watch("applyingThemeClasses",["?theme"],function(n){t.toggleClass("ui-widget",n.theme);t.toggleClass("fc-unthemed",!n.theme)});this.optionsModel.watch("applyingDirClasses",["?isRTL","?locale"],function(n){t.toggleClass("fc-ltr",!n.isRTL);t.toggleClass("fc-rtl",n.isRTL)});this.contentEl=n("<div class='fc-view-container'/>").prependTo(t);this.initToolbars();this.renderHeader();this.renderFooter();this.renderView(this.opt("defaultView"));this.opt("handleWindowResize")&&n(window).resize(this.windowResizeProxy=ai(this.windowResize.bind(this),this.opt("windowResizeDelay")))},destroy:function(){this.view&&this.view.removeElement();this.toolbarsManager.proxyCall("removeElement");this.contentEl.remove();this.el.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");this.el.off(".fc");this.windowResizeProxy&&(n(window).unbind("resize",this.windowResizeProxy),this.windowResizeProxy=null);e.unneeded()},elementVisible:function(){return this.el.is(":visible")},renderView:function(t,i){this.ignoreWindowResize++;var r=this.view&&t&&this.view.type!==t;r&&(this.freezeContentHeight(),this.clearView());!this.view&&t&&(this.view=this.viewsByType[t]||(this.viewsByType[t]=this.instantiateView(t)),this.view.setElement(n("<div class='fc-view fc-"+t+"-view' />").appendTo(this.contentEl)),this.toolbarsManager.proxyCall("activateButton",t));this.view&&(i&&this.view.addForcedScroll(i),this.elementVisible()&&(this.currentDate=this.view.setDate(this.currentDate)));r&&this.thawContentHeight();this.ignoreWindowResize--},clearView:function(){this.toolbarsManager.proxyCall("deactivateButton",this.view.type);this.view.removeElement();this.view=null},reinitView:function(){this.ignoreWindowResize++;this.freezeContentHeight();var n=this.view.type,t=this.view.queryScroll();this.clearView();this.calcSize();this.renderView(n,t);this.thawContentHeight();this.ignoreWindowResize--},getSuggestedViewHeight:function(){return null===this.suggestedViewHeight&&this.calcSize(),this.suggestedViewHeight},isHeightAuto:function(){return"auto"===this.opt("contentHeight")||"auto"===this.opt("height")},updateSize:function(n){if(this.elementVisible())return n&&this._calcSize(),this.ignoreWindowResize++,this.view.updateSize(!0),this.ignoreWindowResize--,!0},calcSize:function(){this.elementVisible()&&this._calcSize()},_calcSize:function(){var t=this.opt("contentHeight"),n=this.opt("height");this.suggestedViewHeight="number"==typeof t?t:"function"==typeof t?t():"number"==typeof n?n-this.queryToolbarsHeight():"function"==typeof n?n()-this.queryToolbarsHeight():"parent"===n?this.el.parent().height()-this.queryToolbarsHeight():Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),.5))},windowResize:function(n){!this.ignoreWindowResize&&n.target===window&&this.view.renderRange&&this.updateSize(!0)&&this.view.publiclyTrigger("windowResize",this.el[0])},freezeContentHeight:function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},thawContentHeight:function(){this.contentEl.css({width:"",height:"",overflow:""})}});r.mixin({header:null,footer:null,toolbarsManager:null,initToolbars:function(){this.header=new yu(this,this.computeHeaderOptions());this.footer=new yu(this,this.computeFooterOptions());this.toolbarsManager=new vu([this.header,this.footer])},computeHeaderOptions:function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},computeFooterOptions:function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},renderHeader:function(){var n=this.header;n.setToolbarOptions(this.computeHeaderOptions());n.render();n.el&&this.el.prepend(n.el)},renderFooter:function(){var n=this.footer;n.setToolbarOptions(this.computeFooterOptions());n.render();n.el&&this.el.append(n.el)},setToolbarsTitle:function(n){this.toolbarsManager.proxyCall("updateTitle",n)},updateToolbarButtons:function(){var t=this.getNow(),n=this.view,i=n.buildDateProfile(t),r=n.buildPrevDateProfile(this.currentDate),u=n.buildNextDateProfile(this.currentDate);this.toolbarsManager.proxyCall(i.isValid&&!et(t,n.currentRange)?"enableButton":"disableButton","today");this.toolbarsManager.proxyCall(r.isValid?"enableButton":"disableButton","prev");this.toolbarsManager.proxyCall(u.isValid?"enableButton":"disableButton","next")},queryToolbarsHeight:function(){return this.toolbarsManager.items.reduce(function(n,t){return n+(t.el?t.el.outerHeight(!0):0)},0)}});r.defaults={titleRangeSeparator:" – ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3};r.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};r.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};b=i.locales={};i.datepickerLocale=function(t,i,r){var u=b[t]||(b[t]={});u.isRTL=r.isRTL;u.weekNumberTitle=r.weekHeader;n.each(de,function(n,t){u[n]=t(r)});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.locale=function(t,i){var u,f;u=b[t]||(b[t]={});i&&(u=b[t]=rt([u,i]));f=wu(t);n.each(ge,function(n,t){null==u[n]&&(u[n]=t(f,u))});r.defaults.locale=t};var de={buttonText:function(n){return{prev:li(n.prevText),next:li(n.nextText),today:li(n.currentText)}},monthYearFormat:function(n){return n.showMonthAfterYear?"YYYY["+n.yearSuffix+"] MMMM":"MMMM YYYY["+n.yearSuffix+"]"}},ge={dayOfMonthFormat:function(n,t){var i=n.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(n){return n.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"")}},no={smallDayDateFormat:function(n){return n.isRTL?"D dd":"dd D"},weekFormat:function(n){return n.isRTL?"w[ "+n.weekNumberTitle+"]":"["+n.weekNumberTitle+" ]w"},smallWeekFormat:function(n){return n.isRTL?"w["+n.weekNumberTitle+"]":"["+n.weekNumberTitle+"]w"}};i.locale("en",r.englishDefaults);i.sourceNormalizers=[];i.sourceFetchers=[];gu={dataType:"json",cache:!1};nf=1;r.prototype.mutateSeg=function(n,t){return this.mutateEvent(n.event,t)};r.prototype.normalizeEvent=function(){};r.prototype.spanContainsSpan=function(n,t){var i=n.start.clone().stripZone(),r=this.getEventEnd(n).stripZone();return t.start>=i&&t.end<=r};r.prototype.getPeerEvents=function(n,t){for(var r,u=this.getEventCache(),f=[],i=0;i<u.length;i++)r=u[i],t&&t._id===r._id||f.push(r);return f};r.prototype.isEventSpanAllowed=function(n,t){var i=t.source||{},r=this.opt("eventAllow"),u=f(t.constraint,i.constraint,this.opt("eventConstraint")),e=f(t.overlap,i.overlap,this.opt("eventOverlap"));return this.isSpanAllowed(n,u,e,t)&&(!r||!1!==r(n,t))};r.prototype.isExternalSpanAllowed=function(t,i,r){var f,u;return r&&(f=n.extend({},r,i),u=this.expandEvent(this.buildEventFromInput(f))[0]),u?this.isEventSpanAllowed(t,u):this.isSelectionSpanAllowed(t)};r.prototype.isSelectionSpanAllowed=function(n){var t=this.opt("selectAllow");return this.isSpanAllowed(n,this.opt("selectConstraint"),this.opt("selectOverlap"))&&(!t||!1!==t(n))};r.prototype.isSpanAllowed=function(n,t,i,r){var o,s,h,u,e,c;if(null!=t&&(o=this.constraintToEvents(t))){for(s=!1,u=0;u<o.length;u++)if(this.spanContainsSpan(o[u],n)){s=!0;break}if(!s)return!1}for(h=this.getPeerEvents(n,r),u=0;u<h.length;u++)if((e=h[u],this.eventIntersectsRange(e,n))&&(!1===i||"function"==typeof i&&!i(e,r)||r&&(!1===(c=f(e.overlap,(e.source||{}).overlap))||"function"==typeof c&&!c(r,e))))return!1;return!0};r.prototype.constraintToEvents=function(n){return"businessHours"===n?this.getCurrentBusinessHourEvents():"object"==typeof n?null!=n.start?this.expandEvent(this.buildEventFromInput(n)):null:this.clientEvents(n)};r.prototype.eventIntersectsRange=function(n,t){var i=n.start.clone().stripZone(),r=this.getEventEnd(n).stripZone();return t.start<r&&t.end>i};di={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};r.prototype.getCurrentBusinessHourEvents=function(n){return this.computeBusinessHourEvents(n,this.opt("businessHours"))};r.prototype.computeBusinessHourEvents=function(t,i){return!0===i?this.expandBusinessHourEvents(t,[{}]):n.isPlainObject(i)?this.expandBusinessHourEvents(t,[i]):n.isArray(i)?this.expandBusinessHourEvents(t,i,!0):[]};r.prototype.expandBusinessHourEvents=function(t,i,r){for(var u,o=this.getView(),e=[],f=0;f<i.length;f++)u=i[f],r&&!u.dow||(u=n.extend({},di,u),t&&(u.start=null,u.end=null),e.push.apply(e,this.expandEvent(this.buildEventFromInput(u),o.activeRange.start,o.activeRange.end)));return e};var gi=i.BasicView=c.extend({scroller:null,dayGridClass:at,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new ii({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){return new(this.dayGridClass.extend(to))(this)},buildRenderRange:function(n,t){var i=c.prototype.buildRenderRange.apply(this,arguments);return/^(year|month)$/.test(t)&&(i.start.startOf("week"),i.end.weekday()&&i.end.add(1,"week").startOf("week")),this.trimHiddenDays(i)},renderDates:function(){this.dayGrid.breakOnWeeks=/year|month|week/.test(this.currentRangeUnit);this.dayGrid.setRange(this.renderRange);this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0));this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),i=n('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t);this.dayGrid.setElement(i);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"><\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><\/td><\/tr><\/tbody><\/table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&"number"!=typeof n},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=ur(this.el.find(".fc-week-number")))},setHeight:function(n,t){var r,u,i=this.opt("eventLimit");this.scroller.clear();tr(this.headRowEl);this.dayGrid.removeSegPopover();i&&"number"==typeof i&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&"number"!=typeof i&&this.dayGrid.limitRows(i);t||(this.scroller.setHeight(r),u=this.scroller.getScrollbarWidths(),(u.left||u.right)&&(nr(this.headRowEl,u),r=this.computeScrollerHeight(n),this.scroller.setHeight(r)),this.scroller.lockOverflow(u))},computeScrollerHeight:function(n){return n-ri(this.el,this.scroller.el)},setGridHeight:function(n,t){t?rr(this.dayGrid.rowEls):ir(this.dayGrid.rowEls,n,!0)},computeInitialDateScroll:function(){return{top:0}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(n){void 0!==n.top&&this.scroller.setScrollTop(n.top)},hitsNeeded:function(){this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(n,t){return this.dayGrid.queryHit(n,t)},getHitSpan:function(n){return this.dayGrid.getHitSpan(n)},getHitEl:function(n){return this.dayGrid.getHitEl(n)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),to={renderHeadIntroHtml:function(){var n=this.view;return n.colWeekNumbersVisible?'<th class="fc-week-number '+n.widgetHeaderClass+'" '+n.weekNumberStyleAttr()+"><span>"+u(n.opt("weekNumberTitle"))+"<\/span><\/th>":""},renderNumberIntroHtml:function(n){var t=this.view,i=this.getCellDate(n,0);return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+">"+t.buildGotoAnchorHtml({date:i,type:"week",forceOff:1===this.colCnt},i.format("w"))+"<\/td>":""},renderBgIntroHtml:function(){var n=this.view;return n.colWeekNumbersVisible?'<td class="fc-week-number '+n.widgetContentClass+'" '+n.weekNumberStyleAttr()+"><\/td>":""},renderIntroHtml:function(){var n=this.view;return n.colWeekNumbersVisible?'<td class="fc-week-number" '+n.weekNumberStyleAttr()+"><\/td>":""}},io=i.MonthView=gi.extend({buildRenderRange:function(){var t,n=gi.prototype.buildRenderRange.apply(this,arguments);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(n,t){t&&(n*=this.rowCnt/6);ir(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});s.basic={"class":gi};s.basicDay={type:"basic",duration:{days:1}};s.basicWeek={type:"basic",duration:{weeks:1}};s.month={"class":io,duration:{months:1},defaults:{fixedWeekCount:!0}};var ro=i.AgendaView=c.extend({scroller:null,timeGridClass:ki,timeGrid:null,dayGridClass:at,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,usesMinMaxTime:!0,initialize:function(){this.timeGrid=this.instantiateTimeGrid();this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid());this.scroller=new ii({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){return new(this.timeGridClass.extend(uo))(this)},instantiateDayGrid:function(){return new(this.dayGridClass.extend(fo))(this)},renderDates:function(){this.timeGrid.setRange(this.renderRange);this.dayGrid&&this.dayGrid.setRange(this.renderRange);this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),i=n('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t);this.timeGrid.setElement(i);this.timeGrid.renderDates();this.bottomRuleEl=n('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement());this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"><\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"<\/td><\/tr><\/tbody><\/table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(n){this.timeGrid.renderNowIndicator(n)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(n){this.timeGrid.updateSize(n);c.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=ur(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r,u;this.bottomRuleEl.hide();this.scroller.clear();tr(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=eo),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),this.scroller.setHeight(r),u=this.scroller.getScrollbarWidths(),(u.left||u.right)&&(nr(this.noScrollRowEls,u),r=this.computeScrollerHeight(n),this.scroller.setHeight(r)),this.scroller.lockOverflow(u),this.timeGrid.getTotalSlatHeight()<r&&this.bottomRuleEl.show())},computeScrollerHeight:function(n){return n-ri(this.el,this.scroller.el)},computeInitialDateScroll:function(){var i=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(i);return n=Math.ceil(n),n&&n++,{top:n}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(n){void 0!==n.top&&this.scroller.setScrollTop(n.top)},hitsNeeded:function(){this.timeGrid.hitsNeeded();this.dayGrid&&this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.timeGrid.hitsNotNeeded();this.dayGrid&&this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.timeGrid.prepareHits();this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits();this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(n,t){var i=this.timeGrid.queryHit(n,t);return!i&&this.dayGrid&&(i=this.dayGrid.queryHit(n,t)),i},getHitSpan:function(n){return n.component.getHitSpan(n)},getHitEl:function(n){return n.component.getHitEl(n)},renderEvents:function(n){for(var i=[],r=[],t=0;t<n.length;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);this.timeGrid.renderEvents(r);this.dayGrid&&this.dayGrid.renderEvents(i);this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return n.start.hasTime()?this.timeGrid.renderDrag(n,t):this.dayGrid?this.dayGrid.renderDrag(n,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag();this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(n){n.start.hasTime()||n.end.hasTime()?this.timeGrid.renderSelection(n):this.dayGrid&&this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.timeGrid.unrenderSelection();this.dayGrid&&this.dayGrid.unrenderSelection()}}),uo={renderHeadIntroHtml:function(){var t,n=this.view;return n.opt("weekNumbers")?(t=this.start.format(n.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+">"+n.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},u(t))+"<\/th>"):'<th class="fc-axis '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+"><\/th>"},renderBgIntroHtml:function(){var n=this.view;return'<td class="fc-axis '+n.widgetContentClass+'" '+n.axisStyleAttr()+"><\/td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"><\/td>"}},fo={renderBgIntroHtml:function(){var n=this.view;return'<td class="fc-axis '+n.widgetContentClass+'" '+n.axisStyleAttr()+"><span>"+n.getAllDayHtml()+"<\/span><\/td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"><\/td>"}},eo=5,tf=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return s.agenda={"class":ro,defaults:{allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0}},s.agendaDay={type:"agenda",duration:{days:1}},s.agendaWeek={type:"agenda",duration:{weeks:1}},rf=c.extend({grid:null,scroller:null,initialize:function(){this.grid=new uf(this);this.scroller=new ii({overflowX:"hidden",overflowY:"auto"})},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass);this.scroller.render();this.scroller.el.appendTo(this.el);this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(n){this.scroller.setHeight(this.computeScrollerHeight(n))},computeScrollerHeight:function(n){return n-ri(this.el,this.scroller.el)},renderDates:function(){this.grid.setRange(this.renderRange)},renderEvents:function(n){this.grid.renderEvents(n)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(){return!1},isEventDraggable:function(){return!1}}),uf=v.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(n){for(var t,r=this.view,i=r.renderRange.start.clone().time(0),u=0,f=[];i<r.renderRange.end;)if(t=ft(n,{start:i,end:i.clone().add(1,"day")}),t&&(t.dayIndex=u,f.push(t)),i.add(1,"day"),u++,t&&!t.isEnd&&n.end.hasTime()&&n.end<i.clone().add(this.view.nextDayThreshold)){t.end=n.end.clone();t.isEnd=!0;break}return f},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(t,i){var r;v.prototype.handleSegClick.apply(this,arguments);n(i.target).closest("a[href]").length||(r=t.event.url)&&!i.isDefaultPrevented()&&(window.location.href=r)},renderFgSegs:function(n){return n=this.renderFgSegEls(n),n.length?this.renderSegList(n):this.renderEmptyMessage(),n},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+u(this.view.opt("noEventsMessage"))+"<\/div><\/div><\/div>")},renderSegList:function(t){for(var r,u,f=this.groupSegsByDay(t),e=n('<table class="fc-list-table"><tbody/><\/table>'),o=e.find("tbody"),i=0;i<f.length;i++)if(r=f[i])for(o.append(this.dayHeaderHtml(this.view.renderRange.start.clone().add(i,"days"))),this.sortEventSegs(r),u=0;u<r.length;u++)o.append(r[u].el);this.el.empty().append(e)},groupSegsByDay:function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],(r[i.dayIndex]||(r[i.dayIndex]=[])).push(i);return r},dayHeaderHtml:function(n){var t=this.view,i=t.opt("listDayFormat"),r=t.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+n.format("YYYY-MM-DD")+'"><td class="'+t.widgetHeaderClass+'" colspan="3">'+(i?t.buildGotoAnchorHtml(n,{"class":"fc-list-heading-main"},u(n.format(i))):"")+(r?t.buildGotoAnchorHtml(n,{"class":"fc-list-heading-alt"},u(n.format(r))):"")+"<\/td><\/tr>"},fgSegHtml:function(n){var f,t=this.view,e=["fc-list-item"].concat(this.getSegCustomClasses(n)),o=this.getSegBackgroundColor(n),i=n.event,r=i.url;return f=i.allDay?t.getAllDayHtml():t.isMultiDayEvent(i)?n.isStart||n.isEnd?u(this.getEventTimeText(n)):t.getAllDayHtml():u(this.getEventTimeText(i)),r&&e.push("fc-has-url"),'<tr class="'+e.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+t.widgetContentClass+'">'+(f||"")+"<\/td>":"")+'<td class="fc-list-item-marker '+t.widgetContentClass+'"><span class="fc-event-dot"'+(o?' style="background-color:'+o+'"':"")+'><\/span><\/td><td class="fc-list-item-title '+t.widgetContentClass+'"><a'+(r?' href="'+u(r)+'"':"")+">"+u(n.event.title||"")+"<\/a><\/td><\/tr>"}}),s.list={"class":rf,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},s.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},s.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},s.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},s.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}},i});!function(n){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],n);else if("object"==typeof exports)module.exports=n(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";n(jQuery,moment)}}(function(n,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,r){var e,o,s,k,y,rt,b,u={},d=!0,l=!1,f=!1,nt=0,ot=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],vt=["days","months","years","decades"],bt=["top","bottom","auto"],kt=["left","right","auto"],dt=["default","top","bottom"],gt={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},st={},yt=function(){return void 0!==t.tz&&void 0!==r.timeZone&&null!==r.timeZone&&""!==r.timeZone},g=function(n){var i;return i=void 0===n||null===n?t():t.isDate(n)||t.isMoment(n)?t(n):yt()?t.tz(n,rt,r.useStrict,r.timeZone):t(n,rt,r.useStrict),yt()&&i.tz(r.timeZone),i},p=function(n){if("string"!=typeof n||n.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(n){case"y":return y.indexOf("Y")!==-1;case"M":return y.indexOf("M")!==-1;case"d":return y.toLowerCase().indexOf("d")!==-1;case"h":case"H":return y.toLowerCase().indexOf("h")!==-1;case"m":return y.indexOf("m")!==-1;case"s":return y.indexOf("s")!==-1;default:return!1}},ht=function(){return p("h")||p("m")||p("s")},ct=function(){return p("y")||p("M")||p("d")},ei=function(){var t=n("<thead>").append(n("<tr>").append(n("<th>").addClass("prev").attr("data-action","previous").append(n("<span>").addClass(r.icons.previous))).append(n("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",r.calendarWeeks?"6":"5")).append(n("<th>").addClass("next").attr("data-action","next").append(n("<span>").addClass(r.icons.next)))),i=n("<tbody>").append(n("<tr>").append(n("<td>").attr("colspan",r.calendarWeeks?"8":"7")));return[n("<div>").addClass("datepicker-days").append(n("<table>").addClass("table-condensed").append(t).append(n("<tbody>"))),n("<div>").addClass("datepicker-months").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-years").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-decades").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},oi=function(){var t=n("<tr>"),i=n("<tr>"),u=n("<tr>");return p("h")&&(t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:r.tooltips.pickHour}).attr("data-action","showHours"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(n("<span>").addClass(r.icons.down))))),p("m")&&(p("h")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),u.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:r.tooltips.pickMinute}).attr("data-action","showMinutes"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(n("<span>").addClass(r.icons.down))))),p("s")&&(p("m")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),u.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:r.tooltips.pickSecond}).attr("data-action","showSeconds"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(n("<span>").addClass(r.icons.down))))),k||(t.append(n("<td>").addClass("separator")),i.append(n("<td>").append(n("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:r.tooltips.togglePeriod}))),u.append(n("<td>").addClass("separator"))),n("<div>").addClass("timepicker-picker").append(n("<table>").addClass("table-condensed").append([t,i,u]))},si=function(){var i=n("<div>").addClass("timepicker-hours").append(n("<table>").addClass("table-condensed")),r=n("<div>").addClass("timepicker-minutes").append(n("<table>").addClass("table-condensed")),u=n("<div>").addClass("timepicker-seconds").append(n("<table>").addClass("table-condensed")),t=[oi()];return p("h")&&t.push(i),p("m")&&t.push(r),p("s")&&t.push(u),t},hi=function(){var t=[];return r.showTodayButton&&t.push(n("<td>").append(n("<a>").attr({"data-action":"today",title:r.tooltips.today}).append(n("<span>").addClass(r.icons.today)))),!r.sideBySide&&ct()&&ht()&&t.push(n("<td>").append(n("<a>").attr({"data-action":"togglePicker",title:r.tooltips.selectTime}).append(n("<span>").addClass(r.icons.time)))),r.showClear&&t.push(n("<td>").append(n("<a>").attr({"data-action":"clear",title:r.tooltips.clear}).append(n("<span>").addClass(r.icons.clear)))),r.showClose&&t.push(n("<td>").append(n("<a>").attr({"data-action":"close",title:r.tooltips.close}).append(n("<span>").addClass(r.icons.close)))),n("<table>").addClass("table-condensed").append(n("<tbody>").append(n("<tr>").append(t)))},ci=function(){var t=n("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),f=n("<div>").addClass("datepicker").append(ei()),e=n("<div>").addClass("timepicker").append(si()),i=n("<ul>").addClass("list-unstyled"),u=n("<li>").addClass("picker-switch"+(r.collapse?" accordion-toggle":"")).append(hi());return r.inline&&t.removeClass("dropdown-menu"),k&&t.addClass("usetwentyfour"),p("s")&&!k&&t.addClass("wider"),r.sideBySide&&ct()&&ht()?(t.addClass("timepicker-sbs"),"top"===r.toolbarPlacement&&t.append(u),t.append(n("<div>").addClass("row").append(f.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===r.toolbarPlacement&&t.append(u),t):("top"===r.toolbarPlacement&&i.append(u),ct()&&i.append(n("<li>").addClass(r.collapse&&ht()?"collapse in":"").append(f)),"default"===r.toolbarPlacement&&i.append(u),ht()&&i.append(n("<li>").addClass(r.collapse&&ct()?"collapse":"").append(e)),"bottom"===r.toolbarPlacement&&i.append(u),t.append(i))},li=function(){var t,u={};return t=i.is("input")||r.inline?i.data():i.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(u=n.extend(!0,u,t.dateOptions)),n.each(r,function(n){var i="date"+n.charAt(0).toUpperCase()+n.slice(1);void 0!==t[i]&&(u[n]=t[i])}),u},pt=function(){var t,o=(l||i).position(),s=(l||i).offset(),u=r.widgetPositioning.vertical,e=r.widgetPositioning.horizontal;if(r.widgetParent)t=r.widgetParent.append(f);else if(i.is("input"))t=i.after(f).parent();else{if(r.inline)return void(t=i.append(f));t=i;i.children().first().after(f)}if("auto"===u&&(u=s.top+1.5*f.height()>=n(window).height()+n(window).scrollTop()&&f.height()+i.outerHeight()<s.top?"top":"bottom"),"auto"===e&&(e=t.width()<s.left+f.outerWidth()/2&&s.left+f.outerWidth()>n(window).width()?"right":"left"),"top"===u?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===e?f.addClass("pull-right"):f.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==n(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");f.css({top:"top"===u?"auto":o.top+i.outerHeight(),bottom:"top"===u?t.outerHeight()-(t===i?0:o.top):"auto",left:"left"===e?t===i?0:o.left:"auto",right:"left"===e?"auto":t.outerWidth()-i.outerWidth()-(t===i?0:o.left)})},it=function(n){"dp.change"===n.type&&(n.date&&n.date.isSame(n.oldDate)||!n.date&&!n.oldDate)||i.trigger(n)},ut=function(n){"y"===n&&(n="YYYY");it({type:"dp.update",change:n,viewDate:o.clone()})},ft=function(n){f&&(n&&(b=Math.max(nt,Math.min(3,b+n))),f.find(".datepicker > div").hide().filter(".datepicker-"+ot[b].clsName).show())},ai=function(){var t=n("<tr>"),i=o.clone().startOf("w").startOf("d");for(r.calendarWeeks===!0&&t.append(n("<th>").addClass("cw").text("#"));i.isBefore(o.clone().endOf("w"));)t.append(n("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(t)},vi=function(n){return r.disabledDates[n.format("YYYY-MM-DD")]===!0},yi=function(n){return r.enabledDates[n.format("YYYY-MM-DD")]===!0},pi=function(n){return r.disabledHours[n.format("H")]===!0},wi=function(n){return r.enabledHours[n.format("H")]===!0},c=function(t,i){if(!t.isValid()||r.disabledDates&&"d"===i&&vi(t)||r.enabledDates&&"d"===i&&!yi(t)||r.minDate&&t.isBefore(r.minDate,i)||r.maxDate&&t.isAfter(r.maxDate,i)||r.daysOfWeekDisabled&&"d"===i&&r.daysOfWeekDisabled.indexOf(t.day())!==-1||r.disabledHours&&("h"===i||"m"===i||"s"===i)&&pi(t)||r.enabledHours&&("h"===i||"m"===i||"s"===i)&&!wi(t))return!1;if(r.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var u=!1;if(n.each(r.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return u=!0,!1}),u)return!1}return!0},bi=function(){for(var i=[],t=o.clone().startOf("y").startOf("d");t.isSame(o,"y");)i.push(n("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");f.find(".datepicker-months td").empty().append(i)},ki=function(){var i=f.find(".datepicker-months"),t=i.find("th"),u=i.find("tbody").find("span");t.eq(0).find("span").attr("title",r.tooltips.prevYear);t.eq(1).attr("title",r.tooltips.selectYear);t.eq(2).find("span").attr("title",r.tooltips.nextYear);i.find(".disabled").removeClass("disabled");c(o.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled");t.eq(1).text(o.year());c(o.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled");u.removeClass("active");e.isSame(o,"y")&&!d&&u.eq(e.month()).addClass("active");u.each(function(t){c(o.clone().month(t),"M")||n(this).addClass("disabled")})},di=function(){var i=f.find(".datepicker-years"),t=i.find("th"),n=o.clone().subtract(5,"y"),u=o.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",r.tooltips.prevDecade),t.eq(1).attr("title",r.tooltips.selectDecade),t.eq(2).find("span").attr("title",r.tooltips.nextDecade),i.find(".disabled").removeClass("disabled"),r.minDate&&r.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+u.year()),r.maxDate&&r.maxDate.isBefore(u,"y")&&t.eq(2).addClass("disabled");!n.isAfter(u,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(e,"y")&&!d?" active":"")+(c(n,"y")?"":" disabled")+'">'+n.year()+"<\/span>",n.add(1,"y");i.find("td").html(s)},gi=function(){var u,s=f.find(".datepicker-decades"),i=s.find("th"),n=t({y:o.year()-o.year()%100-1}),h=n.clone().add(100,"y"),y=n.clone(),a=!1,v=!1,l="";for(i.eq(0).find("span").attr("title",r.tooltips.prevCentury),i.eq(2).find("span").attr("title",r.tooltips.nextCentury),s.find(".disabled").removeClass("disabled"),(n.isSame(t({y:1900}))||r.minDate&&r.minDate.isAfter(n,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(n.year()+"-"+h.year()),(n.isSame(t({y:2e3}))||r.maxDate&&r.maxDate.isBefore(h,"y"))&&i.eq(2).addClass("disabled");!n.isAfter(h,"y");)u=n.year()+12,a=r.minDate&&r.minDate.isAfter(n,"y")&&r.minDate.year()<=u,v=r.maxDate&&r.maxDate.isAfter(n,"y")&&r.maxDate.year()<=u,l+='<span data-action="selectDecade" class="decade'+(e.isAfter(n)&&e.year()<=u?" active":"")+(c(n,"y")||a||v?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+(n.year()+1)+" - "+(n.year()+12)+"<\/span>",n.add(12,"y");l+="<span><\/span><span><\/span><span><\/span>";s.find("td").html(l);i.eq(1).text(y.year()+1+"-"+n.year())},et=function(){var t,s,h,l=f.find(".datepicker-days"),u=l.find("th"),a=[],i=[];if(ct()){for(u.eq(0).find("span").attr("title",r.tooltips.prevMonth),u.eq(1).attr("title",r.tooltips.selectMonth),u.eq(2).find("span").attr("title",r.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),u.eq(1).text(o.format(r.dayViewHeaderFormat)),c(o.clone().subtract(1,"M"),"M")||u.eq(0).addClass("disabled"),c(o.clone().add(1,"M"),"M")||u.eq(2).addClass("disabled"),t=o.clone().startOf("M").startOf("w").startOf("d"),h=0;h<42;h++)0===t.weekday()&&(s=n("<tr>"),r.calendarWeeks&&s.append('<td class="cw">'+t.week()+"<\/td>"),a.push(s)),i=["day"],t.isBefore(o,"M")&&i.push("old"),t.isAfter(o,"M")&&i.push("new"),t.isSame(e,"d")&&!d&&i.push("active"),c(t,"d")||i.push("disabled"),t.isSame(g(),"d")&&i.push("today"),0!==t.day()&&6!==t.day()||i.push("weekend"),it({type:"dp.classify",date:t,classNames:i}),s.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+i.join(" ")+'">'+t.date()+"<\/td>"),t.add(1,"d");l.find("tbody").empty().append(a);ki();di();gi()}},nr=function(){var u=f.find(".timepicker-hours table"),t=o.clone().startOf("d"),r=[],i=n("<tr>");for(o.hour()>11&&!k&&t.hour(12);t.isSame(o,"d")&&(k||o.hour()<12&&t.hour()<12||o.hour()>11);)t.hour()%4==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectHour" class="hour'+(c(t,"h")?"":" disabled")+'">'+t.format(k?"HH":"hh")+"<\/td>"),t.add(1,"h");u.empty().append(r)},tr=function(){for(var s=f.find(".timepicker-minutes table"),t=o.clone().startOf("h"),u=[],i=n("<tr>"),e=1===r.stepping?5:r.stepping;o.isSame(t,"h");)t.minute()%(4*e)==0&&(i=n("<tr>"),u.push(i)),i.append('<td data-action="selectMinute" class="minute'+(c(t,"m")?"":" disabled")+'">'+t.format("mm")+"<\/td>"),t.add(e,"m");s.empty().append(u)},ir=function(){for(var u=f.find(".timepicker-seconds table"),t=o.clone().startOf("m"),r=[],i=n("<tr>");o.isSame(t,"m");)t.second()%20==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectSecond" class="second'+(c(t,"s")?"":" disabled")+'">'+t.format("ss")+"<\/td>"),t.add(5,"s");u.empty().append(r)},rr=function(){var n,i,t=f.find(".timepicker span[data-time-component]");k||(n=f.find(".timepicker [data-action=togglePeriod]"),i=e.clone().add(e.hours()>=12?-12:12,"h"),n.text(e.format("A")),c(i,"h")?n.removeClass("disabled"):n.addClass("disabled"));t.filter("[data-time-component=hours]").text(e.format(k?"HH":"hh"));t.filter("[data-time-component=minutes]").text(e.format("mm"));t.filter("[data-time-component=seconds]").text(e.format("ss"));nr();tr();ir()},a=function(){f&&(et(),rr())},h=function(n){var t=d?null:e;if(!n)return d=!0,s.val(""),i.data("date",""),it({type:"dp.change",date:!1,oldDate:t}),void a();if(n=n.clone().locale(r.locale),yt()&&n.tz(r.timeZone),1!==r.stepping)for(n.minutes(Math.round(n.minutes()/r.stepping)*r.stepping).seconds(0);r.minDate&&n.isBefore(r.minDate);)n.add(r.stepping,"minutes");c(n)?(e=n,o=e.clone(),s.val(e.format(y)),i.data("date",e.format(y)),d=!1,a(),it({type:"dp.change",date:e.clone(),oldDate:t})):(r.keepInvalid?it({type:"dp.change",date:n,oldDate:t}):s.val(d?"":e.format(y)),it({type:"dp.error",date:n,oldDate:t}))},v=function(){var t=!1;return f?(f.find(".collapse").each(function(){var i=n(this).data("collapse");return!i||!i.transitioning||(t=!0,!1)}),t?u:(l&&l.hasClass("btn")&&l.toggleClass("active"),f.hide(),n(window).off("resize",pt),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,it({type:"dp.hide",date:e.clone()}),s.blur(),o=e.clone(),u)):u},ni=function(){h(null)},tt=function(n){return void 0===r.parseInputDate?(!t.isMoment(n)||n instanceof Date)&&(n=g(n)):n=r.parseInputDate(n),n},lt={next:function(){var n=ot[b].navFnc;o.add(ot[b].navStep,n);et();ut(n)},previous:function(){var n=ot[b].navFnc;o.subtract(ot[b].navStep,n);et();ut(n)},pickerSwitch:function(){ft(1)},selectMonth:function(t){var i=n(t.target).closest("tbody").find("span").index(n(t.target));o.month(i);b===nt?(h(e.clone().year(o.year()).month(o.month())),r.inline||v()):(ft(-1),et());ut("M")},selectYear:function(t){var i=parseInt(n(t.target).text(),10)||0;o.year(i);b===nt?(h(e.clone().year(o.year())),r.inline||v()):(ft(-1),et());ut("YYYY")},selectDecade:function(t){var i=parseInt(n(t.target).data("selection"),10)||0;o.year(i);b===nt?(h(e.clone().year(o.year())),r.inline||v()):(ft(-1),et());ut("YYYY")},selectDay:function(t){var i=o.clone();n(t.target).is(".old")&&i.subtract(1,"M");n(t.target).is(".new")&&i.add(1,"M");h(i.date(parseInt(n(t.target).text(),10)));ht()||r.keepOpen||r.inline||v()},incrementHours:function(){var n=e.clone().add(1,"h");c(n,"h")&&h(n)},incrementMinutes:function(){var n=e.clone().add(r.stepping,"m");c(n,"m")&&h(n)},incrementSeconds:function(){var n=e.clone().add(1,"s");c(n,"s")&&h(n)},decrementHours:function(){var n=e.clone().subtract(1,"h");c(n,"h")&&h(n)},decrementMinutes:function(){var n=e.clone().subtract(r.stepping,"m");c(n,"m")&&h(n)},decrementSeconds:function(){var n=e.clone().subtract(1,"s");c(n,"s")&&h(n)},togglePeriod:function(){h(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(t){var f,u=n(t.target),e=u.closest("ul"),i=e.find(".in"),o=e.find(".collapse:not(.in)");if(i&&i.length){if(f=i.data("collapse"),f&&f.transitioning)return;i.collapse?(i.collapse("hide"),o.collapse("show")):(i.removeClass("in"),o.addClass("in"));u.is("span")?u.toggleClass(r.icons.time+" "+r.icons.date):u.find("span").toggleClass(r.icons.time+" "+r.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide();f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=parseInt(n(t.target).text(),10);k||(e.hours()>=12?12!==i&&(i+=12):12===i&&(i=0));h(e.clone().hours(i));lt.showPicker.call(u)},selectMinute:function(t){h(e.clone().minutes(parseInt(n(t.target).text(),10)));lt.showPicker.call(u)},selectSecond:function(t){h(e.clone().seconds(parseInt(n(t.target).text(),10)));lt.showPicker.call(u)},clear:ni,today:function(){var n=g();c(n,"d")&&h(n)},close:v},ur=function(t){return!n(t.currentTarget).is(".disabled")&&(lt[n(t.currentTarget).data("action")].apply(u,arguments),!1)},w=function(){var t,i={year:function(n){return n.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(n){return n.date(1).hours(0).seconds(0).minutes(0)},day:function(n){return n.hours(0).seconds(0).minutes(0)},hour:function(n){return n.seconds(0).minutes(0)},minute:function(n){return n.seconds(0)}};return s.prop("disabled")||!r.ignoreReadonly&&s.prop("readonly")||f?u:(void 0!==s.val()&&0!==s.val().trim().length?h(tt(s.val().trim())):d&&r.useCurrent&&(r.inline||s.is("input")&&0===s.val().trim().length)&&(t=g(),"string"==typeof r.useCurrent&&(t=i[r.useCurrent](t)),h(t)),f=ci(),ai(),bi(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),a(),ft(),n(window).on("resize",pt),f.on("click","[data-action]",ur),f.on("mousedown",!1),l&&l.hasClass("btn")&&l.toggleClass("active"),pt(),f.show(),r.focusOnShow&&!s.is(":focus")&&s.focus(),it({type:"dp.show"}),u)},wt=function(){return f?v():w()},ti=function(n){var t,e,i,o,s=null,c=[],l={},h=n.which,a="p";st[h]=a;for(t in st)st.hasOwnProperty(t)&&st[t]===a&&(c.push(t),parseInt(t,10)!==h&&(l[t]=!0));for(t in r.keyBinds)if(r.keyBinds.hasOwnProperty(t)&&"function"==typeof r.keyBinds[t]&&(i=t.split(" "),i.length===c.length&&gt[h]===i[i.length-1])){for(o=!0,e=i.length-2;e>=0;e--)if(!(gt[i[e]]in l)){o=!1;break}if(o){s=r.keyBinds[t];break}}s&&(s.call(u,f),n.stopPropagation(),n.preventDefault())},ii=function(n){st[n.which]="r";n.stopPropagation();n.preventDefault()},ri=function(t){var i=n(t.target).val().trim(),r=i?tt(i):null;return h(r),t.stopImmediatePropagation(),!1},fr=function(){s.on({change:ri,blur:r.debug?"":v,keydown:ti,keyup:ii,focus:r.allowInputToggle?w:""});i.is("input")?s.on({focus:w}):l&&(l.on("click",wt),l.on("mousedown",!1))},er=function(){s.off({change:ri,blur:blur,keydown:ti,keyup:ii,focus:r.allowInputToggle?v:""});i.is("input")?s.off({focus:w}):l&&(l.off("click",wt),l.off("mousedown",!1))},ui=function(t){var i={};return n.each(t,function(){var n=tt(this);n.isValid()&&(i[n.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},fi=function(t){var i={};return n.each(t,function(){i[this]=!0}),!!Object.keys(i).length&&i},at=function(){var n=r.format||"L LT";y=n.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(n){var t=e.localeData().longDateFormat(n)||n;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(n){return e.localeData().longDateFormat(n)||n})});rt=r.extraFormats?r.extraFormats.slice():[];rt.indexOf(n)<0&&rt.indexOf(y)<0&&rt.push(y);k=y.toLowerCase().indexOf("a")<1&&y.replace(/\[.*?\]/g,"").indexOf("h")<1;p("y")&&(nt=2);p("M")&&(nt=1);p("d")&&(nt=0);b=Math.max(nt,b);d||h(e)};if(u.destroy=function(){v();er();i.removeData("DateTimePicker");i.removeData("date")},u.toggle=wt,u.show=w,u.hide=v,u.disable=function(){return v(),l&&l.hasClass("btn")&&l.addClass("disabled"),s.prop("disabled",!0),u},u.enable=function(){return l&&l.hasClass("btn")&&l.removeClass("disabled"),s.prop("disabled",!1),u},u.ignoreReadonly=function(n){if(0===arguments.length)return r.ignoreReadonly;if("boolean"!=typeof n)throw new TypeError("ignoreReadonly () expects a boolean parameter");return r.ignoreReadonly=n,u},u.options=function(t){if(0===arguments.length)return n.extend(!0,{},r);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return n.extend(!0,r,t),n.each(r,function(n,t){if(void 0===u[n])throw new TypeError("option "+n+" is not recognized!");u[n](t)}),u},u.date=function(n){if(0===arguments.length)return d?null:e.clone();if(!(null===n||"string"==typeof n||t.isMoment(n)||n instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return h(null===n?null:tt(n)),u},u.format=function(n){if(0===arguments.length)return r.format;if("string"!=typeof n&&("boolean"!=typeof n||n!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+n);return r.format=n,y&&at(),u},u.timeZone=function(n){if(0===arguments.length)return r.timeZone;if("string"!=typeof n)throw new TypeError("newZone() expects a string parameter");return r.timeZone=n,u},u.dayViewHeaderFormat=function(n){if(0===arguments.length)return r.dayViewHeaderFormat;if("string"!=typeof n)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return r.dayViewHeaderFormat=n,u},u.extraFormats=function(n){if(0===arguments.length)return r.extraFormats;if(n!==!1&&!(n instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return r.extraFormats=n,rt&&at(),u},u.disabledDates=function(t){if(0===arguments.length)return r.disabledDates?n.extend({},r.disabledDates):r.disabledDates;if(!t)return r.disabledDates=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return r.disabledDates=ui(t),r.enabledDates=!1,a(),u},u.enabledDates=function(t){if(0===arguments.length)return r.enabledDates?n.extend({},r.enabledDates):r.enabledDates;if(!t)return r.enabledDates=!1,a(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return r.enabledDates=ui(t),r.disabledDates=!1,a(),u},u.daysOfWeekDisabled=function(n){if(0===arguments.length)return r.daysOfWeekDisabled.splice(0);if("boolean"==typeof n&&!n)return r.daysOfWeekDisabled=!1,a(),u;if(!(n instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(r.daysOfWeekDisabled=n.reduce(function(n,t){return t=parseInt(t,10),t>6||t<0||isNaN(t)?n:(n.indexOf(t)===-1&&n.push(t),n)},[]).sort(),r.useCurrent&&!r.keepInvalid){for(var t=0;!c(e,"d");){if(e.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}h(e)}return a(),u},u.maxDate=function(n){if(0===arguments.length)return r.maxDate?r.maxDate.clone():r.maxDate;if("boolean"==typeof n&&n===!1)return r.maxDate=!1,a(),u;"string"==typeof n&&("now"!==n&&"moment"!==n||(n=g()));var t=tt(n);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+n);if(r.minDate&&t.isBefore(r.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(y));return r.maxDate=t,r.useCurrent&&!r.keepInvalid&&e.isAfter(n)&&h(r.maxDate),o.isAfter(t)&&(o=t.clone().subtract(r.stepping,"m")),a(),u},u.minDate=function(n){if(0===arguments.length)return r.minDate?r.minDate.clone():r.minDate;if("boolean"==typeof n&&n===!1)return r.minDate=!1,a(),u;"string"==typeof n&&("now"!==n&&"moment"!==n||(n=g()));var t=tt(n);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+n);if(r.maxDate&&t.isAfter(r.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(y));return r.minDate=t,r.useCurrent&&!r.keepInvalid&&e.isBefore(n)&&h(r.minDate),o.isBefore(t)&&(o=t.clone().add(r.stepping,"m")),a(),u},u.defaultDate=function(n){if(0===arguments.length)return r.defaultDate?r.defaultDate.clone():r.defaultDate;if(!n)return r.defaultDate=!1,u;"string"==typeof n&&(n="now"===n||"moment"===n?g():g(n));var t=tt(n);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+n);if(!c(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return r.defaultDate=t,(r.defaultDate&&r.inline||""===s.val().trim())&&h(r.defaultDate),u},u.locale=function(n){if(0===arguments.length)return r.locale;if(!t.localeData(n))throw new TypeError("locale() locale "+n+" is not loaded from moment locales!");return r.locale=n,e.locale(r.locale),o.locale(r.locale),y&&at(),f&&(v(),w()),u},u.stepping=function(n){return 0===arguments.length?r.stepping:(n=parseInt(n,10),(isNaN(n)||n<1)&&(n=1),r.stepping=n,u)},u.useCurrent=function(n){var t=["year","month","day","hour","minute"];if(0===arguments.length)return r.useCurrent;if("boolean"!=typeof n&&"string"!=typeof n)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof n&&t.indexOf(n.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return r.useCurrent=n,u},u.collapse=function(n){if(0===arguments.length)return r.collapse;if("boolean"!=typeof n)throw new TypeError("collapse() expects a boolean parameter");return r.collapse===n?u:(r.collapse=n,f&&(v(),w()),u)},u.icons=function(t){if(0===arguments.length)return n.extend({},r.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return n.extend(r.icons,t),f&&(v(),w()),u},u.tooltips=function(t){if(0===arguments.length)return n.extend({},r.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return n.extend(r.tooltips,t),f&&(v(),w()),u},u.useStrict=function(n){if(0===arguments.length)return r.useStrict;if("boolean"!=typeof n)throw new TypeError("useStrict() expects a boolean parameter");return r.useStrict=n,u},u.sideBySide=function(n){if(0===arguments.length)return r.sideBySide;if("boolean"!=typeof n)throw new TypeError("sideBySide() expects a boolean parameter");return r.sideBySide=n,f&&(v(),w()),u},u.viewMode=function(n){if(0===arguments.length)return r.viewMode;if("string"!=typeof n)throw new TypeError("viewMode() expects a string parameter");if(vt.indexOf(n)===-1)throw new TypeError("viewMode() parameter must be one of ("+vt.join(", ")+") value");return r.viewMode=n,b=Math.max(vt.indexOf(n),nt),ft(),u},u.toolbarPlacement=function(n){if(0===arguments.length)return r.toolbarPlacement;if("string"!=typeof n)throw new TypeError("toolbarPlacement() expects a string parameter");if(dt.indexOf(n)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+dt.join(", ")+") value");return r.toolbarPlacement=n,f&&(v(),w()),u},u.widgetPositioning=function(t){if(0===arguments.length)return n.extend({},r.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),kt.indexOf(t.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+kt.join(", ")+")");r.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),bt.indexOf(t.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+bt.join(", ")+")");r.widgetPositioning.vertical=t.vertical}return a(),u},u.calendarWeeks=function(n){if(0===arguments.length)return r.calendarWeeks;if("boolean"!=typeof n)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return r.calendarWeeks=n,a(),u},u.showTodayButton=function(n){if(0===arguments.length)return r.showTodayButton;if("boolean"!=typeof n)throw new TypeError("showTodayButton() expects a boolean parameter");return r.showTodayButton=n,f&&(v(),w()),u},u.showClear=function(n){if(0===arguments.length)return r.showClear;if("boolean"!=typeof n)throw new TypeError("showClear() expects a boolean parameter");return r.showClear=n,f&&(v(),w()),u},u.widgetParent=function(t){if(0===arguments.length)return r.widgetParent;if("string"==typeof t&&(t=n(t)),null!==t&&"string"!=typeof t&&!(t instanceof n))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return r.widgetParent=t,f&&(v(),w()),u},u.keepOpen=function(n){if(0===arguments.length)return r.keepOpen;if("boolean"!=typeof n)throw new TypeError("keepOpen() expects a boolean parameter");return r.keepOpen=n,u},u.focusOnShow=function(n){if(0===arguments.length)return r.focusOnShow;if("boolean"!=typeof n)throw new TypeError("focusOnShow() expects a boolean parameter");return r.focusOnShow=n,u},u.inline=function(n){if(0===arguments.length)return r.inline;if("boolean"!=typeof n)throw new TypeError("inline() expects a boolean parameter");return r.inline=n,u},u.clear=function(){return ni(),u},u.keyBinds=function(n){return 0===arguments.length?r.keyBinds:(r.keyBinds=n,u)},u.getMoment=function(n){return g(n)},u.debug=function(n){if("boolean"!=typeof n)throw new TypeError("debug() expects a boolean parameter");return r.debug=n,u},u.allowInputToggle=function(n){if(0===arguments.length)return r.allowInputToggle;if("boolean"!=typeof n)throw new TypeError("allowInputToggle() expects a boolean parameter");return r.allowInputToggle=n,u},u.showClose=function(n){if(0===arguments.length)return r.showClose;if("boolean"!=typeof n)throw new TypeError("showClose() expects a boolean parameter");return r.showClose=n,u},u.keepInvalid=function(n){if(0===arguments.length)return r.keepInvalid;if("boolean"!=typeof n)throw new TypeError("keepInvalid() expects a boolean parameter");return r.keepInvalid=n,u},u.datepickerInput=function(n){if(0===arguments.length)return r.datepickerInput;if("string"!=typeof n)throw new TypeError("datepickerInput() expects a string parameter");return r.datepickerInput=n,u},u.parseInputDate=function(n){if(0===arguments.length)return r.parseInputDate;if("function"!=typeof n)throw new TypeError("parseInputDate() sholud be as function");return r.parseInputDate=n,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return r.disabledTimeIntervals?n.extend({},r.disabledTimeIntervals):r.disabledTimeIntervals;if(!t)return r.disabledTimeIntervals=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return r.disabledTimeIntervals=t,a(),u},u.disabledHours=function(t){if(0===arguments.length)return r.disabledHours?n.extend({},r.disabledHours):r.disabledHours;if(!t)return r.disabledHours=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(r.disabledHours=fi(t),r.enabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var i=0;!c(e,"h");){if(e.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}h(e)}return a(),u},u.enabledHours=function(t){if(0===arguments.length)return r.enabledHours?n.extend({},r.enabledHours):r.enabledHours;if(!t)return r.enabledHours=!1,a(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(r.enabledHours=fi(t),r.disabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var i=0;!c(e,"h");){if(e.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}h(e)}return a(),u},u.viewDate=function(n){if(0===arguments.length)return o.clone();if(!n)return o=e.clone(),u;if(!("string"==typeof n||t.isMoment(n)||n instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=tt(n),ut(),u},i.is("input"))s=i;else if(s=i.find(r.datepickerInput),0===s.length)s=i.find("input");else if(!s.is("input"))throw new Error('CSS class "'+r.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(l=0===i.find(".datepickerbutton").length?i.find(".input-group-addon"):i.find(".datepickerbutton")),!r.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e=g(),o=e.clone(),n.extend(!0,r,li()),u.options(r),at(),fr(),s.prop("disabled")&&u.disable(),s.is("input")&&0!==s.val().trim().length?h(tt(s.val().trim())):r.defaultDate&&void 0===s.attr("placeholder")&&h(r.defaultDate),r.inline&&w(),u};return n.fn.datetimepicker=function(t){t=t||{};var r,f=Array.prototype.slice.call(arguments,1),u=!0;if("object"==typeof t)return this.each(function(){var u,r=n(this);r.data("DateTimePicker")||(u=n.extend(!0,{},n.fn.datetimepicker.defaults,t),r.data("DateTimePicker",i(r,u)))});if("string"==typeof t)return this.each(function(){var e=n(this),i=e.data("DateTimePicker");if(!i)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');r=i[t].apply(i,f);u=r===i}),u||n.inArray(t,["destroy","hide","show","toggle"])>-1?this:r;throw new TypeError("Invalid arguments for DateTimePicker: "+t);},n.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(n){if(!n)return void this.show();var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(n){n&&n.find(".timepicker").is(":visible")&&n.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},n.fn.datetimepicker}),function(){function n(){function t(){function e(n){var u=n.split(":"),t=parseInt(u[0]),r=parseInt(u[1]),f=t>=12?"PM":"AM",i;return i=t==0?t+12:t>12?t-12:t,(i>9?i:"0"+i)+":"+(r>9?r:"0"+r)+f}function o(){n.find("#divBody").empty();t&&$.ajax({type:"GET",url:domain+"MeetingRoom/AddTimeSlot",data:{eventID:t.eventID},success:function(i){var f;n.find("#divBody").empty().html(i);n.find("#hdEventID").val(t.eventID);n.find("#txtSelectedDate").val(t.start.format("DD/MM/YYYY"));n.find("#txtCRoom").val(t.conferenceRoomId);n.find("#txtTitle").val(t.title2);n.find("#txtDescription").val(t.description);n.find("#txtAttendee").val(t.attendee);var s=e(t.start.format("HH:mm")),o=e(t.end.format("HH:mm")),r=!1,u=!1;n.find("input.clsCheck[type=checkbox]").each(function(){if(!r||!u){var n=$(this),t=n.val().split("-"),f=t[0].trim(),i=t[1].trim();f===s?(n.prop("checked",!0).change(),r=!0,i===o&&(u=!0)):r&&(n.prop("checked",!0).change(),i===o&&(u=!0))}});f=t.start.format("DD/MM/YYYY");t.conferenceRoomId&&f&&c(t.conferenceRoomId,f,t.eventID);n.modal()},error:function(){alert("failed")}})}function s(t){$.ajax({type:"POST",url:domain+"MeetingRoom/SaveEvent",data:t,success:function(t){t.status?($("#calender").fullCalendar("refetchEvents"),n.modal("hide")):alert("This meeting room is already booked for this time slot")},error:function(){alert("Failed")}})}function h(n){var i=n,t;for(i.sort(function(n,t){return n-t}),t=1;t<i.length;t++)if(i[t]!=i[t-1]+1)return!1;return!0}function c(n,t,i){parseInt(n)>0&&t&&parseInt(i)>=0&&$.ajax({url:domain+"MeetingRoom/GetDisabledTimeSlot",data:{roomId:n,date:t,bookingId:i},dataType:"json",type:"GET",error:function(){alert(" An error occurred.")},success:function(n){var t=n.split("#");$("input[name='TimeSlot']").prop("disabled",!1);t&&t.length&&$.each(t,function(n,t){$("#timeSlot_"+t).prop("disabled",!0);$("#timeSlot_"+t).prop("checked",!1);$("#timeSlot_"+t).change();$(".lbltimeslot_"+t).css("background-color","rgba(241, 131, 131, 0.35)")})}})}var u="month",f=moment(),t=null,r=$("#CRId"),n=$("#modal_booking"),i=$("#modal_details");$(".date").datetimepicker({minDate:new Date,stepping:30,enabledHours:[9,10,11,12,13,14,15,16,17,18,19,20],format:"DD/MM/YYYY HH:mm"});r.change(function(){$("#calender").fullCalendar("refetchEvents")});$("#calender").fullCalendar({minTime:"07:00:00",maxTime:"21:00:00",slotDuration:"00:30:00",slotLabelInterval:30,slotMinutes:30,slotLabelFormat:"hh:mmA",firstDay:1,allDaySlot:!1,timezone:"local",contentHeight:808,defaultDate:f,defaultView:u,timeFormat:"H(:mm)",header:{left:"prev,next today",center:"title",right:"month,basicWeek,agenda"},buttonText:{agenda:"day"},slotEventOverlap:!1,disableResizing:!1,eventDurationEditable:!1,eventStartEditable:!1,disableDragging:!1,eventLimit:!0,views:{month:{eventLimit:3}},eventColor:"#378006",eventSources:[{url:domain+"MeetingRoom/GetEvents",data:function(){return{id:r.val()}},success:function(n){var t=[];return console.log(n),$.each(n,function(n,i){t.push({eventID:i.eventID,title3:i.subjectTitle,title:i.meetingSubject+" "+i.meetingTime+"<br> ["+i.location+"]  <b>"+i.createdBy+"<\/b> (Host)",title1:i.subject,title2:i.meetingSubject,location:i.location,conferenceRoomId:i.conferenceRoomId,createdby:i.createdBy,description:i.description,start:i.start,end:i.end,attendee:i.attendee,color:"white",className:i.themeColor,isdeletedallow:i.isDeletedAllow,timedifference:i.timeDifference})}),console.log(t),t},failure:function(){alert("There was an error while fetching meetings!")}}],displayEventTime:!1,columnHeaderFormat:{basicWeek:"MMM D YYYY"},viewRender:function(n){u=n.name;f=n.intervalStart},eventClick:function(n){var r,u;t=n;r=$("<div/>");r.append('<h5 class="schedule-title">'+n.title2+"<\/h5>");r.append('<div class="schedule-time meetingtime"><span class="fa fa-clock-o"><\/span>'+n.start.format("DD/MM/YYYY")+' <span class="meeting-clock-hr">'+n.start.format("hh:mm A")+" | "+n.timedifference+"<\/span><\/div>");r.append('<div class="schedule-time"><span class="fa fa-map-marker"><\/span>'+n.location+"<\/div>");r.append('<div class="schedule-time"><span class="fa fa-user"><\/span>'+n.createdby+"<\/div>");r.append('<div class="schedule-time"><span class="fa fa-group"><\/span><b> Attendees: <\/b>'+n.attendee+"<\/div>");r.append('<div class="schedule-time"><span class="fa fa-pencil-square-o"><\/span><b> Agenda: <\/b>'+n.description+"<\/div>");i.find("#pDetails").empty().html(r);u="";n.isdeletedallow&&(u='<button id="btnCancel" class="btn cancelmeeting-btn pull-left"><i class="fa fa-close"><\/i> Cancel Meeting<\/button><button id="btnEdit" class="btn btn-default"><i class="fa fa-pencil"><\/i> Edit<\/button>');u+='<button type="button" class="btn btn-default" data-dismiss="modal">Close<\/button>';i.find("#editCancelBtns").empty().html(u);i.modal()},eventRender:function(n,t){t.find(".fc-title").html(n.title)},selectable:!0,select:function(n,i){var u=new Date(n).toDateString("yyyy-MM-dd"),f=(new Date).toDateString("yyyy-MM-dd");(n>new Date||u==f)&&(t={eventID:0,title:"",description:"",start:n,end:i,allDay:!1,color:"",attendee:"",conferenceRoomId:r.val()},o(),$("#calendar").fullCalendar("unselect"))},editable:!0,eventDrop:function(n){var t={EventID:n.eventID,Subject:n.title,AttendeeName:n.attendee,Start:n.start.format("DD/MM/YYYY hh:mm A"),End:n.end!=null?n.end.format("DD/MM/YYYY hh:mm A"):null,Description:n.description,ThemeColor:n.color,IsFullDay:n.allDay};s(t)}});i.on("click","#btnEdit",function(){i.modal("hide");setTimeout(function(){o()},500)});i.on("click","#btnCancel",function(){t!=null&&confirm("Are you sure you want to cancel this meeting?")&&$.ajax({type:"POST",url:domain+"MeetingRoom/DeleteEvent",data:{eventID:t.eventID},success:function(n){n.status&&($("#calender").fullCalendar("refetchEvents"),i.modal("hide"))},error:function(){alert("Failed")}})});$("#dtp1,#dtp2").datetimepicker({format:"DD/MM/YYYY hh:mm A"});$("#chkIsFullDay").change(function(){$(this).is(":checked")?$("#divEndDate").hide():$("#divEndDate").show()});n.on("click","#btnSave",function(){var i=[],r,t;if($("input:checkbox[name=TimeSlot]:checked").each(function(){var n=this.id.toString(),t=n.split("_")[1].trim();i.push(parseInt(t))}),r=h(i),t=n.find("#txtCRoom").val(),t=="0"||t==""||t==null){alert("Please select meeting room");return}if(n.find("#txtSelectedDate").val().trim()==""){alert("Meeting date required");return}if(n.find("#txtTitle").val().trim()==""){alert("Meeting title required");return}if(n.find("#txtAttendee").val().trim()==""){alert("Attendees name required");return}if(n.find("#txtDescription").val().trim()==""){alert("Agenda required");return}if(n.find("#hdChkCount").val().trim()==""||$("#hdChkCount").val().trim()=="0"){alert("Time slot required");return}if(r==!1){alert("Please select time slot continue...");return}var u=n.find('input[name="TimeSlot"]:checked:first').val(),f=n.find('input[name="TimeSlot"]:checked:last').val(),e={EventID:n.find("#hdEventID").val(),AttendeeName:n.find("#txtAttendee").val().trim(),Start:n.find("#txtSelectedDate").val().trim()+" "+u.split("-")[0].trim(),Date:n.find("#txtSelectedDate").val().trim(),StartTime:u.split("-")[0].trim(),EndTime:f.split("-")[1].trim(),End:n.find("#txtSelectedDate").val().trim()+" "+f.split("-")[1].trim(),Description:n.find("#txtDescription").val(),Title:n.find("#txtTitle").val(),ConferenceRoomId:t};s(e)})}var n=this;n.init=function(){t()}}$(function(){var t=new n;t.init()})}(jQuery);