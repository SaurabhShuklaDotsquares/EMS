(function(n){function t(){function r(){n(".divoverlay").removeClass("hide");t=new Global.GridHelper("#grid-appraise-table",{serverSide:!0,destroy:!0,ordering:!1,searchDelay:800,pageLength:25,bFilter:!0,bAutoWidth:!1,bLengthChange:!1,language:{searchPlaceholder:"Search By Name"},dom:'<"pull-left"f><"pull-right"l>tip',ajax:{url:domain+"appraise/index",type:"POST"},columnDefs:[{width:"5%",targets:0},{width:"40%",targets:1},{width:"20%",targets:2},{width:"20%",targets:3},{width:"10%",targets:4},{width:"5%",targets:5},],columns:[{name:"rowIndex",data:"rowIndex",title:"#",sortable:!1,searchable:!1,visible:!0},{name:"Name",data:"name",title:"EMPLOYEE NAME",sortable:!1,searchable:!1,visible:!0},{name:"Type",data:"type",title:"Type",sortable:!1,searchable:!1,visible:!0},{name:"AddedBy",data:"addedBy",title:"Added By",sortable:!1,searchable:!1,visible:!0},{name:"AddedDate",data:"addedDate",title:"Added Date",sortable:!1,searchable:!1,visible:!0},{name:"Action",data:null,title:"Action",sortable:!1,searchable:!1,render:function(t,i,r){var u="";return r.allowEditDelete&&(u=n("<a/>",{id:"editappraise",title:"edit",href:domain+"appraise/add/"+r.id,"data-toggle":"modal","data-target":"#modal-add-edit-appraise","data-backdrop":"static",html:n("<i/>",{"class":"glyphicon glyphicon-edit",style:"color:black"})}).get(0).outerHTML+"&nbsp; "+n("<a/>",{href:domain+"appraise/delete/"+r.id,id:"deleteappraise",title:"delete","data-toggle":"modal","data-target":"#modal-delete-appraise","data-backdrop":"static",html:n("<i/>",{"class":"glyphicon glyphicon-trash",style:"color:black"})}).get(0).outerHTML),u}},],fnRowCallback:function(){},fnDrawCallback:function(t){n(".divoverlay").addClass("hide");t._iDisplayLength>t.fnRecordsDisplay()?n(".dataTables_paginate").hide():n(".dataTables_paginate").show();n(".pagination .active a").css("background-color","#e99701");n(".pagination .active a").css("border-color","#e99701")}})}function u(){n("#modal-add-edit-appraise").on("loaded.bs.modal",function(){var i=n(this),r;i.find("#appraiseDate").datepicker({dateFormat:"dd/mm/yy"});i.find("input[type='radio'][name='AppraiseId']").change(function(){var n=this.value;n=="2"?(i.find("#clientAppraise").removeClass("hidden").find(":input").prop("disabled",!1),i.find("#TlComment").data("rule-required",!1).removeClass("error").blur(),i.find("#ClientComment").data("rule-required",!0)):(i.find("#clientAppraise").addClass("hidden").find(":input").prop("disabled",!0),i.find("#ClientComment").data("rule-required",!1))});i.find("input[type='radio'][name='AppraiseId']:checked").change();r=new Global.FormHelper(i.find("form"),{updateTargetId:"validation-summary",validateSettings:{ignore:[]}},null,function(n){n.isSuccess?(i.modal("hide"),t.ajax.reload(null,!1),Global.ShowMessage(n.message,!0,"MessageDiv")):Global.ShowMessage(n.message||n.errorMessage||n,!1,"validation-summary")})}).on("hidden.bs.modal",function(){n(this).removeData("bs.modal");n(this).find(".modal-content").empty()});n("#modal-delete-appraise").on("loaded.bs.modal",function(){var i=n(this),r=new Global.FormHelper(n(this).find("form"),{updateTargetId:"validation-summary",validateSettings:{ignore:""}},null,function(n){n.isSuccess?(i.modal("hide"),t.ajax.reload(null,!1),Global.ShowMessage(n.message,!0,"MessageDiv")):Global.ShowMessage(n.message||n.errorMessage||n,!1,"MessageDiv")})}).on("hidden.bs.modal",function(){n(this).removeData("bs.modal");n(this).find(".modal-content").empty()})}var i=this,t;i.init=function(){r();u()}}n(function(){var n=new t;n.init()})})(jQuery);