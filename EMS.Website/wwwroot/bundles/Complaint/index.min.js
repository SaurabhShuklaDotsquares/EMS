(function(n){function t(){function r(){n(".divoverlay").removeClass("hide");t=new Global.GridHelper("#grid-complaints-table",{serverSide:!0,destroy:!0,searchDelay:800,ordering:!1,pageLength:50,bFilter:!0,bAutoWidth:!1,bLengthChange:!1,language:{searchPlaceholder:"Search By Name"},dom:'<"pull-left"f><"pull-right"l>tip',ajax:{url:domain+"complaint/index",type:"Post"},columnDefs:[{width:"5%",targets:0},{width:"15%",targets:1},{width:"10%",targets:2},{width:"10%",targets:3},{width:"20%",targets:4},{width:"12%",targets:5},{width:"13%",targets:6},{width:"6%",targets:7},],columns:[{name:"rowIndex",data:"rowIndex",title:"#",sortable:!1,searchable:!1,visible:!0},{name:"Name",data:"name",title:"EMPLOYEE NAME",sortable:!1,searchable:!1,visible:!0},{name:"ComplaintType",data:"complaintType",title:"Complaint Type",sortable:!1,searchable:!1,visible:!0},{name:"PriorityType",data:"priorityType",title:"Priority",sortable:!1,searchable:!1,visible:!0},{name:"AreaofImprovement",data:"areaofImprovement",title:"Area of Improvement",sortable:!1,searchable:!1,visible:!0},{name:"AddedBy",data:"addedBy",title:"Added By",sortable:!1,searchable:!1,visible:!0},{name:"AddedDate",data:"addedDate",title:"Added Date",sortable:!1,searchable:!1,visible:!0},{name:"Action",data:null,title:"Action",sortable:!1,searchable:!1,render:function(t,i,r){var u=n("<a/>",{id:"editcomplaint",title:"edit",href:domain+"complaint/add/"+t.id,html:n("<i/>",{"class":"glyphicon glyphicon-edit",style:"color:black"})}).get(0).outerHTML+"&nbsp; ";return r.allowDelete&&(u+=n("<a/>",{href:domain+"complaint/delete/"+t.id,id:"deletecomplaint",title:"delete","data-toggle":"modal","data-target":"#modal-delete-complaint","data-backdrop":"static",html:n("<i/>",{"class":"glyphicon glyphicon-trash",style:"color:black"})}).get(0).outerHTML),u}},],fnRowCallback:function(){},fnDrawCallback:function(t){n(".divoverlay").addClass("hide");t._iDisplayLength>t.fnRecordsDisplay()?n(".dataTables_paginate").hide():n(".dataTables_paginate").show();n(".pagination .active a").css("background-color","#e99701");n(".pagination .active a").css("border-color","#e99701")}})}function u(){n("#modal-delete-complaint").on("loaded.bs.modal",function(){var i=n(this),r=new Global.FormHelper(n(this).find("form"),{updateTargetId:"validation-summary",validateSettings:{ignore:""}},null,function(n){n.isSuccess?(i.modal("hide"),t.ajax.reload(null,!1),Global.ShowMessage(n.message,!0,"MessageDiv")):Global.ShowMessage(n.message||n.errorMessage||n,!1,"MessageDiv")})}).on("hidden.bs.modal",function(){n(this).removeData("bs.modal");n(this).find(".modal-content").empty()})}var i=this,t;i.init=function(){r();u()}}n(function(){var n=new t;n.init()})})(jQuery);